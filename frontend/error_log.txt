
> frontend@0.1.0 start
> react-scripts start

(node:11304) [DEP0176] DeprecationWarning: fs.F_OK is deprecated, use fs.constants.F_OK instead
(Use `node --trace-deprecation ...` to show where the warning was created)
(node:11304) [DEP_WEBPACK_DEV_SERVER_ON_AFTER_SETUP_MIDDLEWARE] DeprecationWarning: 'onAfterSetupMiddleware' option is deprecated. Please use the 'setupMiddlewares' option.
(node:11304) [DEP_WEBPACK_DEV_SERVER_ON_BEFORE_SETUP_MIDDLEWARE] DeprecationWarning: 'onBeforeSetupMiddleware' option is deprecated. Please use the 'setupMiddlewares' option.
Starting the development server...

Failed to compile.

[eslint] 
src/pages/LiteratureReview.tsx
Syntax error: Declaration or statement expected (643:undefined)
ERROR in ./src/pages/LiteratureReview.tsx
Module build failed (from ./node_modules/babel-loader/lib/index.js):
SyntaxError: /workspaces/researchflow/frontend/src/pages/LiteratureReview.tsx: 'return' outside of function. (168:4)

  166 |
  167 |   if (!projectId) {
> 168 |     return <div className="card" style={{ margin: '2rem auto', maxWidth: 500, textAlign: 'center' }}>
      |     ^
  169 |       <h2>Please select or create a project to continue.</h2>
  170 |     </div>;
  171 |   }
    at constructor (/workspaces/researchflow/frontend/node_modules/@babel/parser/lib/index.js:365:19)
    at TypeScriptParserMixin.raise (/workspaces/researchflow/frontend/node_modules/@babel/parser/lib/index.js:6599:19)
    at TypeScriptParserMixin.parseReturnStatement (/workspaces/researchflow/frontend/node_modules/@babel/parser/lib/index.js:13136:12)
    at TypeScriptParserMixin.parseStatementContent (/workspaces/researchflow/frontend/node_modules/@babel/parser/lib/index.js:12798:21)
    at TypeScriptParserMixin.parseStatementContent (/workspaces/researchflow/frontend/node_modules/@babel/parser/lib/index.js:9508:18)
    at TypeScriptParserMixin.parseStatementLike (/workspaces/researchflow/frontend/node_modules/@babel/parser/lib/index.js:12767:17)
    at TypeScriptParserMixin.parseStatementListItem (/workspaces/researchflow/frontend/node_modules/@babel/parser/lib/index.js:12747:17)
    at TypeScriptParserMixin.parseBlockOrModuleBlockBody (/workspaces/researchflow/frontend/node_modules/@babel/parser/lib/index.js:13316:61)
    at TypeScriptParserMixin.parseBlockBody (/workspaces/researchflow/frontend/node_modules/@babel/parser/lib/index.js:13309:10)
    at TypeScriptParserMixin.parseBlock (/workspaces/researchflow/frontend/node_modules/@babel/parser/lib/index.js:13297:10)
    at TypeScriptParserMixin.parseStatementContent (/workspaces/researchflow/frontend/node_modules/@babel/parser/lib/index.js:12858:21)
    at TypeScriptParserMixin.parseStatementContent (/workspaces/researchflow/frontend/node_modules/@babel/parser/lib/index.js:9508:18)
    at TypeScriptParserMixin.parseStatementLike (/workspaces/researchflow/frontend/node_modules/@babel/parser/lib/index.js:12767:17)
    at TypeScriptParserMixin.parseStatementOrSloppyAnnexBFunctionDeclaration (/workspaces/researchflow/frontend/node_modules/@babel/parser/lib/index.js:12757:17)
    at TypeScriptParserMixin.parseIfStatement (/workspaces/researchflow/frontend/node_modules/@babel/parser/lib/index.js:13130:28)
    at TypeScriptParserMixin.parseStatementContent (/workspaces/researchflow/frontend/node_modules/@babel/parser/lib/index.js:12796:21)
    at TypeScriptParserMixin.parseStatementContent (/workspaces/researchflow/frontend/node_modules/@babel/parser/lib/index.js:9508:18)
    at TypeScriptParserMixin.parseStatementLike (/workspaces/researchflow/frontend/node_modules/@babel/parser/lib/index.js:12767:17)
    at TypeScriptParserMixin.parseModuleItem (/workspaces/researchflow/frontend/node_modules/@babel/parser/lib/index.js:12744:17)
    at TypeScriptParserMixin.parseBlockOrModuleBlockBody (/workspaces/researchflow/frontend/node_modules/@babel/parser/lib/index.js:13316:36)
    at TypeScriptParserMixin.parseBlockBody (/workspaces/researchflow/frontend/node_modules/@babel/parser/lib/index.js:13309:10)
    at TypeScriptParserMixin.parseProgram (/workspaces/researchflow/frontend/node_modules/@babel/parser/lib/index.js:12622:10)
    at TypeScriptParserMixin.parseTopLevel (/workspaces/researchflow/frontend/node_modules/@babel/parser/lib/index.js:12612:25)
    at TypeScriptParserMixin.parse (/workspaces/researchflow/frontend/node_modules/@babel/parser/lib/index.js:14488:25)
    at TypeScriptParserMixin.parse (/workspaces/researchflow/frontend/node_modules/@babel/parser/lib/index.js:10126:18)
    at parse (/workspaces/researchflow/frontend/node_modules/@babel/parser/lib/index.js:14522:38)
    at parser (/workspaces/researchflow/frontend/node_modules/@babel/core/lib/parser/index.js:41:34)
    at parser.next (<anonymous>)
    at normalizeFile (/workspaces/researchflow/frontend/node_modules/@babel/core/lib/transformation/normalize-file.js:64:37)
    at normalizeFile.next (<anonymous>)
    at run (/workspaces/researchflow/frontend/node_modules/@babel/core/lib/transformation/index.js:22:50)
    at run.next (<anonymous>)
    at transform (/workspaces/researchflow/frontend/node_modules/@babel/core/lib/transform.js:22:33)
    at transform.next (<anonymous>)
    at step (/workspaces/researchflow/frontend/node_modules/gensync/index.js:261:32)
    at /workspaces/researchflow/frontend/node_modules/gensync/index.js:273:13
    at async.call.result.err.err (/workspaces/researchflow/frontend/node_modules/gensync/index.js:223:11)
    at /workspaces/researchflow/frontend/node_modules/gensync/index.js:189:28
    at /workspaces/researchflow/frontend/node_modules/@babel/core/lib/gensync-utils/async.js:67:7
    at /workspaces/researchflow/frontend/node_modules/gensync/index.js:113:33
    at step (/workspaces/researchflow/frontend/node_modules/gensync/index.js:287:14)
    at /workspaces/researchflow/frontend/node_modules/gensync/index.js:273:13
    at async.call.result.err.err (/workspaces/researchflow/frontend/node_modules/gensync/index.js:223:11)

ERROR in ./src/pages/analytics/DifferenceInDifferences.tsx 13:17-31
export 'ProjectContext' (imported as 'ProjectContext') was not found in '../../context/ProjectContext' (possible exports: ProjectProvider, useProject)

ERROR in ./src/pages/analytics/InterruptedTimeSeries.tsx 13:17-31
export 'ProjectContext' (imported as 'ProjectContext') was not found in '../../context/ProjectContext' (possible exports: ProjectProvider, useProject)

ERROR in ./src/pages/analytics/MixedEffects.tsx 12:17-31
export 'ProjectContext' (imported as 'ProjectContext') was not found in '../../context/ProjectContext' (possible exports: ProjectProvider, useProject)

ERROR in ./src/pages/analytics/NetworkMetaAnalysis.tsx 12:17-31
export 'ProjectContext' (imported as 'ProjectContext') was not found in '../../context/ProjectContext' (possible exports: ProjectProvider, useProject)

ERROR in ./src/pages/analytics/SpatialAnalysis.tsx 12:17-31
export 'ProjectContext' (imported as 'ProjectContext') was not found in '../../context/ProjectContext' (possible exports: ProjectProvider, useProject)

ERROR in [eslint] 
src/pages/LiteratureReview.tsx
  Line 643:  Parsing error: Declaration or statement expected

webpack compiled with 7 errors
Files successfully emitted, waiting for typecheck results...
Issues checking in progress...
ERROR in src/App.tsx:37:8
TS1192: Module '"/workspaces/researchflow/frontend/src/pages/LiteratureReview"' has no default export.
    35 | import AIAssistant from './pages/AIAssistant';
    36 | import ProgressTracker from './pages/ProgressTracker';
  > 37 | import LiteratureReview from './pages/LiteratureReview';
       |        ^^^^^^^^^^^^^^^^
    38 | import CodebookGenerator from './pages/CodebookGenerator';
    39 | import DataVersioning from './pages/DataVersioning';
    40 | import Dashboard from './pages/Dashboard';

ERROR in src/pages/analytics/DifferenceInDifferences.tsx:2:10
TS2459: Module '"../../context/ProjectContext"' declares 'ProjectContext' locally, but it is not exported.
    1 | import React, { useState, useContext } from "react";
  > 2 | import { ProjectContext } from "../../context/ProjectContext";
      |          ^^^^^^^^^^^^^^
    3 | import { DiDResult } from "./types";
    4 | import { LineChart, Line, XAxis, YAxis, Tooltip, Legend, CartesianGrid } from "recharts";
    5 |

ERROR in src/pages/analytics/DifferenceInDifferences.tsx:7:11
TS2339: Property 'projectId' does not exist on type 'unknown'.
     5 |
     6 | const DifferenceInDifferences: React.FC = () => {
  >  7 |   const { projectId } = useContext(ProjectContext);
       |           ^^^^^^^^^
     8 |   const [datasetVersionId, setDatasetVersionId] = useState<number | null>(null);
     9 |   const [outcomeColumn, setOutcomeColumn] = useState("");
    10 |   const [groupColumn, setGroupColumn] = useState("");

ERROR in src/pages/analytics/InterruptedTimeSeries.tsx:2:10
TS2459: Module '"../../context/ProjectContext"' declares 'ProjectContext' locally, but it is not exported.
    1 | import React, { useState, useContext } from "react";
  > 2 | import { ProjectContext } from "../../context/ProjectContext";
      |          ^^^^^^^^^^^^^^
    3 | import { ITSResult } from "./types";
    4 | import { LineChart, Line, XAxis, YAxis, Tooltip, Legend, CartesianGrid } from "recharts";
    5 |

ERROR in src/pages/analytics/InterruptedTimeSeries.tsx:7:11
TS2339: Property 'projectId' does not exist on type 'unknown'.
     5 |
     6 | const InterruptedTimeSeries: React.FC = () => {
  >  7 |   const { projectId } = useContext(ProjectContext);
       |           ^^^^^^^^^
     8 |   const [datasetVersionId, setDatasetVersionId] = useState<number | null>(null);
     9 |   const [timeColumn, setTimeColumn] = useState("");
    10 |   const [outcomeColumn, setOutcomeColumn] = useState("");

ERROR in src/pages/analytics/MixedEffects.tsx:2:10
TS2459: Module '"../../context/ProjectContext"' declares 'ProjectContext' locally, but it is not exported.
    1 | import React, { useState, useContext } from "react";
  > 2 | import { ProjectContext } from "../../context/ProjectContext";
      |          ^^^^^^^^^^^^^^
    3 | import { MixedEffectsResult } from "./types";
    4 |
    5 | const MixedEffects: React.FC = () => {

ERROR in src/pages/analytics/MixedEffects.tsx:6:11
TS2339: Property 'projectId' does not exist on type 'unknown'.
    4 |
    5 | const MixedEffects: React.FC = () => {
  > 6 |   const { projectId } = useContext(ProjectContext);
      |           ^^^^^^^^^
    7 |   const [datasetVersionId, setDatasetVersionId] = useState<number | null>(null);
    8 |   const [outcomeColumn, setOutcomeColumn] = useState("");
    9 |   const [fixedEffects, setFixedEffects] = useState<string>("");

ERROR in src/pages/analytics/NetworkMetaAnalysis.tsx:2:10
TS2459: Module '"../../context/ProjectContext"' declares 'ProjectContext' locally, but it is not exported.
    1 | import React, { useState, useContext } from "react";
  > 2 | import { ProjectContext } from "../../context/ProjectContext";
      |          ^^^^^^^^^^^^^^
    3 | import { NetworkMetaResult } from "./types";
    4 |
    5 | const NetworkMetaAnalysis: React.FC = () => {

ERROR in src/pages/analytics/NetworkMetaAnalysis.tsx:6:11
TS2339: Property 'projectId' does not exist on type 'unknown'.
    4 |
    5 | const NetworkMetaAnalysis: React.FC = () => {
  > 6 |   const { projectId } = useContext(ProjectContext);
      |           ^^^^^^^^^
    7 |   const [datasetVersionId, setDatasetVersionId] = useState<number | null>(null);
    8 |   const [result, setResult] = useState<NetworkMetaResult | null>(null);
    9 |   const [error, setError] = useState<string | null>(null);

ERROR in src/pages/analytics/SpatialAnalysis.tsx:2:10
TS2459: Module '"../../context/ProjectContext"' declares 'ProjectContext' locally, but it is not exported.
    1 | import React, { useState, useContext } from "react";
  > 2 | import { ProjectContext } from "../../context/ProjectContext";
      |          ^^^^^^^^^^^^^^
    3 | import { SpatialResult } from "./types";
    4 |
    5 | const SpatialAnalysis: React.FC = () => {

ERROR in src/pages/analytics/SpatialAnalysis.tsx:6:11
TS2339: Property 'projectId' does not exist on type 'unknown'.
    4 |
    5 | const SpatialAnalysis: React.FC = () => {
  > 6 |   const { projectId } = useContext(ProjectContext);
      |           ^^^^^^^^^
    7 |   const [datasetVersionId, setDatasetVersionId] = useState<number | null>(null);
    8 |   const [result, setResult] = useState<SpatialResult | null>(null);
    9 |   const [error, setError] = useState<string | null>(null);

ERROR in src/pages/LiteratureReview.tsx:643:1
TS1128: Declaration or statement expected.
    641 |     </div>
    642 |   );
  > 643 | }
        | ^
    644 |

ERROR in src/pages/SubgroupAnalysis.tsx:312:32
TS2322: Type '(val: any, name: string) => [any, string]' is not assignable to type 'Formatter<any, string> & ((value: any, name: string, item: Payload<any, string>, index: number, payload: Payload<any, string>[]) => ReactNode | [...])'.
  Type '(val: any, name: string) => [any, string]' is not assignable to type 'Formatter<any, string>'.
    Types of parameters 'name' and 'name' are incompatible.
      Type 'string | undefined' is not assignable to type 'string'.
        Type 'undefined' is not assignable to type 'string'.
    310 |                         tickFormatter={v => measure === 'OR' ? v.toFixed(1) : v.toFixed(2)} />
    311 |                       <YAxis type="category" dataKey="name" width={75} tick={{ fontSize: 12 }} />
  > 312 |                       <Tooltip formatter={(val: any, name: string) => [
        |                                ^^^^^^^^^
    313 |                         name === 'effect' ? `${measure}: ${val}` : val, name
    314 |                       ]} />
    315 |                       <ReferenceLine x={nullVal} stroke="#888" strokeDasharray="4 3" />

ERROR in src/pages/VisualisationStudio.tsx:229:45
TS2322: Type '(({ name, percent }: { name: string; percent?: number | undefined; }) => string) | undefined' is not assignable to type 'PieLabel | undefined'.
  Type '({ name, percent }: { name: string; percent?: number | undefined; }) => string' is not assignable to type 'PieLabel | undefined'.
    Type '({ name, percent }: { name: string; percent?: number | undefined; }) => string' is not assignable to type '(props: PieLabelRenderProps) => ReactNode | ReactElement<SVGElement, string | JSXElementConstructor<any>>'.
      Types of parameters '__0' and 'props' are incompatible.
        Type 'PieLabelRenderProps' is not assignable to type '{ name: string; percent?: number | undefined; }'.
          Types of property 'name' are incompatible.
            Type 'string | undefined' is not assignable to type 'string'.
              Type 'undefined' is not assignable to type 'string'.
    227 |           <PieChart>
    228 |             <Pie data={chartData} dataKey="value" nameKey="name" cx="50%" cy="50%"
  > 229 |               outerRadius={chartHeight / 3} label={showValues ? ({ name, percent }: { name: string, percent?: number }) => `${name} ${((percent || 0) * 100).toFixed(1)}%` : undefined}
        |                                             ^^^^^
    230 |               opacity={opacity}>
    231 |               {chartData.map((_: any, index: number) => (
    232 |                 <Cell key={index} fill={palette[index % palette.length]} />

Compiling...
Failed to compile.

[eslint] 
src/pages/LiteratureReview.tsx
Syntax error: Identifier expected (207:45)
ERROR in ./src/pages/LiteratureReview.tsx
Module build failed (from ./node_modules/babel-loader/lib/index.js):
SyntaxError: /workspaces/researchflow/frontend/src/pages/LiteratureReview.tsx: 'return' outside of function. (168:4)

  166 |
  167 |   if (!projectId) {
> 168 |     return <div className="card" style={{ margin: '2rem auto', maxWidth: 500, textAlign: 'center' }}>
      |     ^
  169 |       <h2>Please select or create a project to continue.</h2>
  170 |     </div>;
  171 |   }
    at constructor (/workspaces/researchflow/frontend/node_modules/@babel/parser/lib/index.js:365:19)
    at TypeScriptParserMixin.raise (/workspaces/researchflow/frontend/node_modules/@babel/parser/lib/index.js:6599:19)
    at TypeScriptParserMixin.parseReturnStatement (/workspaces/researchflow/frontend/node_modules/@babel/parser/lib/index.js:13136:12)
    at TypeScriptParserMixin.parseStatementContent (/workspaces/researchflow/frontend/node_modules/@babel/parser/lib/index.js:12798:21)
    at TypeScriptParserMixin.parseStatementContent (/workspaces/researchflow/frontend/node_modules/@babel/parser/lib/index.js:9508:18)
    at TypeScriptParserMixin.parseStatementLike (/workspaces/researchflow/frontend/node_modules/@babel/parser/lib/index.js:12767:17)
    at TypeScriptParserMixin.parseStatementListItem (/workspaces/researchflow/frontend/node_modules/@babel/parser/lib/index.js:12747:17)
    at TypeScriptParserMixin.parseBlockOrModuleBlockBody (/workspaces/researchflow/frontend/node_modules/@babel/parser/lib/index.js:13316:61)
    at TypeScriptParserMixin.parseBlockBody (/workspaces/researchflow/frontend/node_modules/@babel/parser/lib/index.js:13309:10)
    at TypeScriptParserMixin.parseBlock (/workspaces/researchflow/frontend/node_modules/@babel/parser/lib/index.js:13297:10)
    at TypeScriptParserMixin.parseStatementContent (/workspaces/researchflow/frontend/node_modules/@babel/parser/lib/index.js:12858:21)
    at TypeScriptParserMixin.parseStatementContent (/workspaces/researchflow/frontend/node_modules/@babel/parser/lib/index.js:9508:18)
    at TypeScriptParserMixin.parseStatementLike (/workspaces/researchflow/frontend/node_modules/@babel/parser/lib/index.js:12767:17)
    at TypeScriptParserMixin.parseStatementOrSloppyAnnexBFunctionDeclaration (/workspaces/researchflow/frontend/node_modules/@babel/parser/lib/index.js:12757:17)
    at TypeScriptParserMixin.parseIfStatement (/workspaces/researchflow/frontend/node_modules/@babel/parser/lib/index.js:13130:28)
    at TypeScriptParserMixin.parseStatementContent (/workspaces/researchflow/frontend/node_modules/@babel/parser/lib/index.js:12796:21)
    at TypeScriptParserMixin.parseStatementContent (/workspaces/researchflow/frontend/node_modules/@babel/parser/lib/index.js:9508:18)
    at TypeScriptParserMixin.parseStatementLike (/workspaces/researchflow/frontend/node_modules/@babel/parser/lib/index.js:12767:17)
    at TypeScriptParserMixin.parseModuleItem (/workspaces/researchflow/frontend/node_modules/@babel/parser/lib/index.js:12744:17)
    at TypeScriptParserMixin.parseBlockOrModuleBlockBody (/workspaces/researchflow/frontend/node_modules/@babel/parser/lib/index.js:13316:36)
    at TypeScriptParserMixin.parseBlockBody (/workspaces/researchflow/frontend/node_modules/@babel/parser/lib/index.js:13309:10)
    at TypeScriptParserMixin.parseProgram (/workspaces/researchflow/frontend/node_modules/@babel/parser/lib/index.js:12622:10)
    at TypeScriptParserMixin.parseTopLevel (/workspaces/researchflow/frontend/node_modules/@babel/parser/lib/index.js:12612:25)
    at TypeScriptParserMixin.parse (/workspaces/researchflow/frontend/node_modules/@babel/parser/lib/index.js:14488:25)
    at TypeScriptParserMixin.parse (/workspaces/researchflow/frontend/node_modules/@babel/parser/lib/index.js:10126:18)
    at parse (/workspaces/researchflow/frontend/node_modules/@babel/parser/lib/index.js:14522:38)
    at parser (/workspaces/researchflow/frontend/node_modules/@babel/core/lib/parser/index.js:41:34)
    at parser.next (<anonymous>)
    at normalizeFile (/workspaces/researchflow/frontend/node_modules/@babel/core/lib/transformation/normalize-file.js:64:37)
    at normalizeFile.next (<anonymous>)
    at run (/workspaces/researchflow/frontend/node_modules/@babel/core/lib/transformation/index.js:22:50)
    at run.next (<anonymous>)
    at transform (/workspaces/researchflow/frontend/node_modules/@babel/core/lib/transform.js:22:33)
    at transform.next (<anonymous>)
    at step (/workspaces/researchflow/frontend/node_modules/gensync/index.js:261:32)
    at /workspaces/researchflow/frontend/node_modules/gensync/index.js:273:13
    at async.call.result.err.err (/workspaces/researchflow/frontend/node_modules/gensync/index.js:223:11)

ERROR in ./src/pages/analytics/DifferenceInDifferences.tsx 13:17-31
export 'ProjectContext' (imported as 'ProjectContext') was not found in '../../context/ProjectContext' (possible exports: ProjectProvider, useProject)

ERROR in ./src/pages/analytics/InterruptedTimeSeries.tsx 13:17-31
export 'ProjectContext' (imported as 'ProjectContext') was not found in '../../context/ProjectContext' (possible exports: ProjectProvider, useProject)

ERROR in ./src/pages/analytics/MixedEffects.tsx 12:17-31
export 'ProjectContext' (imported as 'ProjectContext') was not found in '../../context/ProjectContext' (possible exports: ProjectProvider, useProject)

ERROR in ./src/pages/analytics/NetworkMetaAnalysis.tsx 12:17-31
export 'ProjectContext' (imported as 'ProjectContext') was not found in '../../context/ProjectContext' (possible exports: ProjectProvider, useProject)

ERROR in ./src/pages/analytics/SpatialAnalysis.tsx 12:17-31
export 'ProjectContext' (imported as 'ProjectContext') was not found in '../../context/ProjectContext' (possible exports: ProjectProvider, useProject)

ERROR in [eslint] 
src/pages/LiteratureReview.tsx
  Line 207:45:  Parsing error: Identifier expected

webpack compiled with 7 errors
ERROR in src/App.tsx:37:8
TS1192: Module '"/workspaces/researchflow/frontend/src/pages/LiteratureReview"' has no default export.
    35 | import AIAssistant from './pages/AIAssistant';
    36 | import ProgressTracker from './pages/ProgressTracker';
  > 37 | import LiteratureReview from './pages/LiteratureReview';
       |        ^^^^^^^^^^^^^^^^
    38 | import CodebookGenerator from './pages/CodebookGenerator';
    39 | import DataVersioning from './pages/DataVersioning';
    40 | import Dashboard from './pages/Dashboard';

ERROR in src/pages/analytics/DifferenceInDifferences.tsx:2:10
TS2459: Module '"../../context/ProjectContext"' declares 'ProjectContext' locally, but it is not exported.
    1 | import React, { useState, useContext } from "react";
  > 2 | import { ProjectContext } from "../../context/ProjectContext";
      |          ^^^^^^^^^^^^^^
    3 | import { DiDResult } from "./types";
    4 | import { LineChart, Line, XAxis, YAxis, Tooltip, Legend, CartesianGrid } from "recharts";
    5 |

ERROR in src/pages/analytics/DifferenceInDifferences.tsx:7:11
TS2339: Property 'projectId' does not exist on type 'unknown'.
     5 |
     6 | const DifferenceInDifferences: React.FC = () => {
  >  7 |   const { projectId } = useContext(ProjectContext);
       |           ^^^^^^^^^
     8 |   const [datasetVersionId, setDatasetVersionId] = useState<number | null>(null);
     9 |   const [outcomeColumn, setOutcomeColumn] = useState("");
    10 |   const [groupColumn, setGroupColumn] = useState("");

ERROR in src/pages/analytics/InterruptedTimeSeries.tsx:2:10
TS2459: Module '"../../context/ProjectContext"' declares 'ProjectContext' locally, but it is not exported.
    1 | import React, { useState, useContext } from "react";
  > 2 | import { ProjectContext } from "../../context/ProjectContext";
      |          ^^^^^^^^^^^^^^
    3 | import { ITSResult } from "./types";
    4 | import { LineChart, Line, XAxis, YAxis, Tooltip, Legend, CartesianGrid } from "recharts";
    5 |

ERROR in src/pages/analytics/InterruptedTimeSeries.tsx:7:11
TS2339: Property 'projectId' does not exist on type 'unknown'.
     5 |
     6 | const InterruptedTimeSeries: React.FC = () => {
  >  7 |   const { projectId } = useContext(ProjectContext);
       |           ^^^^^^^^^
     8 |   const [datasetVersionId, setDatasetVersionId] = useState<number | null>(null);
     9 |   const [timeColumn, setTimeColumn] = useState("");
    10 |   const [outcomeColumn, setOutcomeColumn] = useState("");

ERROR in src/pages/analytics/MixedEffects.tsx:2:10
TS2459: Module '"../../context/ProjectContext"' declares 'ProjectContext' locally, but it is not exported.
    1 | import React, { useState, useContext } from "react";
  > 2 | import { ProjectContext } from "../../context/ProjectContext";
      |          ^^^^^^^^^^^^^^
    3 | import { MixedEffectsResult } from "./types";
    4 |
    5 | const MixedEffects: React.FC = () => {

ERROR in src/pages/analytics/MixedEffects.tsx:6:11
TS2339: Property 'projectId' does not exist on type 'unknown'.
    4 |
    5 | const MixedEffects: React.FC = () => {
  > 6 |   const { projectId } = useContext(ProjectContext);
      |           ^^^^^^^^^
    7 |   const [datasetVersionId, setDatasetVersionId] = useState<number | null>(null);
    8 |   const [outcomeColumn, setOutcomeColumn] = useState("");
    9 |   const [fixedEffects, setFixedEffects] = useState<string>("");

ERROR in src/pages/analytics/NetworkMetaAnalysis.tsx:2:10
TS2459: Module '"../../context/ProjectContext"' declares 'ProjectContext' locally, but it is not exported.
    1 | import React, { useState, useContext } from "react";
  > 2 | import { ProjectContext } from "../../context/ProjectContext";
      |          ^^^^^^^^^^^^^^
    3 | import { NetworkMetaResult } from "./types";
    4 |
    5 | const NetworkMetaAnalysis: React.FC = () => {

ERROR in src/pages/analytics/NetworkMetaAnalysis.tsx:6:11
TS2339: Property 'projectId' does not exist on type 'unknown'.
    4 |
    5 | const NetworkMetaAnalysis: React.FC = () => {
  > 6 |   const { projectId } = useContext(ProjectContext);
      |           ^^^^^^^^^
    7 |   const [datasetVersionId, setDatasetVersionId] = useState<number | null>(null);
    8 |   const [result, setResult] = useState<NetworkMetaResult | null>(null);
    9 |   const [error, setError] = useState<string | null>(null);

ERROR in src/pages/analytics/SpatialAnalysis.tsx:2:10
TS2459: Module '"../../context/ProjectContext"' declares 'ProjectContext' locally, but it is not exported.
    1 | import React, { useState, useContext } from "react";
  > 2 | import { ProjectContext } from "../../context/ProjectContext";
      |          ^^^^^^^^^^^^^^
    3 | import { SpatialResult } from "./types";
    4 |
    5 | const SpatialAnalysis: React.FC = () => {

ERROR in src/pages/analytics/SpatialAnalysis.tsx:6:11
TS2339: Property 'projectId' does not exist on type 'unknown'.
    4 |
    5 | const SpatialAnalysis: React.FC = () => {
  > 6 |   const { projectId } = useContext(ProjectContext);
      |           ^^^^^^^^^
    7 |   const [datasetVersionId, setDatasetVersionId] = useState<number | null>(null);
    8 |   const [result, setResult] = useState<SpatialResult | null>(null);
    9 |   const [error, setError] = useState<string | null>(null);

ERROR in src/pages/LiteratureReview.tsx:207:46
TS1003: Identifier expected.
    205 |             const THEMES = ['Background', 'Methods', 'Intervention', 'Outcome', 'Comparison', 'Population', 'Risk Factor', 'Epidemiology', 'Policy'];
    206 |
  > 207 |             const GRADE_COLORS: Record<string, string> = {
        |                                              ^
    208 |               'High':     '#5A8A6A',
    209 |               'Moderate': '#2196f3',
    210 |               'Low':      '#ff9800',

ERROR in src/pages/LiteratureReview.tsx:207:54
TS1382: Unexpected token. Did you mean `{'>'}` or `&gt;`?
    205 |             const THEMES = ['Background', 'Methods', 'Intervention', 'Outcome', 'Comparison', 'Population', 'Risk Factor', 'Epidemiology', 'Policy'];
    206 |
  > 207 |             const GRADE_COLORS: Record<string, string> = {
        |                                                      ^
    208 |               'High':     '#5A8A6A',
    209 |               'Moderate': '#2196f3',
    210 |               'Low':      '#ff9800',

ERROR in src/pages/LiteratureReview.tsx:208:21
TS1005: '}' expected.
    206 |
    207 |             const GRADE_COLORS: Record<string, string> = {
  > 208 |               'High':     '#5A8A6A',
        |                     ^
    209 |               'Moderate': '#2196f3',
    210 |               'Low':      '#ff9800',
    211 |               'Very Low': '#f44336',

ERROR in src/pages/LiteratureReview.tsx:212:13
TS1381: Unexpected token. Did you mean `{'}'}` or `&rbrace;`?
    210 |               'Low':      '#ff9800',
    211 |               'Very Low': '#f44336',
  > 212 |             };
        |             ^
    213 |
    214 |             const LEVEL_COLORS: Record<string, string> = {
    215 |               '1a': '#5A8A6A', '1b': '#5A8A6A',

ERROR in src/pages/LiteratureReview.tsx:214:46
TS1003: Identifier expected.
    212 |             };
    213 |
  > 214 |             const LEVEL_COLORS: Record<string, string> = {
        |                                              ^
    215 |               '1a': '#5A8A6A', '1b': '#5A8A6A',
    216 |               '2a': '#2196f3', '2b': '#2196f3',
    217 |               '3':  '#ff9800',

ERROR in src/pages/LiteratureReview.tsx:214:54
TS1382: Unexpected token. Did you mean `{'>'}` or `&gt;`?
    212 |             };
    213 |
  > 214 |             const LEVEL_COLORS: Record<string, string> = {
        |                                                      ^
    215 |               '1a': '#5A8A6A', '1b': '#5A8A6A',
    216 |               '2a': '#2196f3', '2b': '#2196f3',
    217 |               '3':  '#ff9800',

ERROR in src/pages/LiteratureReview.tsx:215:19
TS1005: '}' expected.
    213 |
    214 |             const LEVEL_COLORS: Record<string, string> = {
  > 215 |               '1a': '#5A8A6A', '1b': '#5A8A6A',
        |                   ^
    216 |               '2a': '#2196f3', '2b': '#2196f3',
    217 |               '3':  '#ff9800',
    218 |               '4':  '#f44336',

ERROR in src/pages/LiteratureReview.tsx:220:13
TS1381: Unexpected token. Did you mean `{'}'}` or `&rbrace;`?
    218 |               '4':  '#f44336',
    219 |               '5':  '#9c27b0',
  > 220 |             };
        |             ^
    221 |
    222 |             type Reference = {
    223 |               id:           string;

ERROR in src/pages/LiteratureReview.tsx:223:17
TS1005: '}' expected.
    221 |
    222 |             type Reference = {
  > 223 |               id:           string;
        |                 ^
    224 |               title:        string;
    225 |               authors:      string;
    226 |               journal:      string;

ERROR in src/pages/LiteratureReview.tsx:245:13
TS1381: Unexpected token. Did you mean `{'}'}` or `&rbrace;`?
    243 |               key_finding:  string;
    244 |               added_at:     string;
  > 245 |             };
        |             ^
    246 |
    247 |             function emptyRef(): Reference {
    248 |               return {

ERROR in src/pages/LiteratureReview.tsx:248:15
TS1109: Expression expected.
    246 |
    247 |             function emptyRef(): Reference {
  > 248 |               return {
        |               ^^^^^^
    249 |                 id:          Date.now().toString(),
    250 |                 title:       '',
    251 |                 authors:     '',

ERROR in src/pages/LiteratureReview.tsx:249:19
TS1005: '}' expected.
    247 |             function emptyRef(): Reference {
    248 |               return {
  > 249 |                 id:          Date.now().toString(),
        |                   ^
    250 |                 title:       '',
    251 |                 authors:     '',
    252 |                 journal:     '',

ERROR in src/pages/LiteratureReview.tsx:271:15
TS1381: Unexpected token. Did you mean `{'}'}` or `&rbrace;`?
    269 |                 key_finding: '',
    270 |                 added_at:    new Date().toISOString(),
  > 271 |               };
        |               ^
    272 |             }
    273 |
    274 |             function vancouverCite(ref: Reference, index: number): string {

ERROR in src/pages/LiteratureReview.tsx:272:13
TS1381: Unexpected token. Did you mean `{'}'}` or `&rbrace;`?
    270 |                 added_at:    new Date().toISOString(),
    271 |               };
  > 272 |             }
        |             ^
    273 |
    274 |             function vancouverCite(ref: Reference, index: number): string {
    275 |               const authors = ref.authors.split(',').slice(0, 6).join(', ');

ERROR in src/pages/LiteratureReview.tsx:275:15
TS1109: Expression expected.
    273 |
    274 |             function vancouverCite(ref: Reference, index: number): string {
  > 275 |               const authors = ref.authors.split(',').slice(0, 6).join(', ');
        |               ^^^^^
    276 |               const et_al   = ref.authors.split(',').length > 6 ? ', et al' : '';
    277 |               return `${index}. ${authors}${et_al}. ${ref.title}. ${ref.journal}. ${ref.year};${ref.volume}${ref.issue ? `(${ref.issue})` : ''}:${ref.pages}.${ref.doi ? ` doi:${ref.doi}` : ''}`;
    278 |             }

ERROR in src/pages/LiteratureReview.tsx:276:61
TS1382: Unexpected token. Did you mean `{'>'}` or `&gt;`?
    274 |             function vancouverCite(ref: Reference, index: number): string {
    275 |               const authors = ref.authors.split(',').slice(0, 6).join(', ');
  > 276 |               const et_al   = ref.authors.split(',').length > 6 ? ', et al' : '';
        |                                                             ^
    277 |               return `${index}. ${authors}${et_al}. ${ref.title}. ${ref.journal}. ${ref.year};${ref.volume}${ref.issue ? `(${ref.issue})` : ''}:${ref.pages}.${ref.doi ? ` doi:${ref.doi}` : ''}`;
    278 |             }
    279 |

ERROR in src/pages/LiteratureReview.tsx:278:13
TS1381: Unexpected token. Did you mean `{'}'}` or `&rbrace;`?
    276 |               const et_al   = ref.authors.split(',').length > 6 ? ', et al' : '';
    277 |               return `${index}. ${authors}${et_al}. ${ref.title}. ${ref.journal}. ${ref.year};${ref.volume}${ref.issue ? `(${ref.issue})` : ''}:${ref.pages}.${ref.doi ? ` doi:${ref.doi}` : ''}`;
  > 278 |             }
        |             ^
    279 |
    280 |             function apaCite(ref: Reference): string {
    281 |               const authors = ref.authors;

ERROR in src/pages/LiteratureReview.tsx:281:15
TS1109: Expression expected.
    279 |
    280 |             function apaCite(ref: Reference): string {
  > 281 |               const authors = ref.authors;
        |               ^^^^^
    282 |               return `${authors} (${ref.year}). ${ref.title}. ${ref.journal}, ${ref.volume}${ref.issue ? `(${ref.issue})` : ''}, ${ref.pages}.${ref.doi ? ` https://doi.org/${ref.doi}` : ''}`;
    283 |             }
    284 |

ERROR in src/pages/LiteratureReview.tsx:283:13
TS1381: Unexpected token. Did you mean `{'}'}` or `&rbrace;`?
    281 |               const authors = ref.authors;
    282 |               return `${authors} (${ref.year}). ${ref.title}. ${ref.journal}, ${ref.volume}${ref.issue ? `(${ref.issue})` : ''}, ${ref.pages}.${ref.doi ? ` https://doi.org/${ref.doi}` : ''}`;
  > 283 |             }
        |             ^
    284 |
    285 |             const LiteratureReview: React.FC = () => {
    286 |               const { projectId } = useProject();

ERROR in src/pages/LiteratureReview.tsx:285:52
TS1382: Unexpected token. Did you mean `{'>'}` or `&gt;`?
    283 |             }
    284 |
  > 285 |             const LiteratureReview: React.FC = () => {
        |                                                    ^
    286 |               const { projectId } = useProject();
    287 |               const [refs, setRefs]             = useState<Reference[]>([]);
    288 |               const [activeTab, setActiveTab]   = useState('library');

ERROR in src/pages/LiteratureReview.tsx:286:15
TS1109: Expression expected.
    284 |
    285 |             const LiteratureReview: React.FC = () => {
  > 286 |               const { projectId } = useProject();
        |               ^^^^^
    287 |               const [refs, setRefs]             = useState<Reference[]>([]);
    288 |               const [activeTab, setActiveTab]   = useState('library');
    289 |               const [showAdd, setShowAdd]       = useState(false);

ERROR in src/pages/LiteratureReview.tsx:287:69
TS1003: Identifier expected.
    285 |             const LiteratureReview: React.FC = () => {
    286 |               const { projectId } = useProject();
  > 287 |               const [refs, setRefs]             = useState<Reference[]>([]);
        |                                                                     ^
    288 |               const [activeTab, setActiveTab]   = useState('library');
    289 |               const [showAdd, setShowAdd]       = useState(false);
    290 |               const [showPICO, setShowPICO]     = useState(false);

ERROR in src/pages/LiteratureReview.tsx:287:71
TS1382: Unexpected token. Did you mean `{'>'}` or `&gt;`?
    285 |             const LiteratureReview: React.FC = () => {
    286 |               const { projectId } = useProject();
  > 287 |               const [refs, setRefs]             = useState<Reference[]>([]);
        |                                                                       ^
    288 |               const [activeTab, setActiveTab]   = useState('library');
    289 |               const [showAdd, setShowAdd]       = useState(false);
    290 |               const [showPICO, setShowPICO]     = useState(false);

ERROR in src/pages/LiteratureReview.tsx:291:70
TS1003: Identifier expected.
    289 |               const [showAdd, setShowAdd]       = useState(false);
    290 |               const [showPICO, setShowPICO]     = useState(false);
  > 291 |               const [editing, setEditing]       = useState<Reference | null>(null);
        |                                                                      ^
    292 |               const [form, setForm]             = useState<Reference>(emptyRef());
    293 |               const [search, setSearch]         = useState('');
    294 |               const [filterTheme, setFilterTheme] = useState('All');

ERROR in src/pages/LiteratureReview.tsx:291:76
TS1382: Unexpected token. Did you mean `{'>'}` or `&gt;`?
    289 |               const [showAdd, setShowAdd]       = useState(false);
    290 |               const [showPICO, setShowPICO]     = useState(false);
  > 291 |               const [editing, setEditing]       = useState<Reference | null>(null);
        |                                                                            ^
    292 |               const [form, setForm]             = useState<Reference>(emptyRef());
    293 |               const [search, setSearch]         = useState('');
    294 |               const [filterTheme, setFilterTheme] = useState('All');

ERROR in src/pages/LiteratureReview.tsx:296:60
TS1003: Identifier expected.
    294 |               const [filterTheme, setFilterTheme] = useState('All');
    295 |               const [filterGrade, setFilterGrade] = useState('All');
  > 296 |               const [citStyle, setCitStyle]     = useState<'vancouver'|'apa'>('vancouver');
        |                                                            ^^^^^^^^^^^
    297 |               const [copied, setCopied]         = useState(false);
    298 |               const [saved, setSaved]           = useState(false);
    299 |               const [loading, setLoading]       = useState(false);

ERROR in src/pages/LiteratureReview.tsx:296:77
TS1382: Unexpected token. Did you mean `{'>'}` or `&gt;`?
    294 |               const [filterTheme, setFilterTheme] = useState('All');
    295 |               const [filterGrade, setFilterGrade] = useState('All');
  > 296 |               const [citStyle, setCitStyle]     = useState<'vancouver'|'apa'>('vancouver');
        |                                                                             ^
    297 |               const [copied, setCopied]         = useState(false);
    298 |               const [saved, setSaved]           = useState(false);
    299 |               const [loading, setLoading]       = useState(false);

ERROR in src/pages/LiteratureReview.tsx:301:29
TS1382: Unexpected token. Did you mean `{'>'}` or `&gt;`?
    299 |               const [loading, setLoading]       = useState(false);
    300 |
  > 301 |               useEffect(() => {
        |                             ^
    302 |                 if (!projectId) return;
    303 |                 setLoading(true);
    304 |                 fetch(`/api/references?project_id=${projectId}`)

ERROR in src/pages/LiteratureReview.tsx:302:17
TS1109: Expression expected.
    300 |
    301 |               useEffect(() => {
  > 302 |                 if (!projectId) return;
        |                 ^^
    303 |                 setLoading(true);
    304 |                 fetch(`/api/references?project_id=${projectId}`)
    305 |                   .then(res => res.json())

ERROR in src/pages/LiteratureReview.tsx:305:30
TS1382: Unexpected token. Did you mean `{'>'}` or `&gt;`?
    303 |                 setLoading(true);
    304 |                 fetch(`/api/references?project_id=${projectId}`)
  > 305 |                   .then(res => res.json())
        |                              ^
    306 |                   .then(data => setRefs(data))
    307 |                   .finally(() => setLoading(false));
    308 |               }, [projectId]);

ERROR in src/pages/LiteratureReview.tsx:306:31
TS1382: Unexpected token. Did you mean `{'>'}` or `&gt;`?
    304 |                 fetch(`/api/references?project_id=${projectId}`)
    305 |                   .then(res => res.json())
  > 306 |                   .then(data => setRefs(data))
        |                               ^
    307 |                   .finally(() => setLoading(false));
    308 |               }, [projectId]);
    309 |

ERROR in src/pages/LiteratureReview.tsx:307:32
TS1382: Unexpected token. Did you mean `{'>'}` or `&gt;`?
    305 |                   .then(res => res.json())
    306 |                   .then(data => setRefs(data))
  > 307 |                   .finally(() => setLoading(false));
        |                                ^
    308 |               }, [projectId]);
    309 |
    310 |               function save(updated: Reference[]) {

ERROR in src/pages/LiteratureReview.tsx:308:15
TS1381: Unexpected token. Did you mean `{'}'}` or `&rbrace;`?
    306 |                   .then(data => setRefs(data))
    307 |                   .finally(() => setLoading(false));
  > 308 |               }, [projectId]);
        |               ^
    309 |
    310 |               function save(updated: Reference[]) {
    311 |                 setRefs(updated);

ERROR in src/pages/LiteratureReview.tsx:311:33
TS1005: '}' expected.
    309 |
    310 |               function save(updated: Reference[]) {
  > 311 |                 setRefs(updated);
        |                                 ^
    312 |                 setSaved(true);
    313 |                 setTimeout(() => setSaved(false), 1500);
    314 |               }

ERROR in src/pages/LiteratureReview.tsx:313:32
TS1382: Unexpected token. Did you mean `{'>'}` or `&gt;`?
    311 |                 setRefs(updated);
    312 |                 setSaved(true);
  > 313 |                 setTimeout(() => setSaved(false), 1500);
        |                                ^
    314 |               }
    315 |
    316 |               async function addRef() {

ERROR in src/pages/LiteratureReview.tsx:314:15
TS1381: Unexpected token. Did you mean `{'}'}` or `&rbrace;`?
    312 |                 setSaved(true);
    313 |                 setTimeout(() => setSaved(false), 1500);
  > 314 |               }
        |               ^
    315 |
    316 |               async function addRef() {
    317 |                 if (!form.title || !form.authors || !projectId) return;

ERROR in src/pages/LiteratureReview.tsx:317:17
TS1109: Expression expected.
    315 |
    316 |               async function addRef() {
  > 317 |                 if (!form.title || !form.authors || !projectId) return;
        |                 ^^
    318 |                 const payload = { ...form, project_id: projectId };
    319 |                 const res = await fetch('/api/references', {
    320 |                   method: 'POST',

ERROR in src/pages/LiteratureReview.tsx:318:54
TS1005: '}' expected.
    316 |               async function addRef() {
    317 |                 if (!form.title || !form.authors || !projectId) return;
  > 318 |                 const payload = { ...form, project_id: projectId };
        |                                                      ^
    319 |                 const res = await fetch('/api/references', {
    320 |                   method: 'POST',
    321 |                   headers: { 'Content-Type': 'application/json' },

ERROR in src/pages/LiteratureReview.tsx:318:66
TS1381: Unexpected token. Did you mean `{'}'}` or `&rbrace;`?
    316 |               async function addRef() {
    317 |                 if (!form.title || !form.authors || !projectId) return;
  > 318 |                 const payload = { ...form, project_id: projectId };
        |                                                                  ^
    319 |                 const res = await fetch('/api/references', {
    320 |                   method: 'POST',
    321 |                   headers: { 'Content-Type': 'application/json' },

ERROR in src/pages/LiteratureReview.tsx:320:25
TS1005: '}' expected.
    318 |                 const payload = { ...form, project_id: projectId };
    319 |                 const res = await fetch('/api/references', {
  > 320 |                   method: 'POST',
        |                         ^
    321 |                   headers: { 'Content-Type': 'application/json' },
    322 |                   body: JSON.stringify(payload)
    323 |                 });

ERROR in src/pages/LiteratureReview.tsx:321:44
TS1005: '}' expected.
    319 |                 const res = await fetch('/api/references', {
    320 |                   method: 'POST',
  > 321 |                   headers: { 'Content-Type': 'application/json' },
        |                                            ^
    322 |                   body: JSON.stringify(payload)
    323 |                 });
    324 |                 if (res.ok) {

ERROR in src/pages/LiteratureReview.tsx:321:65
TS1381: Unexpected token. Did you mean `{'}'}` or `&rbrace;`?
    319 |                 const res = await fetch('/api/references', {
    320 |                   method: 'POST',
  > 321 |                   headers: { 'Content-Type': 'application/json' },
        |                                                                 ^
    322 |                   body: JSON.stringify(payload)
    323 |                 });
    324 |                 if (res.ok) {

ERROR in src/pages/LiteratureReview.tsx:323:17
TS1381: Unexpected token. Did you mean `{'}'}` or `&rbrace;`?
    321 |                   headers: { 'Content-Type': 'application/json' },
    322 |                   body: JSON.stringify(payload)
  > 323 |                 });
        |                 ^
    324 |                 if (res.ok) {
    325 |                   const newRef = await res.json();
    326 |                   save([...refs, newRef]);

ERROR in src/pages/LiteratureReview.tsx:325:19
TS1109: Expression expected.
    323 |                 });
    324 |                 if (res.ok) {
  > 325 |                   const newRef = await res.json();
        |                   ^^^^^
    326 |                   save([...refs, newRef]);
    327 |                   setForm(emptyRef());
    328 |                   setShowAdd(false);

ERROR in src/pages/LiteratureReview.tsx:329:17
TS1381: Unexpected token. Did you mean `{'}'}` or `&rbrace;`?
    327 |                   setForm(emptyRef());
    328 |                   setShowAdd(false);
  > 329 |                 }
        |                 ^
    330 |               }
    331 |
    332 |               async function updateRef() {

ERROR in src/pages/LiteratureReview.tsx:330:15
TS1381: Unexpected token. Did you mean `{'}'}` or `&rbrace;`?
    328 |                   setShowAdd(false);
    329 |                 }
  > 330 |               }
        |               ^
    331 |
    332 |               async function updateRef() {
    333 |                 // Not implemented: backend update endpoint. For now, delete and re-add.

ERROR in src/pages/LiteratureReview.tsx:334:17
TS1109: Expression expected.
    332 |               async function updateRef() {
    333 |                 // Not implemented: backend update endpoint. For now, delete and re-add.
  > 334 |                 if (!editing) return;
        |                 ^^
    335 |                 await deleteRef(editing.id, false);
    336 |                 await addRef();
    337 |                 setEditing(null);

ERROR in src/pages/LiteratureReview.tsx:340:15
TS1381: Unexpected token. Did you mean `{'}'}` or `&rbrace;`?
    338 |                 setForm(emptyRef());
    339 |                 setShowAdd(false);
  > 340 |               }
        |               ^
    341 |
    342 |               async function deleteRef(id: string, confirm = true) {
    343 |                 if (confirm && !window.confirm('Delete this reference?')) return;

ERROR in src/pages/LiteratureReview.tsx:343:17
TS1109: Expression expected.
    341 |
    342 |               async function deleteRef(id: string, confirm = true) {
  > 343 |                 if (confirm && !window.confirm('Delete this reference?')) return;
        |                 ^^
    344 |                 const res = await fetch(`/api/references/${id}`, { method: 'DELETE' });
    345 |                 if (res.ok) {
    346 |                   save(refs.filter(r => r.id !== id));

ERROR in src/pages/LiteratureReview.tsx:344:74
TS1005: '}' expected.
    342 |               async function deleteRef(id: string, confirm = true) {
    343 |                 if (confirm && !window.confirm('Delete this reference?')) return;
  > 344 |                 const res = await fetch(`/api/references/${id}`, { method: 'DELETE' });
        |                                                                          ^
    345 |                 if (res.ok) {
    346 |                   save(refs.filter(r => r.id !== id));
    347 |                 }

ERROR in src/pages/LiteratureReview.tsx:344:85
TS1381: Unexpected token. Did you mean `{'}'}` or `&rbrace;`?
    342 |               async function deleteRef(id: string, confirm = true) {
    343 |                 if (confirm && !window.confirm('Delete this reference?')) return;
  > 344 |                 const res = await fetch(`/api/references/${id}`, { method: 'DELETE' });
        |                                                                                     ^
    345 |                 if (res.ok) {
    346 |                   save(refs.filter(r => r.id !== id));
    347 |                 }

ERROR in src/pages/LiteratureReview.tsx:346:54
TS1005: '}' expected.
    344 |                 const res = await fetch(`/api/references/${id}`, { method: 'DELETE' });
    345 |                 if (res.ok) {
  > 346 |                   save(refs.filter(r => r.id !== id));
        |                                                      ^
    347 |                 }
    348 |               }
    349 |

ERROR in src/pages/LiteratureReview.tsx:347:17
TS1381: Unexpected token. Did you mean `{'}'}` or `&rbrace;`?
    345 |                 if (res.ok) {
    346 |                   save(refs.filter(r => r.id !== id));
  > 347 |                 }
        |                 ^
    348 |               }
    349 |
    350 |               function startEdit(ref: Reference) {

ERROR in src/pages/LiteratureReview.tsx:348:15
TS1381: Unexpected token. Did you mean `{'}'}` or `&rbrace;`?
    346 |                   save(refs.filter(r => r.id !== id));
    347 |                 }
  > 348 |               }
        |               ^
    349 |
    350 |               function startEdit(ref: Reference) {
    351 |                 setForm({ ...ref });

ERROR in src/pages/LiteratureReview.tsx:351:36
TS1005: '}' expected.
    349 |
    350 |               function startEdit(ref: Reference) {
  > 351 |                 setForm({ ...ref });
        |                                    ^
    352 |                 setEditing(ref);
    353 |                 setShowAdd(true);
    354 |               }

ERROR in src/pages/LiteratureReview.tsx:354:15
TS1381: Unexpected token. Did you mean `{'}'}` or `&rbrace;`?
    352 |                 setEditing(ref);
    353 |                 setShowAdd(true);
  > 354 |               }
        |               ^
    355 |
    356 |               function copyBibliography() {
    357 |                 const filtered = refs.filter(r => {

ERROR in src/pages/LiteratureReview.tsx:357:17
TS1109: Expression expected.
    355 |
    356 |               function copyBibliography() {
  > 357 |                 const filtered = refs.filter(r => {
        |                 ^^^^^
    358 |                   const matchSearch = !search || r.title.toLowerCase().includes(search.toLowerCase()) ||
    359 |                     r.authors.toLowerCase().includes(search.toLowerCase()) ||
    360 |                     r.key_finding.toLowerCase().includes(search.toLowerCase()) ||

ERROR in src/pages/LiteratureReview.tsx:357:49
TS1382: Unexpected token. Did you mean `{'>'}` or `&gt;`?
    355 |
    356 |               function copyBibliography() {
  > 357 |                 const filtered = refs.filter(r => {
        |                                                 ^
    358 |                   const matchSearch = !search || r.title.toLowerCase().includes(search.toLowerCase()) ||
    359 |                     r.authors.toLowerCase().includes(search.toLowerCase()) ||
    360 |                     r.key_finding.toLowerCase().includes(search.toLowerCase()) ||

ERROR in src/pages/LiteratureReview.tsx:358:19
TS1109: Expression expected.
    356 |               function copyBibliography() {
    357 |                 const filtered = refs.filter(r => {
  > 358 |                   const matchSearch = !search || r.title.toLowerCase().includes(search.toLowerCase()) ||
        |                   ^^^^^
    359 |                     r.authors.toLowerCase().includes(search.toLowerCase()) ||
    360 |                     r.key_finding.toLowerCase().includes(search.toLowerCase()) ||
    361 |                     r.country.toLowerCase().includes(search.toLowerCase());

ERROR in src/pages/LiteratureReview.tsx:365:17
TS1381: Unexpected token. Did you mean `{'}'}` or `&rbrace;`?
    363 |                   const matchGrade = filterGrade === 'All' || r.grade === filterGrade;
    364 |                   return matchSearch && matchTheme && matchGrade;
  > 365 |                 });
        |                 ^
    366 |                 const text = filtered.map((r, i) =>
    367 |                   citStyle === 'vancouver' ? vancouverCite(r, i + 1) : apaCite(r)
    368 |                 ).join('\n\n');

ERROR in src/pages/LiteratureReview.tsx:366:51
TS1382: Unexpected token. Did you mean `{'>'}` or `&gt;`?
    364 |                   return matchSearch && matchTheme && matchGrade;
    365 |                 });
  > 366 |                 const text = filtered.map((r, i) =>
        |                                                   ^
    367 |                   citStyle === 'vancouver' ? vancouverCite(r, i + 1) : apaCite(r)
    368 |                 ).join('\n\n');
    369 |                 navigator.clipboard.writeText(text);

ERROR in src/pages/LiteratureReview.tsx:371:32
TS1382: Unexpected token. Did you mean `{'>'}` or `&gt;`?
    369 |                 navigator.clipboard.writeText(text);
    370 |                 setCopied(true);
  > 371 |                 setTimeout(() => setCopied(false), 2000);
        |                                ^
    372 |               }
    373 |
    374 |               if (!projectId) {

ERROR in src/pages/LiteratureReview.tsx:372:15
TS1381: Unexpected token. Did you mean `{'}'}` or `&rbrace;`?
    370 |                 setCopied(true);
    371 |                 setTimeout(() => setCopied(false), 2000);
  > 372 |               }
        |               ^
    373 |
    374 |               if (!projectId) {
    375 |                 return (

ERROR in src/pages/LiteratureReview.tsx:375:17
TS1109: Expression expected.
    373 |
    374 |               if (!projectId) {
  > 375 |                 return (
        |                 ^^^^^^
    376 |                   <div className="card" style={{ margin: '2rem auto', maxWidth: 500, textAlign: 'center' }}>
    377 |                     <h2>Please select or create a project to continue.</h2>
    378 |                   </div>

ERROR in src/pages/LiteratureReview.tsx:380:15
TS1381: Unexpected token. Did you mean `{'}'}` or `&rbrace;`?
    378 |                   </div>
    379 |                 );
  > 380 |               }
        |               ^
    381 |
    382 |               const filtered = refs.filter(r => {
    383 |                 const matchSearch = !search || r.title.toLowerCase().includes(search.toLowerCase()) ||

ERROR in src/pages/LiteratureReview.tsx:382:47
TS1382: Unexpected token. Did you mean `{'>'}` or `&gt;`?
    380 |               }
    381 |
  > 382 |               const filtered = refs.filter(r => {
        |                                               ^
    383 |                 const matchSearch = !search || r.title.toLowerCase().includes(search.toLowerCase()) ||
    384 |                   r.authors.toLowerCase().includes(search.toLowerCase()) ||
    385 |                   r.key_finding.toLowerCase().includes(search.toLowerCase()) ||

ERROR in src/pages/LiteratureReview.tsx:383:17
TS1109: Expression expected.
    381 |
    382 |               const filtered = refs.filter(r => {
  > 383 |                 const matchSearch = !search || r.title.toLowerCase().includes(search.toLowerCase()) ||
        |                 ^^^^^
    384 |                   r.authors.toLowerCase().includes(search.toLowerCase()) ||
    385 |                   r.key_finding.toLowerCase().includes(search.toLowerCase()) ||
    386 |                   r.country.toLowerCase().includes(search.toLowerCase());

ERROR in src/pages/LiteratureReview.tsx:390:15
TS1381: Unexpected token. Did you mean `{'}'}` or `&rbrace;`?
    388 |                 const matchGrade = filterGrade === 'All' || r.grade === filterGrade;
    389 |                 return matchSearch && matchTheme && matchGrade;
  > 390 |               });
        |               ^
    391 |
    392 |               const themeGroups = THEMES.reduce((acc, theme) => {
    393 |                 acc[theme] = refs.filter(r => r.theme === theme);

ERROR in src/pages/LiteratureReview.tsx:392:63
TS1382: Unexpected token. Did you mean `{'>'}` or `&gt;`?
    390 |               });
    391 |
  > 392 |               const themeGroups = THEMES.reduce((acc, theme) => {
        |                                                               ^
    393 |                 acc[theme] = refs.filter(r => r.theme === theme);
    394 |                 return acc;
    395 |               }, {} as Record<string, Reference[]>);

ERROR in src/pages/LiteratureReview.tsx:393:65
TS1005: '}' expected.
    391 |
    392 |               const themeGroups = THEMES.reduce((acc, theme) => {
  > 393 |                 acc[theme] = refs.filter(r => r.theme === theme);
        |                                                                 ^
    394 |                 return acc;
    395 |               }, {} as Record<string, Reference[]>);
    396 |

ERROR in src/pages/LiteratureReview.tsx:395:15
TS1381: Unexpected token. Did you mean `{'}'}` or `&rbrace;`?
    393 |                 acc[theme] = refs.filter(r => r.theme === theme);
    394 |                 return acc;
  > 395 |               }, {} as Record<string, Reference[]>);
        |               ^
    396 |
    397 |               const gradeDistribution = GRADE_LEVELS.map(g => ({
    398 |                 grade: g, count: refs.filter(r => r.grade === g).length

ERROR in src/pages/LiteratureReview.tsx:395:37
TS1003: Identifier expected.
    393 |                 acc[theme] = refs.filter(r => r.theme === theme);
    394 |                 return acc;
  > 395 |               }, {} as Record<string, Reference[]>);
        |                                     ^
    396 |
    397 |               const gradeDistribution = GRADE_LEVELS.map(g => ({
    398 |                 grade: g, count: refs.filter(r => r.grade === g).length

ERROR in src/pages/LiteratureReview.tsx:395:50
TS1382: Unexpected token. Did you mean `{'>'}` or `&gt;`?
    393 |                 acc[theme] = refs.filter(r => r.theme === theme);
    394 |                 return acc;
  > 395 |               }, {} as Record<string, Reference[]>);
        |                                                  ^
    396 |
    397 |               const gradeDistribution = GRADE_LEVELS.map(g => ({
    398 |                 grade: g, count: refs.filter(r => r.grade === g).length

ERROR in src/pages/LiteratureReview.tsx:397:61
TS1382: Unexpected token. Did you mean `{'>'}` or `&gt;`?
    395 |               }, {} as Record<string, Reference[]>);
    396 |
  > 397 |               const gradeDistribution = GRADE_LEVELS.map(g => ({
        |                                                             ^
    398 |                 grade: g, count: refs.filter(r => r.grade === g).length
    399 |               }));
    400 |

ERROR in src/pages/LiteratureReview.tsx:398:22
TS1005: '}' expected.
    396 |
    397 |               const gradeDistribution = GRADE_LEVELS.map(g => ({
  > 398 |                 grade: g, count: refs.filter(r => r.grade === g).length
        |                      ^
    399 |               }));
    400 |
    401 |               return (

ERROR in src/pages/LiteratureReview.tsx:398:49
TS1382: Unexpected token. Did you mean `{'>'}` or `&gt;`?
    396 |
    397 |               const gradeDistribution = GRADE_LEVELS.map(g => ({
  > 398 |                 grade: g, count: refs.filter(r => r.grade === g).length
        |                                                 ^
    399 |               }));
    400 |
    401 |               return (

ERROR in src/pages/LiteratureReview.tsx:399:15
TS1381: Unexpected token. Did you mean `{'}'}` or `&rbrace;`?
    397 |               const gradeDistribution = GRADE_LEVELS.map(g => ({
    398 |                 grade: g, count: refs.filter(r => r.grade === g).length
  > 399 |               }));
        |               ^
    400 |
    401 |               return (
    402 |                 <div className="page">

ERROR in src/pages/LiteratureReview.tsx:407:13
TS1381: Unexpected token. Did you mean `{'}'}` or `&rbrace;`?
    405 |                 </div>
    406 |               );
  > 407 |             };
        |             ^
    408 |
    409 |             export default LiteratureReview;
    410 |                 </thead>

ERROR in src/pages/LiteratureReview.tsx:410:19
TS17002: Expected corresponding JSX closing tag for 'Reference'.
    408 |
    409 |             export default LiteratureReview;
  > 410 |                 </thead>
        |                   ^^^^^
    411 |                 <tbody>
    412 |                   {filtered.map((ref, i) => (
    413 |                     <tr key={ref.id} style={{ background: i % 2 === 0 ? '#f8f7f4' : 'white', borderBottom: '1px solid #eee' }}>

ERROR in src/pages/LiteratureReview.tsx:433:17
TS17002: Expected corresponding JSX closing tag for 'p'.
    431 |                   ))}
    432 |                 </tbody>
  > 433 |               </table>
        |                 ^^^^^
    434 |             </div>
    435 |           )}
    436 |         </div>

ERROR in src/pages/LiteratureReview.tsx:435:12
TS1381: Unexpected token. Did you mean `{'}'}` or `&rbrace;`?
    433 |               </table>
    434 |             </div>
  > 435 |           )}
        |            ^
    436 |         </div>
    437 |       )}
    438 |

ERROR in src/pages/LiteratureReview.tsx:437:8
TS1381: Unexpected token. Did you mean `{'}'}` or `&rbrace;`?
    435 |           )}
    436 |         </div>
  > 437 |       )}
        |        ^
    438 |
    439 |       {/* BIBLIOGRAPHY TAB */}
    440 |       {activeTab === 'bibliography' && (

ERROR in src/pages/LiteratureReview.tsx:658:1
TS1128: Declaration or statement expected.
    656 |     </div>
    657 |   );
  > 658 | }
        | ^
    659 |

ERROR in src/pages/SubgroupAnalysis.tsx:312:32
TS2322: Type '(val: any, name: string) => [any, string]' is not assignable to type 'Formatter<any, string> & ((value: any, name: string, item: Payload<any, string>, index: number, payload: Payload<any, string>[]) => ReactNode | [...])'.
  Type '(val: any, name: string) => [any, string]' is not assignable to type 'Formatter<any, string>'.
    Types of parameters 'name' and 'name' are incompatible.
      Type 'string | undefined' is not assignable to type 'string'.
        Type 'undefined' is not assignable to type 'string'.
    310 |                         tickFormatter={v => measure === 'OR' ? v.toFixed(1) : v.toFixed(2)} />
    311 |                       <YAxis type="category" dataKey="name" width={75} tick={{ fontSize: 12 }} />
  > 312 |                       <Tooltip formatter={(val: any, name: string) => [
        |                                ^^^^^^^^^
    313 |                         name === 'effect' ? `${measure}: ${val}` : val, name
    314 |                       ]} />
    315 |                       <ReferenceLine x={nullVal} stroke="#888" strokeDasharray="4 3" />

ERROR in src/pages/VisualisationStudio.tsx:229:45
TS2322: Type '(({ name, percent }: { name: string; percent?: number | undefined; }) => string) | undefined' is not assignable to type 'PieLabel | undefined'.
  Type '({ name, percent }: { name: string; percent?: number | undefined; }) => string' is not assignable to type 'PieLabel | undefined'.
    Type '({ name, percent }: { name: string; percent?: number | undefined; }) => string' is not assignable to type '(props: PieLabelRenderProps) => ReactNode | ReactElement<SVGElement, string | JSXElementConstructor<any>>'.
      Types of parameters '__0' and 'props' are incompatible.
        Type 'PieLabelRenderProps' is not assignable to type '{ name: string; percent?: number | undefined; }'.
          Types of property 'name' are incompatible.
            Type 'string | undefined' is not assignable to type 'string'.
              Type 'undefined' is not assignable to type 'string'.
    227 |           <PieChart>
    228 |             <Pie data={chartData} dataKey="value" nameKey="name" cx="50%" cy="50%"
  > 229 |               outerRadius={chartHeight / 3} label={showValues ? ({ name, percent }: { name: string, percent?: number }) => `${name} ${((percent || 0) * 100).toFixed(1)}%` : undefined}
        |                                             ^^^^^
    230 |               opacity={opacity}>
    231 |               {chartData.map((_: any, index: number) => (
    232 |                 <Cell key={index} fill={palette[index % palette.length]} />

Compiling...
Failed to compile.

[eslint] 
src/pages/LiteratureReview.tsx
Syntax error: Identifier expected (207:45)
ERROR in ./src/pages/LiteratureReview.tsx
Module build failed (from ./node_modules/babel-loader/lib/index.js):
SyntaxError: /workspaces/researchflow/frontend/src/pages/LiteratureReview.tsx: 'return' outside of function. (168:4)

  166 |
  167 |   if (!projectId) {
> 168 |     return <div className="card" style={{ margin: '2rem auto', maxWidth: 500, textAlign: 'center' }}>
      |     ^
  169 |       <h2>Please select or create a project to continue.</h2>
  170 |     </div>;
  171 |   }
    at constructor (/workspaces/researchflow/frontend/node_modules/@babel/parser/lib/index.js:365:19)
    at TypeScriptParserMixin.raise (/workspaces/researchflow/frontend/node_modules/@babel/parser/lib/index.js:6599:19)
    at TypeScriptParserMixin.parseReturnStatement (/workspaces/researchflow/frontend/node_modules/@babel/parser/lib/index.js:13136:12)
    at TypeScriptParserMixin.parseStatementContent (/workspaces/researchflow/frontend/node_modules/@babel/parser/lib/index.js:12798:21)
    at TypeScriptParserMixin.parseStatementContent (/workspaces/researchflow/frontend/node_modules/@babel/parser/lib/index.js:9508:18)
    at TypeScriptParserMixin.parseStatementLike (/workspaces/researchflow/frontend/node_modules/@babel/parser/lib/index.js:12767:17)
    at TypeScriptParserMixin.parseStatementListItem (/workspaces/researchflow/frontend/node_modules/@babel/parser/lib/index.js:12747:17)
    at TypeScriptParserMixin.parseBlockOrModuleBlockBody (/workspaces/researchflow/frontend/node_modules/@babel/parser/lib/index.js:13316:61)
    at TypeScriptParserMixin.parseBlockBody (/workspaces/researchflow/frontend/node_modules/@babel/parser/lib/index.js:13309:10)
    at TypeScriptParserMixin.parseBlock (/workspaces/researchflow/frontend/node_modules/@babel/parser/lib/index.js:13297:10)
    at TypeScriptParserMixin.parseStatementContent (/workspaces/researchflow/frontend/node_modules/@babel/parser/lib/index.js:12858:21)
    at TypeScriptParserMixin.parseStatementContent (/workspaces/researchflow/frontend/node_modules/@babel/parser/lib/index.js:9508:18)
    at TypeScriptParserMixin.parseStatementLike (/workspaces/researchflow/frontend/node_modules/@babel/parser/lib/index.js:12767:17)
    at TypeScriptParserMixin.parseStatementOrSloppyAnnexBFunctionDeclaration (/workspaces/researchflow/frontend/node_modules/@babel/parser/lib/index.js:12757:17)
    at TypeScriptParserMixin.parseIfStatement (/workspaces/researchflow/frontend/node_modules/@babel/parser/lib/index.js:13130:28)
    at TypeScriptParserMixin.parseStatementContent (/workspaces/researchflow/frontend/node_modules/@babel/parser/lib/index.js:12796:21)
    at TypeScriptParserMixin.parseStatementContent (/workspaces/researchflow/frontend/node_modules/@babel/parser/lib/index.js:9508:18)
    at TypeScriptParserMixin.parseStatementLike (/workspaces/researchflow/frontend/node_modules/@babel/parser/lib/index.js:12767:17)
    at TypeScriptParserMixin.parseModuleItem (/workspaces/researchflow/frontend/node_modules/@babel/parser/lib/index.js:12744:17)
    at TypeScriptParserMixin.parseBlockOrModuleBlockBody (/workspaces/researchflow/frontend/node_modules/@babel/parser/lib/index.js:13316:36)
    at TypeScriptParserMixin.parseBlockBody (/workspaces/researchflow/frontend/node_modules/@babel/parser/lib/index.js:13309:10)
    at TypeScriptParserMixin.parseProgram (/workspaces/researchflow/frontend/node_modules/@babel/parser/lib/index.js:12622:10)
    at TypeScriptParserMixin.parseTopLevel (/workspaces/researchflow/frontend/node_modules/@babel/parser/lib/index.js:12612:25)
    at TypeScriptParserMixin.parse (/workspaces/researchflow/frontend/node_modules/@babel/parser/lib/index.js:14488:25)
    at TypeScriptParserMixin.parse (/workspaces/researchflow/frontend/node_modules/@babel/parser/lib/index.js:10126:18)
    at parse (/workspaces/researchflow/frontend/node_modules/@babel/parser/lib/index.js:14522:38)
    at parser (/workspaces/researchflow/frontend/node_modules/@babel/core/lib/parser/index.js:41:34)
    at parser.next (<anonymous>)
    at normalizeFile (/workspaces/researchflow/frontend/node_modules/@babel/core/lib/transformation/normalize-file.js:64:37)
    at normalizeFile.next (<anonymous>)
    at run (/workspaces/researchflow/frontend/node_modules/@babel/core/lib/transformation/index.js:22:50)
    at run.next (<anonymous>)
    at transform (/workspaces/researchflow/frontend/node_modules/@babel/core/lib/transform.js:22:33)
    at transform.next (<anonymous>)
    at step (/workspaces/researchflow/frontend/node_modules/gensync/index.js:261:32)
    at /workspaces/researchflow/frontend/node_modules/gensync/index.js:273:13
    at async.call.result.err.err (/workspaces/researchflow/frontend/node_modules/gensync/index.js:223:11)

ERROR in ./src/pages/analytics/DifferenceInDifferences.tsx 13:17-31
export 'ProjectContext' (imported as 'ProjectContext') was not found in '../../context/ProjectContext' (possible exports: ProjectProvider, useProject)

ERROR in ./src/pages/analytics/InterruptedTimeSeries.tsx 13:17-31
export 'ProjectContext' (imported as 'ProjectContext') was not found in '../../context/ProjectContext' (possible exports: ProjectProvider, useProject)

ERROR in ./src/pages/analytics/MixedEffects.tsx 12:17-31
export 'ProjectContext' (imported as 'ProjectContext') was not found in '../../context/ProjectContext' (possible exports: ProjectProvider, useProject)

ERROR in ./src/pages/analytics/NetworkMetaAnalysis.tsx 12:17-31
export 'ProjectContext' (imported as 'ProjectContext') was not found in '../../context/ProjectContext' (possible exports: ProjectProvider, useProject)

ERROR in ./src/pages/analytics/SpatialAnalysis.tsx 12:17-31
export 'ProjectContext' (imported as 'ProjectContext') was not found in '../../context/ProjectContext' (possible exports: ProjectProvider, useProject)

ERROR in [eslint] 
src/pages/LiteratureReview.tsx
  Line 207:45:  Parsing error: Identifier expected

webpack compiled with 7 errors
ERROR in src/App.tsx:37:8
TS1192: Module '"/workspaces/researchflow/frontend/src/pages/LiteratureReview"' has no default export.
    35 | import AIAssistant from './pages/AIAssistant';
    36 | import ProgressTracker from './pages/ProgressTracker';
  > 37 | import LiteratureReview from './pages/LiteratureReview';
       |        ^^^^^^^^^^^^^^^^
    38 | import CodebookGenerator from './pages/CodebookGenerator';
    39 | import DataVersioning from './pages/DataVersioning';
    40 | import Dashboard from './pages/Dashboard';

ERROR in src/pages/analytics/DifferenceInDifferences.tsx:2:10
TS2459: Module '"../../context/ProjectContext"' declares 'ProjectContext' locally, but it is not exported.
    1 | import React, { useState, useContext } from "react";
  > 2 | import { ProjectContext } from "../../context/ProjectContext";
      |          ^^^^^^^^^^^^^^
    3 | import { DiDResult } from "./types";
    4 | import { LineChart, Line, XAxis, YAxis, Tooltip, Legend, CartesianGrid } from "recharts";
    5 |

ERROR in src/pages/analytics/DifferenceInDifferences.tsx:7:11
TS2339: Property 'projectId' does not exist on type 'unknown'.
     5 |
     6 | const DifferenceInDifferences: React.FC = () => {
  >  7 |   const { projectId } = useContext(ProjectContext);
       |           ^^^^^^^^^
     8 |   const [datasetVersionId, setDatasetVersionId] = useState<number | null>(null);
     9 |   const [outcomeColumn, setOutcomeColumn] = useState("");
    10 |   const [groupColumn, setGroupColumn] = useState("");

ERROR in src/pages/analytics/InterruptedTimeSeries.tsx:2:10
TS2459: Module '"../../context/ProjectContext"' declares 'ProjectContext' locally, but it is not exported.
    1 | import React, { useState, useContext } from "react";
  > 2 | import { ProjectContext } from "../../context/ProjectContext";
      |          ^^^^^^^^^^^^^^
    3 | import { ITSResult } from "./types";
    4 | import { LineChart, Line, XAxis, YAxis, Tooltip, Legend, CartesianGrid } from "recharts";
    5 |

ERROR in src/pages/analytics/InterruptedTimeSeries.tsx:7:11
TS2339: Property 'projectId' does not exist on type 'unknown'.
     5 |
     6 | const InterruptedTimeSeries: React.FC = () => {
  >  7 |   const { projectId } = useContext(ProjectContext);
       |           ^^^^^^^^^
     8 |   const [datasetVersionId, setDatasetVersionId] = useState<number | null>(null);
     9 |   const [timeColumn, setTimeColumn] = useState("");
    10 |   const [outcomeColumn, setOutcomeColumn] = useState("");

ERROR in src/pages/analytics/MixedEffects.tsx:2:10
TS2459: Module '"../../context/ProjectContext"' declares 'ProjectContext' locally, but it is not exported.
    1 | import React, { useState, useContext } from "react";
  > 2 | import { ProjectContext } from "../../context/ProjectContext";
      |          ^^^^^^^^^^^^^^
    3 | import { MixedEffectsResult } from "./types";
    4 |
    5 | const MixedEffects: React.FC = () => {

ERROR in src/pages/analytics/MixedEffects.tsx:6:11
TS2339: Property 'projectId' does not exist on type 'unknown'.
    4 |
    5 | const MixedEffects: React.FC = () => {
  > 6 |   const { projectId } = useContext(ProjectContext);
      |           ^^^^^^^^^
    7 |   const [datasetVersionId, setDatasetVersionId] = useState<number | null>(null);
    8 |   const [outcomeColumn, setOutcomeColumn] = useState("");
    9 |   const [fixedEffects, setFixedEffects] = useState<string>("");

ERROR in src/pages/analytics/NetworkMetaAnalysis.tsx:2:10
TS2459: Module '"../../context/ProjectContext"' declares 'ProjectContext' locally, but it is not exported.
    1 | import React, { useState, useContext } from "react";
  > 2 | import { ProjectContext } from "../../context/ProjectContext";
      |          ^^^^^^^^^^^^^^
    3 | import { NetworkMetaResult } from "./types";
    4 |
    5 | const NetworkMetaAnalysis: React.FC = () => {

ERROR in src/pages/analytics/NetworkMetaAnalysis.tsx:6:11
TS2339: Property 'projectId' does not exist on type 'unknown'.
    4 |
    5 | const NetworkMetaAnalysis: React.FC = () => {
  > 6 |   const { projectId } = useContext(ProjectContext);
      |           ^^^^^^^^^
    7 |   const [datasetVersionId, setDatasetVersionId] = useState<number | null>(null);
    8 |   const [result, setResult] = useState<NetworkMetaResult | null>(null);
    9 |   const [error, setError] = useState<string | null>(null);

ERROR in src/pages/analytics/SpatialAnalysis.tsx:2:10
TS2459: Module '"../../context/ProjectContext"' declares 'ProjectContext' locally, but it is not exported.
    1 | import React, { useState, useContext } from "react";
  > 2 | import { ProjectContext } from "../../context/ProjectContext";
      |          ^^^^^^^^^^^^^^
    3 | import { SpatialResult } from "./types";
    4 |
    5 | const SpatialAnalysis: React.FC = () => {

ERROR in src/pages/analytics/SpatialAnalysis.tsx:6:11
TS2339: Property 'projectId' does not exist on type 'unknown'.
    4 |
    5 | const SpatialAnalysis: React.FC = () => {
  > 6 |   const { projectId } = useContext(ProjectContext);
      |           ^^^^^^^^^
    7 |   const [datasetVersionId, setDatasetVersionId] = useState<number | null>(null);
    8 |   const [result, setResult] = useState<SpatialResult | null>(null);
    9 |   const [error, setError] = useState<string | null>(null);

ERROR in src/pages/LiteratureReview.tsx:207:46
TS1003: Identifier expected.
    205 |             const THEMES = ['Background', 'Methods', 'Intervention', 'Outcome', 'Comparison', 'Population', 'Risk Factor', 'Epidemiology', 'Policy'];
    206 |
  > 207 |             const GRADE_COLORS: Record<string, string> = {
        |                                              ^
    208 |               'High':     '#5A8A6A',
    209 |               'Moderate': '#2196f3',
    210 |               'Low':      '#ff9800',

ERROR in src/pages/LiteratureReview.tsx:207:54
TS1382: Unexpected token. Did you mean `{'>'}` or `&gt;`?
    205 |             const THEMES = ['Background', 'Methods', 'Intervention', 'Outcome', 'Comparison', 'Population', 'Risk Factor', 'Epidemiology', 'Policy'];
    206 |
  > 207 |             const GRADE_COLORS: Record<string, string> = {
        |                                                      ^
    208 |               'High':     '#5A8A6A',
    209 |               'Moderate': '#2196f3',
    210 |               'Low':      '#ff9800',

ERROR in src/pages/LiteratureReview.tsx:208:21
TS1005: '}' expected.
    206 |
    207 |             const GRADE_COLORS: Record<string, string> = {
  > 208 |               'High':     '#5A8A6A',
        |                     ^
    209 |               'Moderate': '#2196f3',
    210 |               'Low':      '#ff9800',
    211 |               'Very Low': '#f44336',

ERROR in src/pages/LiteratureReview.tsx:212:13
TS1381: Unexpected token. Did you mean `{'}'}` or `&rbrace;`?
    210 |               'Low':      '#ff9800',
    211 |               'Very Low': '#f44336',
  > 212 |             };
        |             ^
    213 |
    214 |             const LEVEL_COLORS: Record<string, string> = {
    215 |               '1a': '#5A8A6A', '1b': '#5A8A6A',

ERROR in src/pages/LiteratureReview.tsx:214:46
TS1003: Identifier expected.
    212 |             };
    213 |
  > 214 |             const LEVEL_COLORS: Record<string, string> = {
        |                                              ^
    215 |               '1a': '#5A8A6A', '1b': '#5A8A6A',
    216 |               '2a': '#2196f3', '2b': '#2196f3',
    217 |               '3':  '#ff9800',

ERROR in src/pages/LiteratureReview.tsx:214:54
TS1382: Unexpected token. Did you mean `{'>'}` or `&gt;`?
    212 |             };
    213 |
  > 214 |             const LEVEL_COLORS: Record<string, string> = {
        |                                                      ^
    215 |               '1a': '#5A8A6A', '1b': '#5A8A6A',
    216 |               '2a': '#2196f3', '2b': '#2196f3',
    217 |               '3':  '#ff9800',

ERROR in src/pages/LiteratureReview.tsx:215:19
TS1005: '}' expected.
    213 |
    214 |             const LEVEL_COLORS: Record<string, string> = {
  > 215 |               '1a': '#5A8A6A', '1b': '#5A8A6A',
        |                   ^
    216 |               '2a': '#2196f3', '2b': '#2196f3',
    217 |               '3':  '#ff9800',
    218 |               '4':  '#f44336',

ERROR in src/pages/LiteratureReview.tsx:220:13
TS1381: Unexpected token. Did you mean `{'}'}` or `&rbrace;`?
    218 |               '4':  '#f44336',
    219 |               '5':  '#9c27b0',
  > 220 |             };
        |             ^
    221 |
    222 |             type Reference = {
    223 |               id:           string;

ERROR in src/pages/LiteratureReview.tsx:223:17
TS1005: '}' expected.
    221 |
    222 |             type Reference = {
  > 223 |               id:           string;
        |                 ^
    224 |               title:        string;
    225 |               authors:      string;
    226 |               journal:      string;

ERROR in src/pages/LiteratureReview.tsx:245:13
TS1381: Unexpected token. Did you mean `{'}'}` or `&rbrace;`?
    243 |               key_finding:  string;
    244 |               added_at:     string;
  > 245 |             };
        |             ^
    246 |
    247 |             function emptyRef(): Reference {
    248 |               return {

ERROR in src/pages/LiteratureReview.tsx:248:15
TS1109: Expression expected.
    246 |
    247 |             function emptyRef(): Reference {
  > 248 |               return {
        |               ^^^^^^
    249 |                 id:          Date.now().toString(),
    250 |                 title:       '',
    251 |                 authors:     '',

ERROR in src/pages/LiteratureReview.tsx:249:19
TS1005: '}' expected.
    247 |             function emptyRef(): Reference {
    248 |               return {
  > 249 |                 id:          Date.now().toString(),
        |                   ^
    250 |                 title:       '',
    251 |                 authors:     '',
    252 |                 journal:     '',

ERROR in src/pages/LiteratureReview.tsx:271:15
TS1381: Unexpected token. Did you mean `{'}'}` or `&rbrace;`?
    269 |                 key_finding: '',
    270 |                 added_at:    new Date().toISOString(),
  > 271 |               };
        |               ^
    272 |             }
    273 |
    274 |             function vancouverCite(ref: Reference, index: number): string {

ERROR in src/pages/LiteratureReview.tsx:272:13
TS1381: Unexpected token. Did you mean `{'}'}` or `&rbrace;`?
    270 |                 added_at:    new Date().toISOString(),
    271 |               };
  > 272 |             }
        |             ^
    273 |
    274 |             function vancouverCite(ref: Reference, index: number): string {
    275 |               const authors = ref.authors.split(',').slice(0, 6).join(', ');

ERROR in src/pages/LiteratureReview.tsx:275:15
TS1109: Expression expected.
    273 |
    274 |             function vancouverCite(ref: Reference, index: number): string {
  > 275 |               const authors = ref.authors.split(',').slice(0, 6).join(', ');
        |               ^^^^^
    276 |               const et_al   = ref.authors.split(',').length > 6 ? ', et al' : '';
    277 |               return `${index}. ${authors}${et_al}. ${ref.title}. ${ref.journal}. ${ref.year};${ref.volume}${ref.issue ? `(${ref.issue})` : ''}:${ref.pages}.${ref.doi ? ` doi:${ref.doi}` : ''}`;
    278 |             }

ERROR in src/pages/LiteratureReview.tsx:276:61
TS1382: Unexpected token. Did you mean `{'>'}` or `&gt;`?
    274 |             function vancouverCite(ref: Reference, index: number): string {
    275 |               const authors = ref.authors.split(',').slice(0, 6).join(', ');
  > 276 |               const et_al   = ref.authors.split(',').length > 6 ? ', et al' : '';
        |                                                             ^
    277 |               return `${index}. ${authors}${et_al}. ${ref.title}. ${ref.journal}. ${ref.year};${ref.volume}${ref.issue ? `(${ref.issue})` : ''}:${ref.pages}.${ref.doi ? ` doi:${ref.doi}` : ''}`;
    278 |             }
    279 |

ERROR in src/pages/LiteratureReview.tsx:278:13
TS1381: Unexpected token. Did you mean `{'}'}` or `&rbrace;`?
    276 |               const et_al   = ref.authors.split(',').length > 6 ? ', et al' : '';
    277 |               return `${index}. ${authors}${et_al}. ${ref.title}. ${ref.journal}. ${ref.year};${ref.volume}${ref.issue ? `(${ref.issue})` : ''}:${ref.pages}.${ref.doi ? ` doi:${ref.doi}` : ''}`;
  > 278 |             }
        |             ^
    279 |
    280 |             function apaCite(ref: Reference): string {
    281 |               const authors = ref.authors;

ERROR in src/pages/LiteratureReview.tsx:281:15
TS1109: Expression expected.
    279 |
    280 |             function apaCite(ref: Reference): string {
  > 281 |               const authors = ref.authors;
        |               ^^^^^
    282 |               return `${authors} (${ref.year}). ${ref.title}. ${ref.journal}, ${ref.volume}${ref.issue ? `(${ref.issue})` : ''}, ${ref.pages}.${ref.doi ? ` https://doi.org/${ref.doi}` : ''}`;
    283 |             }
    284 |

ERROR in src/pages/LiteratureReview.tsx:283:13
TS1381: Unexpected token. Did you mean `{'}'}` or `&rbrace;`?
    281 |               const authors = ref.authors;
    282 |               return `${authors} (${ref.year}). ${ref.title}. ${ref.journal}, ${ref.volume}${ref.issue ? `(${ref.issue})` : ''}, ${ref.pages}.${ref.doi ? ` https://doi.org/${ref.doi}` : ''}`;
  > 283 |             }
        |             ^
    284 |
    285 |             const LiteratureReview: React.FC = () => {
    286 |               const { projectId } = useProject();

ERROR in src/pages/LiteratureReview.tsx:285:52
TS1382: Unexpected token. Did you mean `{'>'}` or `&gt;`?
    283 |             }
    284 |
  > 285 |             const LiteratureReview: React.FC = () => {
        |                                                    ^
    286 |               const { projectId } = useProject();
    287 |               const [refs, setRefs]             = useState<Reference[]>([]);
    288 |               const [activeTab, setActiveTab]   = useState('library');

ERROR in src/pages/LiteratureReview.tsx:286:15
TS1109: Expression expected.
    284 |
    285 |             const LiteratureReview: React.FC = () => {
  > 286 |               const { projectId } = useProject();
        |               ^^^^^
    287 |               const [refs, setRefs]             = useState<Reference[]>([]);
    288 |               const [activeTab, setActiveTab]   = useState('library');
    289 |               const [showAdd, setShowAdd]       = useState(false);

ERROR in src/pages/LiteratureReview.tsx:287:69
TS1003: Identifier expected.
    285 |             const LiteratureReview: React.FC = () => {
    286 |               const { projectId } = useProject();
  > 287 |               const [refs, setRefs]             = useState<Reference[]>([]);
        |                                                                     ^
    288 |               const [activeTab, setActiveTab]   = useState('library');
    289 |               const [showAdd, setShowAdd]       = useState(false);
    290 |               const [showPICO, setShowPICO]     = useState(false);

ERROR in src/pages/LiteratureReview.tsx:287:71
TS1382: Unexpected token. Did you mean `{'>'}` or `&gt;`?
    285 |             const LiteratureReview: React.FC = () => {
    286 |               const { projectId } = useProject();
  > 287 |               const [refs, setRefs]             = useState<Reference[]>([]);
        |                                                                       ^
    288 |               const [activeTab, setActiveTab]   = useState('library');
    289 |               const [showAdd, setShowAdd]       = useState(false);
    290 |               const [showPICO, setShowPICO]     = useState(false);

ERROR in src/pages/LiteratureReview.tsx:291:70
TS1003: Identifier expected.
    289 |               const [showAdd, setShowAdd]       = useState(false);
    290 |               const [showPICO, setShowPICO]     = useState(false);
  > 291 |               const [editing, setEditing]       = useState<Reference | null>(null);
        |                                                                      ^
    292 |               const [form, setForm]             = useState<Reference>(emptyRef());
    293 |               const [search, setSearch]         = useState('');
    294 |               const [filterTheme, setFilterTheme] = useState('All');

ERROR in src/pages/LiteratureReview.tsx:291:76
TS1382: Unexpected token. Did you mean `{'>'}` or `&gt;`?
    289 |               const [showAdd, setShowAdd]       = useState(false);
    290 |               const [showPICO, setShowPICO]     = useState(false);
  > 291 |               const [editing, setEditing]       = useState<Reference | null>(null);
        |                                                                            ^
    292 |               const [form, setForm]             = useState<Reference>(emptyRef());
    293 |               const [search, setSearch]         = useState('');
    294 |               const [filterTheme, setFilterTheme] = useState('All');

ERROR in src/pages/LiteratureReview.tsx:296:60
TS1003: Identifier expected.
    294 |               const [filterTheme, setFilterTheme] = useState('All');
    295 |               const [filterGrade, setFilterGrade] = useState('All');
  > 296 |               const [citStyle, setCitStyle]     = useState<'vancouver'|'apa'>('vancouver');
        |                                                            ^^^^^^^^^^^
    297 |               const [copied, setCopied]         = useState(false);
    298 |               const [saved, setSaved]           = useState(false);
    299 |               const [loading, setLoading]       = useState(false);

ERROR in src/pages/LiteratureReview.tsx:296:77
TS1382: Unexpected token. Did you mean `{'>'}` or `&gt;`?
    294 |               const [filterTheme, setFilterTheme] = useState('All');
    295 |               const [filterGrade, setFilterGrade] = useState('All');
  > 296 |               const [citStyle, setCitStyle]     = useState<'vancouver'|'apa'>('vancouver');
        |                                                                             ^
    297 |               const [copied, setCopied]         = useState(false);
    298 |               const [saved, setSaved]           = useState(false);
    299 |               const [loading, setLoading]       = useState(false);

ERROR in src/pages/LiteratureReview.tsx:301:29
TS1382: Unexpected token. Did you mean `{'>'}` or `&gt;`?
    299 |               const [loading, setLoading]       = useState(false);
    300 |
  > 301 |               useEffect(() => {
        |                             ^
    302 |                 if (!projectId) return;
    303 |                 setLoading(true);
    304 |                 fetch(`/api/references?project_id=${projectId}`)

ERROR in src/pages/LiteratureReview.tsx:302:17
TS1109: Expression expected.
    300 |
    301 |               useEffect(() => {
  > 302 |                 if (!projectId) return;
        |                 ^^
    303 |                 setLoading(true);
    304 |                 fetch(`/api/references?project_id=${projectId}`)
    305 |                   .then(res => res.json())

ERROR in src/pages/LiteratureReview.tsx:305:30
TS1382: Unexpected token. Did you mean `{'>'}` or `&gt;`?
    303 |                 setLoading(true);
    304 |                 fetch(`/api/references?project_id=${projectId}`)
  > 305 |                   .then(res => res.json())
        |                              ^
    306 |                   .then(data => setRefs(data))
    307 |                   .finally(() => setLoading(false));
    308 |               }, [projectId]);

ERROR in src/pages/LiteratureReview.tsx:306:31
TS1382: Unexpected token. Did you mean `{'>'}` or `&gt;`?
    304 |                 fetch(`/api/references?project_id=${projectId}`)
    305 |                   .then(res => res.json())
  > 306 |                   .then(data => setRefs(data))
        |                               ^
    307 |                   .finally(() => setLoading(false));
    308 |               }, [projectId]);
    309 |

ERROR in src/pages/LiteratureReview.tsx:307:32
TS1382: Unexpected token. Did you mean `{'>'}` or `&gt;`?
    305 |                   .then(res => res.json())
    306 |                   .then(data => setRefs(data))
  > 307 |                   .finally(() => setLoading(false));
        |                                ^
    308 |               }, [projectId]);
    309 |
    310 |               function save(updated: Reference[]) {

ERROR in src/pages/LiteratureReview.tsx:308:15
TS1381: Unexpected token. Did you mean `{'}'}` or `&rbrace;`?
    306 |                   .then(data => setRefs(data))
    307 |                   .finally(() => setLoading(false));
  > 308 |               }, [projectId]);
        |               ^
    309 |
    310 |               function save(updated: Reference[]) {
    311 |                 setRefs(updated);

ERROR in src/pages/LiteratureReview.tsx:311:33
TS1005: '}' expected.
    309 |
    310 |               function save(updated: Reference[]) {
  > 311 |                 setRefs(updated);
        |                                 ^
    312 |                 setSaved(true);
    313 |                 setTimeout(() => setSaved(false), 1500);
    314 |               }

ERROR in src/pages/LiteratureReview.tsx:313:32
TS1382: Unexpected token. Did you mean `{'>'}` or `&gt;`?
    311 |                 setRefs(updated);
    312 |                 setSaved(true);
  > 313 |                 setTimeout(() => setSaved(false), 1500);
        |                                ^
    314 |               }
    315 |
    316 |               async function addRef() {

ERROR in src/pages/LiteratureReview.tsx:314:15
TS1381: Unexpected token. Did you mean `{'}'}` or `&rbrace;`?
    312 |                 setSaved(true);
    313 |                 setTimeout(() => setSaved(false), 1500);
  > 314 |               }
        |               ^
    315 |
    316 |               async function addRef() {
    317 |                 if (!form.title || !form.authors || !projectId) return;

ERROR in src/pages/LiteratureReview.tsx:317:17
TS1109: Expression expected.
    315 |
    316 |               async function addRef() {
  > 317 |                 if (!form.title || !form.authors || !projectId) return;
        |                 ^^
    318 |                 const payload = { ...form, project_id: projectId };
    319 |                 const res = await fetch('/api/references', {
    320 |                   method: 'POST',

ERROR in src/pages/LiteratureReview.tsx:318:54
TS1005: '}' expected.
    316 |               async function addRef() {
    317 |                 if (!form.title || !form.authors || !projectId) return;
  > 318 |                 const payload = { ...form, project_id: projectId };
        |                                                      ^
    319 |                 const res = await fetch('/api/references', {
    320 |                   method: 'POST',
    321 |                   headers: { 'Content-Type': 'application/json' },

ERROR in src/pages/LiteratureReview.tsx:318:66
TS1381: Unexpected token. Did you mean `{'}'}` or `&rbrace;`?
    316 |               async function addRef() {
    317 |                 if (!form.title || !form.authors || !projectId) return;
  > 318 |                 const payload = { ...form, project_id: projectId };
        |                                                                  ^
    319 |                 const res = await fetch('/api/references', {
    320 |                   method: 'POST',
    321 |                   headers: { 'Content-Type': 'application/json' },

ERROR in src/pages/LiteratureReview.tsx:320:25
TS1005: '}' expected.
    318 |                 const payload = { ...form, project_id: projectId };
    319 |                 const res = await fetch('/api/references', {
  > 320 |                   method: 'POST',
        |                         ^
    321 |                   headers: { 'Content-Type': 'application/json' },
    322 |                   body: JSON.stringify(payload)
    323 |                 });

ERROR in src/pages/LiteratureReview.tsx:321:44
TS1005: '}' expected.
    319 |                 const res = await fetch('/api/references', {
    320 |                   method: 'POST',
  > 321 |                   headers: { 'Content-Type': 'application/json' },
        |                                            ^
    322 |                   body: JSON.stringify(payload)
    323 |                 });
    324 |                 if (res.ok) {

ERROR in src/pages/LiteratureReview.tsx:321:65
TS1381: Unexpected token. Did you mean `{'}'}` or `&rbrace;`?
    319 |                 const res = await fetch('/api/references', {
    320 |                   method: 'POST',
  > 321 |                   headers: { 'Content-Type': 'application/json' },
        |                                                                 ^
    322 |                   body: JSON.stringify(payload)
    323 |                 });
    324 |                 if (res.ok) {

ERROR in src/pages/LiteratureReview.tsx:323:17
TS1381: Unexpected token. Did you mean `{'}'}` or `&rbrace;`?
    321 |                   headers: { 'Content-Type': 'application/json' },
    322 |                   body: JSON.stringify(payload)
  > 323 |                 });
        |                 ^
    324 |                 if (res.ok) {
    325 |                   const newRef = await res.json();
    326 |                   save([...refs, newRef]);

ERROR in src/pages/LiteratureReview.tsx:325:19
TS1109: Expression expected.
    323 |                 });
    324 |                 if (res.ok) {
  > 325 |                   const newRef = await res.json();
        |                   ^^^^^
    326 |                   save([...refs, newRef]);
    327 |                   setForm(emptyRef());
    328 |                   setShowAdd(false);

ERROR in src/pages/LiteratureReview.tsx:329:17
TS1381: Unexpected token. Did you mean `{'}'}` or `&rbrace;`?
    327 |                   setForm(emptyRef());
    328 |                   setShowAdd(false);
  > 329 |                 }
        |                 ^
    330 |               }
    331 |
    332 |               async function updateRef() {

ERROR in src/pages/LiteratureReview.tsx:330:15
TS1381: Unexpected token. Did you mean `{'}'}` or `&rbrace;`?
    328 |                   setShowAdd(false);
    329 |                 }
  > 330 |               }
        |               ^
    331 |
    332 |               async function updateRef() {
    333 |                 // Not implemented: backend update endpoint. For now, delete and re-add.

ERROR in src/pages/LiteratureReview.tsx:334:17
TS1109: Expression expected.
    332 |               async function updateRef() {
    333 |                 // Not implemented: backend update endpoint. For now, delete and re-add.
  > 334 |                 if (!editing) return;
        |                 ^^
    335 |                 await deleteRef(editing.id, false);
    336 |                 await addRef();
    337 |                 setEditing(null);

ERROR in src/pages/LiteratureReview.tsx:340:15
TS1381: Unexpected token. Did you mean `{'}'}` or `&rbrace;`?
    338 |                 setForm(emptyRef());
    339 |                 setShowAdd(false);
  > 340 |               }
        |               ^
    341 |
    342 |               async function deleteRef(id: string, confirm = true) {
    343 |                 if (confirm && !window.confirm('Delete this reference?')) return;

ERROR in src/pages/LiteratureReview.tsx:343:17
TS1109: Expression expected.
    341 |
    342 |               async function deleteRef(id: string, confirm = true) {
  > 343 |                 if (confirm && !window.confirm('Delete this reference?')) return;
        |                 ^^
    344 |                 const res = await fetch(`/api/references/${id}`, { method: 'DELETE' });
    345 |                 if (res.ok) {
    346 |                   save(refs.filter(r => r.id !== id));

ERROR in src/pages/LiteratureReview.tsx:344:74
TS1005: '}' expected.
    342 |               async function deleteRef(id: string, confirm = true) {
    343 |                 if (confirm && !window.confirm('Delete this reference?')) return;
  > 344 |                 const res = await fetch(`/api/references/${id}`, { method: 'DELETE' });
        |                                                                          ^
    345 |                 if (res.ok) {
    346 |                   save(refs.filter(r => r.id !== id));
    347 |                 }

ERROR in src/pages/LiteratureReview.tsx:344:85
TS1381: Unexpected token. Did you mean `{'}'}` or `&rbrace;`?
    342 |               async function deleteRef(id: string, confirm = true) {
    343 |                 if (confirm && !window.confirm('Delete this reference?')) return;
  > 344 |                 const res = await fetch(`/api/references/${id}`, { method: 'DELETE' });
        |                                                                                     ^
    345 |                 if (res.ok) {
    346 |                   save(refs.filter(r => r.id !== id));
    347 |                 }

ERROR in src/pages/LiteratureReview.tsx:346:54
TS1005: '}' expected.
    344 |                 const res = await fetch(`/api/references/${id}`, { method: 'DELETE' });
    345 |                 if (res.ok) {
  > 346 |                   save(refs.filter(r => r.id !== id));
        |                                                      ^
    347 |                 }
    348 |               }
    349 |

ERROR in src/pages/LiteratureReview.tsx:347:17
TS1381: Unexpected token. Did you mean `{'}'}` or `&rbrace;`?
    345 |                 if (res.ok) {
    346 |                   save(refs.filter(r => r.id !== id));
  > 347 |                 }
        |                 ^
    348 |               }
    349 |
    350 |               function startEdit(ref: Reference) {

ERROR in src/pages/LiteratureReview.tsx:348:15
TS1381: Unexpected token. Did you mean `{'}'}` or `&rbrace;`?
    346 |                   save(refs.filter(r => r.id !== id));
    347 |                 }
  > 348 |               }
        |               ^
    349 |
    350 |               function startEdit(ref: Reference) {
    351 |                 setForm({ ...ref });

ERROR in src/pages/LiteratureReview.tsx:351:36
TS1005: '}' expected.
    349 |
    350 |               function startEdit(ref: Reference) {
  > 351 |                 setForm({ ...ref });
        |                                    ^
    352 |                 setEditing(ref);
    353 |                 setShowAdd(true);
    354 |               }

ERROR in src/pages/LiteratureReview.tsx:354:15
TS1381: Unexpected token. Did you mean `{'}'}` or `&rbrace;`?
    352 |                 setEditing(ref);
    353 |                 setShowAdd(true);
  > 354 |               }
        |               ^
    355 |
    356 |               function copyBibliography() {
    357 |                 const filtered = refs.filter(r => {

ERROR in src/pages/LiteratureReview.tsx:357:17
TS1109: Expression expected.
    355 |
    356 |               function copyBibliography() {
  > 357 |                 const filtered = refs.filter(r => {
        |                 ^^^^^
    358 |                   const matchSearch = !search || r.title.toLowerCase().includes(search.toLowerCase()) ||
    359 |                     r.authors.toLowerCase().includes(search.toLowerCase()) ||
    360 |                     r.key_finding.toLowerCase().includes(search.toLowerCase()) ||

ERROR in src/pages/LiteratureReview.tsx:357:49
TS1382: Unexpected token. Did you mean `{'>'}` or `&gt;`?
    355 |
    356 |               function copyBibliography() {
  > 357 |                 const filtered = refs.filter(r => {
        |                                                 ^
    358 |                   const matchSearch = !search || r.title.toLowerCase().includes(search.toLowerCase()) ||
    359 |                     r.authors.toLowerCase().includes(search.toLowerCase()) ||
    360 |                     r.key_finding.toLowerCase().includes(search.toLowerCase()) ||

ERROR in src/pages/LiteratureReview.tsx:358:19
TS1109: Expression expected.
    356 |               function copyBibliography() {
    357 |                 const filtered = refs.filter(r => {
  > 358 |                   const matchSearch = !search || r.title.toLowerCase().includes(search.toLowerCase()) ||
        |                   ^^^^^
    359 |                     r.authors.toLowerCase().includes(search.toLowerCase()) ||
    360 |                     r.key_finding.toLowerCase().includes(search.toLowerCase()) ||
    361 |                     r.country.toLowerCase().includes(search.toLowerCase());

ERROR in src/pages/LiteratureReview.tsx:365:17
TS1381: Unexpected token. Did you mean `{'}'}` or `&rbrace;`?
    363 |                   const matchGrade = filterGrade === 'All' || r.grade === filterGrade;
    364 |                   return matchSearch && matchTheme && matchGrade;
  > 365 |                 });
        |                 ^
    366 |                 const text = filtered.map((r, i) =>
    367 |                   citStyle === 'vancouver' ? vancouverCite(r, i + 1) : apaCite(r)
    368 |                 ).join('\n\n');

ERROR in src/pages/LiteratureReview.tsx:366:51
TS1382: Unexpected token. Did you mean `{'>'}` or `&gt;`?
    364 |                   return matchSearch && matchTheme && matchGrade;
    365 |                 });
  > 366 |                 const text = filtered.map((r, i) =>
        |                                                   ^
    367 |                   citStyle === 'vancouver' ? vancouverCite(r, i + 1) : apaCite(r)
    368 |                 ).join('\n\n');
    369 |                 navigator.clipboard.writeText(text);

ERROR in src/pages/LiteratureReview.tsx:371:32
TS1382: Unexpected token. Did you mean `{'>'}` or `&gt;`?
    369 |                 navigator.clipboard.writeText(text);
    370 |                 setCopied(true);
  > 371 |                 setTimeout(() => setCopied(false), 2000);
        |                                ^
    372 |               }
    373 |
    374 |               if (!projectId) {

ERROR in src/pages/LiteratureReview.tsx:372:15
TS1381: Unexpected token. Did you mean `{'}'}` or `&rbrace;`?
    370 |                 setCopied(true);
    371 |                 setTimeout(() => setCopied(false), 2000);
  > 372 |               }
        |               ^
    373 |
    374 |               if (!projectId) {
    375 |                 return (

ERROR in src/pages/LiteratureReview.tsx:375:17
TS1109: Expression expected.
    373 |
    374 |               if (!projectId) {
  > 375 |                 return (
        |                 ^^^^^^
    376 |                   <div className="card" style={{ margin: '2rem auto', maxWidth: 500, textAlign: 'center' }}>
    377 |                     <h2>Please select or create a project to continue.</h2>
    378 |                   </div>

ERROR in src/pages/LiteratureReview.tsx:380:15
TS1381: Unexpected token. Did you mean `{'}'}` or `&rbrace;`?
    378 |                   </div>
    379 |                 );
  > 380 |               }
        |               ^
    381 |
    382 |               const filtered = refs.filter(r => {
    383 |                 const matchSearch = !search || r.title.toLowerCase().includes(search.toLowerCase()) ||

ERROR in src/pages/LiteratureReview.tsx:382:47
TS1382: Unexpected token. Did you mean `{'>'}` or `&gt;`?
    380 |               }
    381 |
  > 382 |               const filtered = refs.filter(r => {
        |                                               ^
    383 |                 const matchSearch = !search || r.title.toLowerCase().includes(search.toLowerCase()) ||
    384 |                   r.authors.toLowerCase().includes(search.toLowerCase()) ||
    385 |                   r.key_finding.toLowerCase().includes(search.toLowerCase()) ||

ERROR in src/pages/LiteratureReview.tsx:383:17
TS1109: Expression expected.
    381 |
    382 |               const filtered = refs.filter(r => {
  > 383 |                 const matchSearch = !search || r.title.toLowerCase().includes(search.toLowerCase()) ||
        |                 ^^^^^
    384 |                   r.authors.toLowerCase().includes(search.toLowerCase()) ||
    385 |                   r.key_finding.toLowerCase().includes(search.toLowerCase()) ||
    386 |                   r.country.toLowerCase().includes(search.toLowerCase());

ERROR in src/pages/LiteratureReview.tsx:390:15
TS1381: Unexpected token. Did you mean `{'}'}` or `&rbrace;`?
    388 |                 const matchGrade = filterGrade === 'All' || r.grade === filterGrade;
    389 |                 return matchSearch && matchTheme && matchGrade;
  > 390 |               });
        |               ^
    391 |
    392 |               const themeGroups = THEMES.reduce((acc, theme) => {
    393 |                 acc[theme] = refs.filter(r => r.theme === theme);

ERROR in src/pages/LiteratureReview.tsx:392:63
TS1382: Unexpected token. Did you mean `{'>'}` or `&gt;`?
    390 |               });
    391 |
  > 392 |               const themeGroups = THEMES.reduce((acc, theme) => {
        |                                                               ^
    393 |                 acc[theme] = refs.filter(r => r.theme === theme);
    394 |                 return acc;
    395 |               }, {} as Record<string, Reference[]>);

ERROR in src/pages/LiteratureReview.tsx:393:65
TS1005: '}' expected.
    391 |
    392 |               const themeGroups = THEMES.reduce((acc, theme) => {
  > 393 |                 acc[theme] = refs.filter(r => r.theme === theme);
        |                                                                 ^
    394 |                 return acc;
    395 |               }, {} as Record<string, Reference[]>);
    396 |

ERROR in src/pages/LiteratureReview.tsx:395:15
TS1381: Unexpected token. Did you mean `{'}'}` or `&rbrace;`?
    393 |                 acc[theme] = refs.filter(r => r.theme === theme);
    394 |                 return acc;
  > 395 |               }, {} as Record<string, Reference[]>);
        |               ^
    396 |
    397 |               const gradeDistribution = GRADE_LEVELS.map(g => ({
    398 |                 grade: g, count: refs.filter(r => r.grade === g).length

ERROR in src/pages/LiteratureReview.tsx:395:37
TS1003: Identifier expected.
    393 |                 acc[theme] = refs.filter(r => r.theme === theme);
    394 |                 return acc;
  > 395 |               }, {} as Record<string, Reference[]>);
        |                                     ^
    396 |
    397 |               const gradeDistribution = GRADE_LEVELS.map(g => ({
    398 |                 grade: g, count: refs.filter(r => r.grade === g).length

ERROR in src/pages/LiteratureReview.tsx:395:50
TS1382: Unexpected token. Did you mean `{'>'}` or `&gt;`?
    393 |                 acc[theme] = refs.filter(r => r.theme === theme);
    394 |                 return acc;
  > 395 |               }, {} as Record<string, Reference[]>);
        |                                                  ^
    396 |
    397 |               const gradeDistribution = GRADE_LEVELS.map(g => ({
    398 |                 grade: g, count: refs.filter(r => r.grade === g).length

ERROR in src/pages/LiteratureReview.tsx:397:61
TS1382: Unexpected token. Did you mean `{'>'}` or `&gt;`?
    395 |               }, {} as Record<string, Reference[]>);
    396 |
  > 397 |               const gradeDistribution = GRADE_LEVELS.map(g => ({
        |                                                             ^
    398 |                 grade: g, count: refs.filter(r => r.grade === g).length
    399 |               }));
    400 |

ERROR in src/pages/LiteratureReview.tsx:398:22
TS1005: '}' expected.
    396 |
    397 |               const gradeDistribution = GRADE_LEVELS.map(g => ({
  > 398 |                 grade: g, count: refs.filter(r => r.grade === g).length
        |                      ^
    399 |               }));
    400 |
    401 |               return (

ERROR in src/pages/LiteratureReview.tsx:398:49
TS1382: Unexpected token. Did you mean `{'>'}` or `&gt;`?
    396 |
    397 |               const gradeDistribution = GRADE_LEVELS.map(g => ({
  > 398 |                 grade: g, count: refs.filter(r => r.grade === g).length
        |                                                 ^
    399 |               }));
    400 |
    401 |               return (

ERROR in src/pages/LiteratureReview.tsx:399:15
TS1381: Unexpected token. Did you mean `{'}'}` or `&rbrace;`?
    397 |               const gradeDistribution = GRADE_LEVELS.map(g => ({
    398 |                 grade: g, count: refs.filter(r => r.grade === g).length
  > 399 |               }));
        |               ^
    400 |
    401 |               return (
    402 |                 <div className="page">

ERROR in src/pages/LiteratureReview.tsx:407:13
TS1381: Unexpected token. Did you mean `{'}'}` or `&rbrace;`?
    405 |                 </div>
    406 |               );
  > 407 |             };
        |             ^
    408 |
    409 |             export default LiteratureReview;
    410 |                 </thead>

ERROR in src/pages/LiteratureReview.tsx:410:19
TS17002: Expected corresponding JSX closing tag for 'Reference'.
    408 |
    409 |             export default LiteratureReview;
  > 410 |                 </thead>
        |                   ^^^^^
    411 |                 <tbody>
    412 |                   {filtered.map((ref, i) => (
    413 |                     <tr key={ref.id} style={{ background: i % 2 === 0 ? '#f8f7f4' : 'white', borderBottom: '1px solid #eee' }}>

ERROR in src/pages/LiteratureReview.tsx:433:17
TS17002: Expected corresponding JSX closing tag for 'p'.
    431 |                   ))}
    432 |                 </tbody>
  > 433 |               </table>
        |                 ^^^^^
    434 |             </div>
    435 |           )}
    436 |         </div>

ERROR in src/pages/LiteratureReview.tsx:435:12
TS1381: Unexpected token. Did you mean `{'}'}` or `&rbrace;`?
    433 |               </table>
    434 |             </div>
  > 435 |           )}
        |            ^
    436 |         </div>
    437 |       )}
    438 |

ERROR in src/pages/LiteratureReview.tsx:437:8
TS1381: Unexpected token. Did you mean `{'}'}` or `&rbrace;`?
    435 |           )}
    436 |         </div>
  > 437 |       )}
        |        ^
    438 |
    439 |       {/* BIBLIOGRAPHY TAB */}
    440 |       {activeTab === 'bibliography' && (

ERROR in src/pages/LiteratureReview.tsx:658:1
TS1128: Declaration or statement expected.
    656 |     </div>
    657 |   );
  > 658 | }
        | ^
    659 |

ERROR in src/pages/SubgroupAnalysis.tsx:312:32
TS2322: Type '(val: any, name: string) => [any, string]' is not assignable to type 'Formatter<any, string> & ((value: any, name: string, item: Payload<any, string>, index: number, payload: Payload<any, string>[]) => ReactNode | [...])'.
  Type '(val: any, name: string) => [any, string]' is not assignable to type 'Formatter<any, string>'.
    Types of parameters 'name' and 'name' are incompatible.
      Type 'string | undefined' is not assignable to type 'string'.
        Type 'undefined' is not assignable to type 'string'.
    310 |                         tickFormatter={v => measure === 'OR' ? v.toFixed(1) : v.toFixed(2)} />
    311 |                       <YAxis type="category" dataKey="name" width={75} tick={{ fontSize: 12 }} />
  > 312 |                       <Tooltip formatter={(val: any, name: string) => [
        |                                ^^^^^^^^^
    313 |                         name === 'effect' ? `${measure}: ${val}` : val, name
    314 |                       ]} />
    315 |                       <ReferenceLine x={nullVal} stroke="#888" strokeDasharray="4 3" />

ERROR in src/pages/VisualisationStudio.tsx:229:45
TS2322: Type '(({ name, percent }: { name: string; percent?: number | undefined; }) => string) | undefined' is not assignable to type 'PieLabel | undefined'.
  Type '({ name, percent }: { name: string; percent?: number | undefined; }) => string' is not assignable to type 'PieLabel | undefined'.
    Type '({ name, percent }: { name: string; percent?: number | undefined; }) => string' is not assignable to type '(props: PieLabelRenderProps) => ReactNode | ReactElement<SVGElement, string | JSXElementConstructor<any>>'.
      Types of parameters '__0' and 'props' are incompatible.
        Type 'PieLabelRenderProps' is not assignable to type '{ name: string; percent?: number | undefined; }'.
          Types of property 'name' are incompatible.
            Type 'string | undefined' is not assignable to type 'string'.
              Type 'undefined' is not assignable to type 'string'.
    227 |           <PieChart>
    228 |             <Pie data={chartData} dataKey="value" nameKey="name" cx="50%" cy="50%"
  > 229 |               outerRadius={chartHeight / 3} label={showValues ? ({ name, percent }: { name: string, percent?: number }) => `${name} ${((percent || 0) * 100).toFixed(1)}%` : undefined}
        |                                             ^^^^^
    230 |               opacity={opacity}>
    231 |               {chartData.map((_: any, index: number) => (
    232 |                 <Cell key={index} fill={palette[index % palette.length]} />

Compiling...
Failed to compile.

[eslint] 
src/pages/LiteratureReview.tsx
Syntax error: Identifier expected (207:45)
WARNING in [eslint] 
src/pages/analytics/DifferenceInDifferences.tsx
  Line 1:27:  'useContext' is defined but never used  @typescript-eslint/no-unused-vars

src/pages/analytics/InterruptedTimeSeries.tsx
  Line 1:27:  'useContext' is defined but never used  @typescript-eslint/no-unused-vars

src/pages/analytics/MixedEffects.tsx
  Line 1:27:  'useContext' is defined but never used  @typescript-eslint/no-unused-vars

src/pages/analytics/NetworkMetaAnalysis.tsx
  Line 1:27:  'useContext' is defined but never used  @typescript-eslint/no-unused-vars

src/pages/analytics/SpatialAnalysis.tsx
  Line 1:27:  'useContext' is defined but never used  @typescript-eslint/no-unused-vars

ERROR in ./src/pages/LiteratureReview.tsx
Module build failed (from ./node_modules/babel-loader/lib/index.js):
SyntaxError: /workspaces/researchflow/frontend/src/pages/LiteratureReview.tsx: 'return' outside of function. (168:4)

  166 |
  167 |   if (!projectId) {
> 168 |     return <div className="card" style={{ margin: '2rem auto', maxWidth: 500, textAlign: 'center' }}>
      |     ^
  169 |       <h2>Please select or create a project to continue.</h2>
  170 |     </div>;
  171 |   }
    at constructor (/workspaces/researchflow/frontend/node_modules/@babel/parser/lib/index.js:365:19)
    at TypeScriptParserMixin.raise (/workspaces/researchflow/frontend/node_modules/@babel/parser/lib/index.js:6599:19)
    at TypeScriptParserMixin.parseReturnStatement (/workspaces/researchflow/frontend/node_modules/@babel/parser/lib/index.js:13136:12)
    at TypeScriptParserMixin.parseStatementContent (/workspaces/researchflow/frontend/node_modules/@babel/parser/lib/index.js:12798:21)
    at TypeScriptParserMixin.parseStatementContent (/workspaces/researchflow/frontend/node_modules/@babel/parser/lib/index.js:9508:18)
    at TypeScriptParserMixin.parseStatementLike (/workspaces/researchflow/frontend/node_modules/@babel/parser/lib/index.js:12767:17)
    at TypeScriptParserMixin.parseStatementListItem (/workspaces/researchflow/frontend/node_modules/@babel/parser/lib/index.js:12747:17)
    at TypeScriptParserMixin.parseBlockOrModuleBlockBody (/workspaces/researchflow/frontend/node_modules/@babel/parser/lib/index.js:13316:61)
    at TypeScriptParserMixin.parseBlockBody (/workspaces/researchflow/frontend/node_modules/@babel/parser/lib/index.js:13309:10)
    at TypeScriptParserMixin.parseBlock (/workspaces/researchflow/frontend/node_modules/@babel/parser/lib/index.js:13297:10)
    at TypeScriptParserMixin.parseStatementContent (/workspaces/researchflow/frontend/node_modules/@babel/parser/lib/index.js:12858:21)
    at TypeScriptParserMixin.parseStatementContent (/workspaces/researchflow/frontend/node_modules/@babel/parser/lib/index.js:9508:18)
    at TypeScriptParserMixin.parseStatementLike (/workspaces/researchflow/frontend/node_modules/@babel/parser/lib/index.js:12767:17)
    at TypeScriptParserMixin.parseStatementOrSloppyAnnexBFunctionDeclaration (/workspaces/researchflow/frontend/node_modules/@babel/parser/lib/index.js:12757:17)
    at TypeScriptParserMixin.parseIfStatement (/workspaces/researchflow/frontend/node_modules/@babel/parser/lib/index.js:13130:28)
    at TypeScriptParserMixin.parseStatementContent (/workspaces/researchflow/frontend/node_modules/@babel/parser/lib/index.js:12796:21)
    at TypeScriptParserMixin.parseStatementContent (/workspaces/researchflow/frontend/node_modules/@babel/parser/lib/index.js:9508:18)
    at TypeScriptParserMixin.parseStatementLike (/workspaces/researchflow/frontend/node_modules/@babel/parser/lib/index.js:12767:17)
    at TypeScriptParserMixin.parseModuleItem (/workspaces/researchflow/frontend/node_modules/@babel/parser/lib/index.js:12744:17)
    at TypeScriptParserMixin.parseBlockOrModuleBlockBody (/workspaces/researchflow/frontend/node_modules/@babel/parser/lib/index.js:13316:36)
    at TypeScriptParserMixin.parseBlockBody (/workspaces/researchflow/frontend/node_modules/@babel/parser/lib/index.js:13309:10)
    at TypeScriptParserMixin.parseProgram (/workspaces/researchflow/frontend/node_modules/@babel/parser/lib/index.js:12622:10)
    at TypeScriptParserMixin.parseTopLevel (/workspaces/researchflow/frontend/node_modules/@babel/parser/lib/index.js:12612:25)
    at TypeScriptParserMixin.parse (/workspaces/researchflow/frontend/node_modules/@babel/parser/lib/index.js:14488:25)
    at TypeScriptParserMixin.parse (/workspaces/researchflow/frontend/node_modules/@babel/parser/lib/index.js:10126:18)
    at parse (/workspaces/researchflow/frontend/node_modules/@babel/parser/lib/index.js:14522:38)
    at parser (/workspaces/researchflow/frontend/node_modules/@babel/core/lib/parser/index.js:41:34)
    at parser.next (<anonymous>)
    at normalizeFile (/workspaces/researchflow/frontend/node_modules/@babel/core/lib/transformation/normalize-file.js:64:37)
    at normalizeFile.next (<anonymous>)
    at run (/workspaces/researchflow/frontend/node_modules/@babel/core/lib/transformation/index.js:22:50)
    at run.next (<anonymous>)
    at transform (/workspaces/researchflow/frontend/node_modules/@babel/core/lib/transform.js:22:33)
    at transform.next (<anonymous>)
    at step (/workspaces/researchflow/frontend/node_modules/gensync/index.js:261:32)
    at /workspaces/researchflow/frontend/node_modules/gensync/index.js:273:13
    at async.call.result.err.err (/workspaces/researchflow/frontend/node_modules/gensync/index.js:223:11)

ERROR in [eslint] 
src/pages/LiteratureReview.tsx
  Line 207:45:  Parsing error: Identifier expected

webpack compiled with 2 errors and 1 warning
ERROR in src/App.tsx:37:8
TS1192: Module '"/workspaces/researchflow/frontend/src/pages/LiteratureReview"' has no default export.
    35 | import AIAssistant from './pages/AIAssistant';
    36 | import ProgressTracker from './pages/ProgressTracker';
  > 37 | import LiteratureReview from './pages/LiteratureReview';
       |        ^^^^^^^^^^^^^^^^
    38 | import CodebookGenerator from './pages/CodebookGenerator';
    39 | import DataVersioning from './pages/DataVersioning';
    40 | import Dashboard from './pages/Dashboard';

ERROR in src/pages/LiteratureReview.tsx:207:46
TS1003: Identifier expected.
    205 |             const THEMES = ['Background', 'Methods', 'Intervention', 'Outcome', 'Comparison', 'Population', 'Risk Factor', 'Epidemiology', 'Policy'];
    206 |
  > 207 |             const GRADE_COLORS: Record<string, string> = {
        |                                              ^
    208 |               'High':     '#5A8A6A',
    209 |               'Moderate': '#2196f3',
    210 |               'Low':      '#ff9800',

ERROR in src/pages/LiteratureReview.tsx:207:54
TS1382: Unexpected token. Did you mean `{'>'}` or `&gt;`?
    205 |             const THEMES = ['Background', 'Methods', 'Intervention', 'Outcome', 'Comparison', 'Population', 'Risk Factor', 'Epidemiology', 'Policy'];
    206 |
  > 207 |             const GRADE_COLORS: Record<string, string> = {
        |                                                      ^
    208 |               'High':     '#5A8A6A',
    209 |               'Moderate': '#2196f3',
    210 |               'Low':      '#ff9800',

ERROR in src/pages/LiteratureReview.tsx:208:21
TS1005: '}' expected.
    206 |
    207 |             const GRADE_COLORS: Record<string, string> = {
  > 208 |               'High':     '#5A8A6A',
        |                     ^
    209 |               'Moderate': '#2196f3',
    210 |               'Low':      '#ff9800',
    211 |               'Very Low': '#f44336',

ERROR in src/pages/LiteratureReview.tsx:212:13
TS1381: Unexpected token. Did you mean `{'}'}` or `&rbrace;`?
    210 |               'Low':      '#ff9800',
    211 |               'Very Low': '#f44336',
  > 212 |             };
        |             ^
    213 |
    214 |             const LEVEL_COLORS: Record<string, string> = {
    215 |               '1a': '#5A8A6A', '1b': '#5A8A6A',

ERROR in src/pages/LiteratureReview.tsx:214:46
TS1003: Identifier expected.
    212 |             };
    213 |
  > 214 |             const LEVEL_COLORS: Record<string, string> = {
        |                                              ^
    215 |               '1a': '#5A8A6A', '1b': '#5A8A6A',
    216 |               '2a': '#2196f3', '2b': '#2196f3',
    217 |               '3':  '#ff9800',

ERROR in src/pages/LiteratureReview.tsx:214:54
TS1382: Unexpected token. Did you mean `{'>'}` or `&gt;`?
    212 |             };
    213 |
  > 214 |             const LEVEL_COLORS: Record<string, string> = {
        |                                                      ^
    215 |               '1a': '#5A8A6A', '1b': '#5A8A6A',
    216 |               '2a': '#2196f3', '2b': '#2196f3',
    217 |               '3':  '#ff9800',

ERROR in src/pages/LiteratureReview.tsx:215:19
TS1005: '}' expected.
    213 |
    214 |             const LEVEL_COLORS: Record<string, string> = {
  > 215 |               '1a': '#5A8A6A', '1b': '#5A8A6A',
        |                   ^
    216 |               '2a': '#2196f3', '2b': '#2196f3',
    217 |               '3':  '#ff9800',
    218 |               '4':  '#f44336',

ERROR in src/pages/LiteratureReview.tsx:220:13
TS1381: Unexpected token. Did you mean `{'}'}` or `&rbrace;`?
    218 |               '4':  '#f44336',
    219 |               '5':  '#9c27b0',
  > 220 |             };
        |             ^
    221 |
    222 |             type Reference = {
    223 |               id:           string;

ERROR in src/pages/LiteratureReview.tsx:223:17
TS1005: '}' expected.
    221 |
    222 |             type Reference = {
  > 223 |               id:           string;
        |                 ^
    224 |               title:        string;
    225 |               authors:      string;
    226 |               journal:      string;

ERROR in src/pages/LiteratureReview.tsx:245:13
TS1381: Unexpected token. Did you mean `{'}'}` or `&rbrace;`?
    243 |               key_finding:  string;
    244 |               added_at:     string;
  > 245 |             };
        |             ^
    246 |
    247 |             function emptyRef(): Reference {
    248 |               return {

ERROR in src/pages/LiteratureReview.tsx:248:15
TS1109: Expression expected.
    246 |
    247 |             function emptyRef(): Reference {
  > 248 |               return {
        |               ^^^^^^
    249 |                 id:          Date.now().toString(),
    250 |                 title:       '',
    251 |                 authors:     '',

ERROR in src/pages/LiteratureReview.tsx:249:19
TS1005: '}' expected.
    247 |             function emptyRef(): Reference {
    248 |               return {
  > 249 |                 id:          Date.now().toString(),
        |                   ^
    250 |                 title:       '',
    251 |                 authors:     '',
    252 |                 journal:     '',

ERROR in src/pages/LiteratureReview.tsx:271:15
TS1381: Unexpected token. Did you mean `{'}'}` or `&rbrace;`?
    269 |                 key_finding: '',
    270 |                 added_at:    new Date().toISOString(),
  > 271 |               };
        |               ^
    272 |             }
    273 |
    274 |             function vancouverCite(ref: Reference, index: number): string {

ERROR in src/pages/LiteratureReview.tsx:272:13
TS1381: Unexpected token. Did you mean `{'}'}` or `&rbrace;`?
    270 |                 added_at:    new Date().toISOString(),
    271 |               };
  > 272 |             }
        |             ^
    273 |
    274 |             function vancouverCite(ref: Reference, index: number): string {
    275 |               const authors = ref.authors.split(',').slice(0, 6).join(', ');

ERROR in src/pages/LiteratureReview.tsx:275:15
TS1109: Expression expected.
    273 |
    274 |             function vancouverCite(ref: Reference, index: number): string {
  > 275 |               const authors = ref.authors.split(',').slice(0, 6).join(', ');
        |               ^^^^^
    276 |               const et_al   = ref.authors.split(',').length > 6 ? ', et al' : '';
    277 |               return `${index}. ${authors}${et_al}. ${ref.title}. ${ref.journal}. ${ref.year};${ref.volume}${ref.issue ? `(${ref.issue})` : ''}:${ref.pages}.${ref.doi ? ` doi:${ref.doi}` : ''}`;
    278 |             }

ERROR in src/pages/LiteratureReview.tsx:276:61
TS1382: Unexpected token. Did you mean `{'>'}` or `&gt;`?
    274 |             function vancouverCite(ref: Reference, index: number): string {
    275 |               const authors = ref.authors.split(',').slice(0, 6).join(', ');
  > 276 |               const et_al   = ref.authors.split(',').length > 6 ? ', et al' : '';
        |                                                             ^
    277 |               return `${index}. ${authors}${et_al}. ${ref.title}. ${ref.journal}. ${ref.year};${ref.volume}${ref.issue ? `(${ref.issue})` : ''}:${ref.pages}.${ref.doi ? ` doi:${ref.doi}` : ''}`;
    278 |             }
    279 |

ERROR in src/pages/LiteratureReview.tsx:278:13
TS1381: Unexpected token. Did you mean `{'}'}` or `&rbrace;`?
    276 |               const et_al   = ref.authors.split(',').length > 6 ? ', et al' : '';
    277 |               return `${index}. ${authors}${et_al}. ${ref.title}. ${ref.journal}. ${ref.year};${ref.volume}${ref.issue ? `(${ref.issue})` : ''}:${ref.pages}.${ref.doi ? ` doi:${ref.doi}` : ''}`;
  > 278 |             }
        |             ^
    279 |
    280 |             function apaCite(ref: Reference): string {
    281 |               const authors = ref.authors;

ERROR in src/pages/LiteratureReview.tsx:281:15
TS1109: Expression expected.
    279 |
    280 |             function apaCite(ref: Reference): string {
  > 281 |               const authors = ref.authors;
        |               ^^^^^
    282 |               return `${authors} (${ref.year}). ${ref.title}. ${ref.journal}, ${ref.volume}${ref.issue ? `(${ref.issue})` : ''}, ${ref.pages}.${ref.doi ? ` https://doi.org/${ref.doi}` : ''}`;
    283 |             }
    284 |

ERROR in src/pages/LiteratureReview.tsx:283:13
TS1381: Unexpected token. Did you mean `{'}'}` or `&rbrace;`?
    281 |               const authors = ref.authors;
    282 |               return `${authors} (${ref.year}). ${ref.title}. ${ref.journal}, ${ref.volume}${ref.issue ? `(${ref.issue})` : ''}, ${ref.pages}.${ref.doi ? ` https://doi.org/${ref.doi}` : ''}`;
  > 283 |             }
        |             ^
    284 |
    285 |             const LiteratureReview: React.FC = () => {
    286 |               const { projectId } = useProject();

ERROR in src/pages/LiteratureReview.tsx:285:52
TS1382: Unexpected token. Did you mean `{'>'}` or `&gt;`?
    283 |             }
    284 |
  > 285 |             const LiteratureReview: React.FC = () => {
        |                                                    ^
    286 |               const { projectId } = useProject();
    287 |               const [refs, setRefs]             = useState<Reference[]>([]);
    288 |               const [activeTab, setActiveTab]   = useState('library');

ERROR in src/pages/LiteratureReview.tsx:286:15
TS1109: Expression expected.
    284 |
    285 |             const LiteratureReview: React.FC = () => {
  > 286 |               const { projectId } = useProject();
        |               ^^^^^
    287 |               const [refs, setRefs]             = useState<Reference[]>([]);
    288 |               const [activeTab, setActiveTab]   = useState('library');
    289 |               const [showAdd, setShowAdd]       = useState(false);

ERROR in src/pages/LiteratureReview.tsx:287:69
TS1003: Identifier expected.
    285 |             const LiteratureReview: React.FC = () => {
    286 |               const { projectId } = useProject();
  > 287 |               const [refs, setRefs]             = useState<Reference[]>([]);
        |                                                                     ^
    288 |               const [activeTab, setActiveTab]   = useState('library');
    289 |               const [showAdd, setShowAdd]       = useState(false);
    290 |               const [showPICO, setShowPICO]     = useState(false);

ERROR in src/pages/LiteratureReview.tsx:287:71
TS1382: Unexpected token. Did you mean `{'>'}` or `&gt;`?
    285 |             const LiteratureReview: React.FC = () => {
    286 |               const { projectId } = useProject();
  > 287 |               const [refs, setRefs]             = useState<Reference[]>([]);
        |                                                                       ^
    288 |               const [activeTab, setActiveTab]   = useState('library');
    289 |               const [showAdd, setShowAdd]       = useState(false);
    290 |               const [showPICO, setShowPICO]     = useState(false);

ERROR in src/pages/LiteratureReview.tsx:291:70
TS1003: Identifier expected.
    289 |               const [showAdd, setShowAdd]       = useState(false);
    290 |               const [showPICO, setShowPICO]     = useState(false);
  > 291 |               const [editing, setEditing]       = useState<Reference | null>(null);
        |                                                                      ^
    292 |               const [form, setForm]             = useState<Reference>(emptyRef());
    293 |               const [search, setSearch]         = useState('');
    294 |               const [filterTheme, setFilterTheme] = useState('All');

ERROR in src/pages/LiteratureReview.tsx:291:76
TS1382: Unexpected token. Did you mean `{'>'}` or `&gt;`?
    289 |               const [showAdd, setShowAdd]       = useState(false);
    290 |               const [showPICO, setShowPICO]     = useState(false);
  > 291 |               const [editing, setEditing]       = useState<Reference | null>(null);
        |                                                                            ^
    292 |               const [form, setForm]             = useState<Reference>(emptyRef());
    293 |               const [search, setSearch]         = useState('');
    294 |               const [filterTheme, setFilterTheme] = useState('All');

ERROR in src/pages/LiteratureReview.tsx:296:60
TS1003: Identifier expected.
    294 |               const [filterTheme, setFilterTheme] = useState('All');
    295 |               const [filterGrade, setFilterGrade] = useState('All');
  > 296 |               const [citStyle, setCitStyle]     = useState<'vancouver'|'apa'>('vancouver');
        |                                                            ^^^^^^^^^^^
    297 |               const [copied, setCopied]         = useState(false);
    298 |               const [saved, setSaved]           = useState(false);
    299 |               const [loading, setLoading]       = useState(false);

ERROR in src/pages/LiteratureReview.tsx:296:77
TS1382: Unexpected token. Did you mean `{'>'}` or `&gt;`?
    294 |               const [filterTheme, setFilterTheme] = useState('All');
    295 |               const [filterGrade, setFilterGrade] = useState('All');
  > 296 |               const [citStyle, setCitStyle]     = useState<'vancouver'|'apa'>('vancouver');
        |                                                                             ^
    297 |               const [copied, setCopied]         = useState(false);
    298 |               const [saved, setSaved]           = useState(false);
    299 |               const [loading, setLoading]       = useState(false);

ERROR in src/pages/LiteratureReview.tsx:301:29
TS1382: Unexpected token. Did you mean `{'>'}` or `&gt;`?
    299 |               const [loading, setLoading]       = useState(false);
    300 |
  > 301 |               useEffect(() => {
        |                             ^
    302 |                 if (!projectId) return;
    303 |                 setLoading(true);
    304 |                 fetch(`/api/references?project_id=${projectId}`)

ERROR in src/pages/LiteratureReview.tsx:302:17
TS1109: Expression expected.
    300 |
    301 |               useEffect(() => {
  > 302 |                 if (!projectId) return;
        |                 ^^
    303 |                 setLoading(true);
    304 |                 fetch(`/api/references?project_id=${projectId}`)
    305 |                   .then(res => res.json())

ERROR in src/pages/LiteratureReview.tsx:305:30
TS1382: Unexpected token. Did you mean `{'>'}` or `&gt;`?
    303 |                 setLoading(true);
    304 |                 fetch(`/api/references?project_id=${projectId}`)
  > 305 |                   .then(res => res.json())
        |                              ^
    306 |                   .then(data => setRefs(data))
    307 |                   .finally(() => setLoading(false));
    308 |               }, [projectId]);

ERROR in src/pages/LiteratureReview.tsx:306:31
TS1382: Unexpected token. Did you mean `{'>'}` or `&gt;`?
    304 |                 fetch(`/api/references?project_id=${projectId}`)
    305 |                   .then(res => res.json())
  > 306 |                   .then(data => setRefs(data))
        |                               ^
    307 |                   .finally(() => setLoading(false));
    308 |               }, [projectId]);
    309 |

ERROR in src/pages/LiteratureReview.tsx:307:32
TS1382: Unexpected token. Did you mean `{'>'}` or `&gt;`?
    305 |                   .then(res => res.json())
    306 |                   .then(data => setRefs(data))
  > 307 |                   .finally(() => setLoading(false));
        |                                ^
    308 |               }, [projectId]);
    309 |
    310 |               function save(updated: Reference[]) {

ERROR in src/pages/LiteratureReview.tsx:308:15
TS1381: Unexpected token. Did you mean `{'}'}` or `&rbrace;`?
    306 |                   .then(data => setRefs(data))
    307 |                   .finally(() => setLoading(false));
  > 308 |               }, [projectId]);
        |               ^
    309 |
    310 |               function save(updated: Reference[]) {
    311 |                 setRefs(updated);

ERROR in src/pages/LiteratureReview.tsx:311:33
TS1005: '}' expected.
    309 |
    310 |               function save(updated: Reference[]) {
  > 311 |                 setRefs(updated);
        |                                 ^
    312 |                 setSaved(true);
    313 |                 setTimeout(() => setSaved(false), 1500);
    314 |               }

ERROR in src/pages/LiteratureReview.tsx:313:32
TS1382: Unexpected token. Did you mean `{'>'}` or `&gt;`?
    311 |                 setRefs(updated);
    312 |                 setSaved(true);
  > 313 |                 setTimeout(() => setSaved(false), 1500);
        |                                ^
    314 |               }
    315 |
    316 |               async function addRef() {

ERROR in src/pages/LiteratureReview.tsx:314:15
TS1381: Unexpected token. Did you mean `{'}'}` or `&rbrace;`?
    312 |                 setSaved(true);
    313 |                 setTimeout(() => setSaved(false), 1500);
  > 314 |               }
        |               ^
    315 |
    316 |               async function addRef() {
    317 |                 if (!form.title || !form.authors || !projectId) return;

ERROR in src/pages/LiteratureReview.tsx:317:17
TS1109: Expression expected.
    315 |
    316 |               async function addRef() {
  > 317 |                 if (!form.title || !form.authors || !projectId) return;
        |                 ^^
    318 |                 const payload = { ...form, project_id: projectId };
    319 |                 const res = await fetch('/api/references', {
    320 |                   method: 'POST',

ERROR in src/pages/LiteratureReview.tsx:318:54
TS1005: '}' expected.
    316 |               async function addRef() {
    317 |                 if (!form.title || !form.authors || !projectId) return;
  > 318 |                 const payload = { ...form, project_id: projectId };
        |                                                      ^
    319 |                 const res = await fetch('/api/references', {
    320 |                   method: 'POST',
    321 |                   headers: { 'Content-Type': 'application/json' },

ERROR in src/pages/LiteratureReview.tsx:318:66
TS1381: Unexpected token. Did you mean `{'}'}` or `&rbrace;`?
    316 |               async function addRef() {
    317 |                 if (!form.title || !form.authors || !projectId) return;
  > 318 |                 const payload = { ...form, project_id: projectId };
        |                                                                  ^
    319 |                 const res = await fetch('/api/references', {
    320 |                   method: 'POST',
    321 |                   headers: { 'Content-Type': 'application/json' },

ERROR in src/pages/LiteratureReview.tsx:320:25
TS1005: '}' expected.
    318 |                 const payload = { ...form, project_id: projectId };
    319 |                 const res = await fetch('/api/references', {
  > 320 |                   method: 'POST',
        |                         ^
    321 |                   headers: { 'Content-Type': 'application/json' },
    322 |                   body: JSON.stringify(payload)
    323 |                 });

ERROR in src/pages/LiteratureReview.tsx:321:44
TS1005: '}' expected.
    319 |                 const res = await fetch('/api/references', {
    320 |                   method: 'POST',
  > 321 |                   headers: { 'Content-Type': 'application/json' },
        |                                            ^
    322 |                   body: JSON.stringify(payload)
    323 |                 });
    324 |                 if (res.ok) {

ERROR in src/pages/LiteratureReview.tsx:321:65
TS1381: Unexpected token. Did you mean `{'}'}` or `&rbrace;`?
    319 |                 const res = await fetch('/api/references', {
    320 |                   method: 'POST',
  > 321 |                   headers: { 'Content-Type': 'application/json' },
        |                                                                 ^
    322 |                   body: JSON.stringify(payload)
    323 |                 });
    324 |                 if (res.ok) {

ERROR in src/pages/LiteratureReview.tsx:323:17
TS1381: Unexpected token. Did you mean `{'}'}` or `&rbrace;`?
    321 |                   headers: { 'Content-Type': 'application/json' },
    322 |                   body: JSON.stringify(payload)
  > 323 |                 });
        |                 ^
    324 |                 if (res.ok) {
    325 |                   const newRef = await res.json();
    326 |                   save([...refs, newRef]);

ERROR in src/pages/LiteratureReview.tsx:325:19
TS1109: Expression expected.
    323 |                 });
    324 |                 if (res.ok) {
  > 325 |                   const newRef = await res.json();
        |                   ^^^^^
    326 |                   save([...refs, newRef]);
    327 |                   setForm(emptyRef());
    328 |                   setShowAdd(false);

ERROR in src/pages/LiteratureReview.tsx:329:17
TS1381: Unexpected token. Did you mean `{'}'}` or `&rbrace;`?
    327 |                   setForm(emptyRef());
    328 |                   setShowAdd(false);
  > 329 |                 }
        |                 ^
    330 |               }
    331 |
    332 |               async function updateRef() {

ERROR in src/pages/LiteratureReview.tsx:330:15
TS1381: Unexpected token. Did you mean `{'}'}` or `&rbrace;`?
    328 |                   setShowAdd(false);
    329 |                 }
  > 330 |               }
        |               ^
    331 |
    332 |               async function updateRef() {
    333 |                 // Not implemented: backend update endpoint. For now, delete and re-add.

ERROR in src/pages/LiteratureReview.tsx:334:17
TS1109: Expression expected.
    332 |               async function updateRef() {
    333 |                 // Not implemented: backend update endpoint. For now, delete and re-add.
  > 334 |                 if (!editing) return;
        |                 ^^
    335 |                 await deleteRef(editing.id, false);
    336 |                 await addRef();
    337 |                 setEditing(null);

ERROR in src/pages/LiteratureReview.tsx:340:15
TS1381: Unexpected token. Did you mean `{'}'}` or `&rbrace;`?
    338 |                 setForm(emptyRef());
    339 |                 setShowAdd(false);
  > 340 |               }
        |               ^
    341 |
    342 |               async function deleteRef(id: string, confirm = true) {
    343 |                 if (confirm && !window.confirm('Delete this reference?')) return;

ERROR in src/pages/LiteratureReview.tsx:343:17
TS1109: Expression expected.
    341 |
    342 |               async function deleteRef(id: string, confirm = true) {
  > 343 |                 if (confirm && !window.confirm('Delete this reference?')) return;
        |                 ^^
    344 |                 const res = await fetch(`/api/references/${id}`, { method: 'DELETE' });
    345 |                 if (res.ok) {
    346 |                   save(refs.filter(r => r.id !== id));

ERROR in src/pages/LiteratureReview.tsx:344:74
TS1005: '}' expected.
    342 |               async function deleteRef(id: string, confirm = true) {
    343 |                 if (confirm && !window.confirm('Delete this reference?')) return;
  > 344 |                 const res = await fetch(`/api/references/${id}`, { method: 'DELETE' });
        |                                                                          ^
    345 |                 if (res.ok) {
    346 |                   save(refs.filter(r => r.id !== id));
    347 |                 }

ERROR in src/pages/LiteratureReview.tsx:344:85
TS1381: Unexpected token. Did you mean `{'}'}` or `&rbrace;`?
    342 |               async function deleteRef(id: string, confirm = true) {
    343 |                 if (confirm && !window.confirm('Delete this reference?')) return;
  > 344 |                 const res = await fetch(`/api/references/${id}`, { method: 'DELETE' });
        |                                                                                     ^
    345 |                 if (res.ok) {
    346 |                   save(refs.filter(r => r.id !== id));
    347 |                 }

ERROR in src/pages/LiteratureReview.tsx:346:54
TS1005: '}' expected.
    344 |                 const res = await fetch(`/api/references/${id}`, { method: 'DELETE' });
    345 |                 if (res.ok) {
  > 346 |                   save(refs.filter(r => r.id !== id));
        |                                                      ^
    347 |                 }
    348 |               }
    349 |

ERROR in src/pages/LiteratureReview.tsx:347:17
TS1381: Unexpected token. Did you mean `{'}'}` or `&rbrace;`?
    345 |                 if (res.ok) {
    346 |                   save(refs.filter(r => r.id !== id));
  > 347 |                 }
        |                 ^
    348 |               }
    349 |
    350 |               function startEdit(ref: Reference) {

ERROR in src/pages/LiteratureReview.tsx:348:15
TS1381: Unexpected token. Did you mean `{'}'}` or `&rbrace;`?
    346 |                   save(refs.filter(r => r.id !== id));
    347 |                 }
  > 348 |               }
        |               ^
    349 |
    350 |               function startEdit(ref: Reference) {
    351 |                 setForm({ ...ref });

ERROR in src/pages/LiteratureReview.tsx:351:36
TS1005: '}' expected.
    349 |
    350 |               function startEdit(ref: Reference) {
  > 351 |                 setForm({ ...ref });
        |                                    ^
    352 |                 setEditing(ref);
    353 |                 setShowAdd(true);
    354 |               }

ERROR in src/pages/LiteratureReview.tsx:354:15
TS1381: Unexpected token. Did you mean `{'}'}` or `&rbrace;`?
    352 |                 setEditing(ref);
    353 |                 setShowAdd(true);
  > 354 |               }
        |               ^
    355 |
    356 |               function copyBibliography() {
    357 |                 const filtered = refs.filter(r => {

ERROR in src/pages/LiteratureReview.tsx:357:17
TS1109: Expression expected.
    355 |
    356 |               function copyBibliography() {
  > 357 |                 const filtered = refs.filter(r => {
        |                 ^^^^^
    358 |                   const matchSearch = !search || r.title.toLowerCase().includes(search.toLowerCase()) ||
    359 |                     r.authors.toLowerCase().includes(search.toLowerCase()) ||
    360 |                     r.key_finding.toLowerCase().includes(search.toLowerCase()) ||

ERROR in src/pages/LiteratureReview.tsx:357:49
TS1382: Unexpected token. Did you mean `{'>'}` or `&gt;`?
    355 |
    356 |               function copyBibliography() {
  > 357 |                 const filtered = refs.filter(r => {
        |                                                 ^
    358 |                   const matchSearch = !search || r.title.toLowerCase().includes(search.toLowerCase()) ||
    359 |                     r.authors.toLowerCase().includes(search.toLowerCase()) ||
    360 |                     r.key_finding.toLowerCase().includes(search.toLowerCase()) ||

ERROR in src/pages/LiteratureReview.tsx:358:19
TS1109: Expression expected.
    356 |               function copyBibliography() {
    357 |                 const filtered = refs.filter(r => {
  > 358 |                   const matchSearch = !search || r.title.toLowerCase().includes(search.toLowerCase()) ||
        |                   ^^^^^
    359 |                     r.authors.toLowerCase().includes(search.toLowerCase()) ||
    360 |                     r.key_finding.toLowerCase().includes(search.toLowerCase()) ||
    361 |                     r.country.toLowerCase().includes(search.toLowerCase());

ERROR in src/pages/LiteratureReview.tsx:365:17
TS1381: Unexpected token. Did you mean `{'}'}` or `&rbrace;`?
    363 |                   const matchGrade = filterGrade === 'All' || r.grade === filterGrade;
    364 |                   return matchSearch && matchTheme && matchGrade;
  > 365 |                 });
        |                 ^
    366 |                 const text = filtered.map((r, i) =>
    367 |                   citStyle === 'vancouver' ? vancouverCite(r, i + 1) : apaCite(r)
    368 |                 ).join('\n\n');

ERROR in src/pages/LiteratureReview.tsx:366:51
TS1382: Unexpected token. Did you mean `{'>'}` or `&gt;`?
    364 |                   return matchSearch && matchTheme && matchGrade;
    365 |                 });
  > 366 |                 const text = filtered.map((r, i) =>
        |                                                   ^
    367 |                   citStyle === 'vancouver' ? vancouverCite(r, i + 1) : apaCite(r)
    368 |                 ).join('\n\n');
    369 |                 navigator.clipboard.writeText(text);

ERROR in src/pages/LiteratureReview.tsx:371:32
TS1382: Unexpected token. Did you mean `{'>'}` or `&gt;`?
    369 |                 navigator.clipboard.writeText(text);
    370 |                 setCopied(true);
  > 371 |                 setTimeout(() => setCopied(false), 2000);
        |                                ^
    372 |               }
    373 |
    374 |               if (!projectId) {

ERROR in src/pages/LiteratureReview.tsx:372:15
TS1381: Unexpected token. Did you mean `{'}'}` or `&rbrace;`?
    370 |                 setCopied(true);
    371 |                 setTimeout(() => setCopied(false), 2000);
  > 372 |               }
        |               ^
    373 |
    374 |               if (!projectId) {
    375 |                 return (

ERROR in src/pages/LiteratureReview.tsx:375:17
TS1109: Expression expected.
    373 |
    374 |               if (!projectId) {
  > 375 |                 return (
        |                 ^^^^^^
    376 |                   <div className="card" style={{ margin: '2rem auto', maxWidth: 500, textAlign: 'center' }}>
    377 |                     <h2>Please select or create a project to continue.</h2>
    378 |                   </div>

ERROR in src/pages/LiteratureReview.tsx:380:15
TS1381: Unexpected token. Did you mean `{'}'}` or `&rbrace;`?
    378 |                   </div>
    379 |                 );
  > 380 |               }
        |               ^
    381 |
    382 |               const filtered = refs.filter(r => {
    383 |                 const matchSearch = !search || r.title.toLowerCase().includes(search.toLowerCase()) ||

ERROR in src/pages/LiteratureReview.tsx:382:47
TS1382: Unexpected token. Did you mean `{'>'}` or `&gt;`?
    380 |               }
    381 |
  > 382 |               const filtered = refs.filter(r => {
        |                                               ^
    383 |                 const matchSearch = !search || r.title.toLowerCase().includes(search.toLowerCase()) ||
    384 |                   r.authors.toLowerCase().includes(search.toLowerCase()) ||
    385 |                   r.key_finding.toLowerCase().includes(search.toLowerCase()) ||

ERROR in src/pages/LiteratureReview.tsx:383:17
TS1109: Expression expected.
    381 |
    382 |               const filtered = refs.filter(r => {
  > 383 |                 const matchSearch = !search || r.title.toLowerCase().includes(search.toLowerCase()) ||
        |                 ^^^^^
    384 |                   r.authors.toLowerCase().includes(search.toLowerCase()) ||
    385 |                   r.key_finding.toLowerCase().includes(search.toLowerCase()) ||
    386 |                   r.country.toLowerCase().includes(search.toLowerCase());

ERROR in src/pages/LiteratureReview.tsx:390:15
TS1381: Unexpected token. Did you mean `{'}'}` or `&rbrace;`?
    388 |                 const matchGrade = filterGrade === 'All' || r.grade === filterGrade;
    389 |                 return matchSearch && matchTheme && matchGrade;
  > 390 |               });
        |               ^
    391 |
    392 |               const themeGroups = THEMES.reduce((acc, theme) => {
    393 |                 acc[theme] = refs.filter(r => r.theme === theme);

ERROR in src/pages/LiteratureReview.tsx:392:63
TS1382: Unexpected token. Did you mean `{'>'}` or `&gt;`?
    390 |               });
    391 |
  > 392 |               const themeGroups = THEMES.reduce((acc, theme) => {
        |                                                               ^
    393 |                 acc[theme] = refs.filter(r => r.theme === theme);
    394 |                 return acc;
    395 |               }, {} as Record<string, Reference[]>);

ERROR in src/pages/LiteratureReview.tsx:393:65
TS1005: '}' expected.
    391 |
    392 |               const themeGroups = THEMES.reduce((acc, theme) => {
  > 393 |                 acc[theme] = refs.filter(r => r.theme === theme);
        |                                                                 ^
    394 |                 return acc;
    395 |               }, {} as Record<string, Reference[]>);
    396 |

ERROR in src/pages/LiteratureReview.tsx:395:15
TS1381: Unexpected token. Did you mean `{'}'}` or `&rbrace;`?
    393 |                 acc[theme] = refs.filter(r => r.theme === theme);
    394 |                 return acc;
  > 395 |               }, {} as Record<string, Reference[]>);
        |               ^
    396 |
    397 |               const gradeDistribution = GRADE_LEVELS.map(g => ({
    398 |                 grade: g, count: refs.filter(r => r.grade === g).length

ERROR in src/pages/LiteratureReview.tsx:395:37
TS1003: Identifier expected.
    393 |                 acc[theme] = refs.filter(r => r.theme === theme);
    394 |                 return acc;
  > 395 |               }, {} as Record<string, Reference[]>);
        |                                     ^
    396 |
    397 |               const gradeDistribution = GRADE_LEVELS.map(g => ({
    398 |                 grade: g, count: refs.filter(r => r.grade === g).length

ERROR in src/pages/LiteratureReview.tsx:395:50
TS1382: Unexpected token. Did you mean `{'>'}` or `&gt;`?
    393 |                 acc[theme] = refs.filter(r => r.theme === theme);
    394 |                 return acc;
  > 395 |               }, {} as Record<string, Reference[]>);
        |                                                  ^
    396 |
    397 |               const gradeDistribution = GRADE_LEVELS.map(g => ({
    398 |                 grade: g, count: refs.filter(r => r.grade === g).length

ERROR in src/pages/LiteratureReview.tsx:397:61
TS1382: Unexpected token. Did you mean `{'>'}` or `&gt;`?
    395 |               }, {} as Record<string, Reference[]>);
    396 |
  > 397 |               const gradeDistribution = GRADE_LEVELS.map(g => ({
        |                                                             ^
    398 |                 grade: g, count: refs.filter(r => r.grade === g).length
    399 |               }));
    400 |

ERROR in src/pages/LiteratureReview.tsx:398:22
TS1005: '}' expected.
    396 |
    397 |               const gradeDistribution = GRADE_LEVELS.map(g => ({
  > 398 |                 grade: g, count: refs.filter(r => r.grade === g).length
        |                      ^
    399 |               }));
    400 |
    401 |               return (

ERROR in src/pages/LiteratureReview.tsx:398:49
TS1382: Unexpected token. Did you mean `{'>'}` or `&gt;`?
    396 |
    397 |               const gradeDistribution = GRADE_LEVELS.map(g => ({
  > 398 |                 grade: g, count: refs.filter(r => r.grade === g).length
        |                                                 ^
    399 |               }));
    400 |
    401 |               return (

ERROR in src/pages/LiteratureReview.tsx:399:15
TS1381: Unexpected token. Did you mean `{'}'}` or `&rbrace;`?
    397 |               const gradeDistribution = GRADE_LEVELS.map(g => ({
    398 |                 grade: g, count: refs.filter(r => r.grade === g).length
  > 399 |               }));
        |               ^
    400 |
    401 |               return (
    402 |                 <div className="page">

ERROR in src/pages/LiteratureReview.tsx:407:13
TS1381: Unexpected token. Did you mean `{'}'}` or `&rbrace;`?
    405 |                 </div>
    406 |               );
  > 407 |             };
        |             ^
    408 |
    409 |             export default LiteratureReview;
    410 |                 </thead>

ERROR in src/pages/LiteratureReview.tsx:410:19
TS17002: Expected corresponding JSX closing tag for 'Reference'.
    408 |
    409 |             export default LiteratureReview;
  > 410 |                 </thead>
        |                   ^^^^^
    411 |                 <tbody>
    412 |                   {filtered.map((ref, i) => (
    413 |                     <tr key={ref.id} style={{ background: i % 2 === 0 ? '#f8f7f4' : 'white', borderBottom: '1px solid #eee' }}>

ERROR in src/pages/LiteratureReview.tsx:433:17
TS17002: Expected corresponding JSX closing tag for 'p'.
    431 |                   ))}
    432 |                 </tbody>
  > 433 |               </table>
        |                 ^^^^^
    434 |             </div>
    435 |           )}
    436 |         </div>

ERROR in src/pages/LiteratureReview.tsx:435:12
TS1381: Unexpected token. Did you mean `{'}'}` or `&rbrace;`?
    433 |               </table>
    434 |             </div>
  > 435 |           )}
        |            ^
    436 |         </div>
    437 |       )}
    438 |

ERROR in src/pages/LiteratureReview.tsx:437:8
TS1381: Unexpected token. Did you mean `{'}'}` or `&rbrace;`?
    435 |           )}
    436 |         </div>
  > 437 |       )}
        |        ^
    438 |
    439 |       {/* BIBLIOGRAPHY TAB */}
    440 |       {activeTab === 'bibliography' && (

ERROR in src/pages/LiteratureReview.tsx:658:1
TS1128: Declaration or statement expected.
    656 |     </div>
    657 |   );
  > 658 | }
        | ^
    659 |

ERROR in src/pages/SubgroupAnalysis.tsx:312:32
TS2322: Type '(val: any, name: string) => [any, string]' is not assignable to type 'Formatter<any, string> & ((value: any, name: string, item: Payload<any, string>, index: number, payload: Payload<any, string>[]) => ReactNode | [...])'.
  Type '(val: any, name: string) => [any, string]' is not assignable to type 'Formatter<any, string>'.
    Types of parameters 'name' and 'name' are incompatible.
      Type 'string | undefined' is not assignable to type 'string'.
        Type 'undefined' is not assignable to type 'string'.
    310 |                         tickFormatter={v => measure === 'OR' ? v.toFixed(1) : v.toFixed(2)} />
    311 |                       <YAxis type="category" dataKey="name" width={75} tick={{ fontSize: 12 }} />
  > 312 |                       <Tooltip formatter={(val: any, name: string) => [
        |                                ^^^^^^^^^
    313 |                         name === 'effect' ? `${measure}: ${val}` : val, name
    314 |                       ]} />
    315 |                       <ReferenceLine x={nullVal} stroke="#888" strokeDasharray="4 3" />

ERROR in src/pages/VisualisationStudio.tsx:229:45
TS2322: Type '(({ name, percent }: { name: string; percent?: number | undefined; }) => string) | undefined' is not assignable to type 'PieLabel | undefined'.
  Type '({ name, percent }: { name: string; percent?: number | undefined; }) => string' is not assignable to type 'PieLabel | undefined'.
    Type '({ name, percent }: { name: string; percent?: number | undefined; }) => string' is not assignable to type '(props: PieLabelRenderProps) => ReactNode | ReactElement<SVGElement, string | JSXElementConstructor<any>>'.
      Types of parameters '__0' and 'props' are incompatible.
        Type 'PieLabelRenderProps' is not assignable to type '{ name: string; percent?: number | undefined; }'.
          Types of property 'name' are incompatible.
            Type 'string | undefined' is not assignable to type 'string'.
              Type 'undefined' is not assignable to type 'string'.
    227 |           <PieChart>
    228 |             <Pie data={chartData} dataKey="value" nameKey="name" cx="50%" cy="50%"
  > 229 |               outerRadius={chartHeight / 3} label={showValues ? ({ name, percent }: { name: string, percent?: number }) => `${name} ${((percent || 0) * 100).toFixed(1)}%` : undefined}
        |                                             ^^^^^
    230 |               opacity={opacity}>
    231 |               {chartData.map((_: any, index: number) => (
    232 |                 <Cell key={index} fill={palette[index % palette.length]} />

Compiling...
Failed to compile.

[eslint] 
src/pages/LiteratureReview.tsx
Syntax error: Identifier expected (207:45)
WARNING in [eslint] 
src/pages/analytics/DifferenceInDifferences.tsx
  Line 1:27:  'useContext' is defined but never used  @typescript-eslint/no-unused-vars

src/pages/analytics/InterruptedTimeSeries.tsx
  Line 1:27:  'useContext' is defined but never used  @typescript-eslint/no-unused-vars

src/pages/analytics/MixedEffects.tsx
  Line 1:27:  'useContext' is defined but never used  @typescript-eslint/no-unused-vars

src/pages/analytics/NetworkMetaAnalysis.tsx
  Line 1:27:  'useContext' is defined but never used  @typescript-eslint/no-unused-vars

src/pages/analytics/SpatialAnalysis.tsx
  Line 1:27:  'useContext' is defined but never used  @typescript-eslint/no-unused-vars

ERROR in ./src/pages/LiteratureReview.tsx
Module build failed (from ./node_modules/babel-loader/lib/index.js):
SyntaxError: /workspaces/researchflow/frontend/src/pages/LiteratureReview.tsx: 'return' outside of function. (168:4)

  166 |
  167 |   if (!projectId) {
> 168 |     return <div className="card" style={{ margin: '2rem auto', maxWidth: 500, textAlign: 'center' }}>
      |     ^
  169 |       <h2>Please select or create a project to continue.</h2>
  170 |     </div>;
  171 |   }
    at constructor (/workspaces/researchflow/frontend/node_modules/@babel/parser/lib/index.js:365:19)
    at TypeScriptParserMixin.raise (/workspaces/researchflow/frontend/node_modules/@babel/parser/lib/index.js:6599:19)
    at TypeScriptParserMixin.parseReturnStatement (/workspaces/researchflow/frontend/node_modules/@babel/parser/lib/index.js:13136:12)
    at TypeScriptParserMixin.parseStatementContent (/workspaces/researchflow/frontend/node_modules/@babel/parser/lib/index.js:12798:21)
    at TypeScriptParserMixin.parseStatementContent (/workspaces/researchflow/frontend/node_modules/@babel/parser/lib/index.js:9508:18)
    at TypeScriptParserMixin.parseStatementLike (/workspaces/researchflow/frontend/node_modules/@babel/parser/lib/index.js:12767:17)
    at TypeScriptParserMixin.parseStatementListItem (/workspaces/researchflow/frontend/node_modules/@babel/parser/lib/index.js:12747:17)
    at TypeScriptParserMixin.parseBlockOrModuleBlockBody (/workspaces/researchflow/frontend/node_modules/@babel/parser/lib/index.js:13316:61)
    at TypeScriptParserMixin.parseBlockBody (/workspaces/researchflow/frontend/node_modules/@babel/parser/lib/index.js:13309:10)
    at TypeScriptParserMixin.parseBlock (/workspaces/researchflow/frontend/node_modules/@babel/parser/lib/index.js:13297:10)
    at TypeScriptParserMixin.parseStatementContent (/workspaces/researchflow/frontend/node_modules/@babel/parser/lib/index.js:12858:21)
    at TypeScriptParserMixin.parseStatementContent (/workspaces/researchflow/frontend/node_modules/@babel/parser/lib/index.js:9508:18)
    at TypeScriptParserMixin.parseStatementLike (/workspaces/researchflow/frontend/node_modules/@babel/parser/lib/index.js:12767:17)
    at TypeScriptParserMixin.parseStatementOrSloppyAnnexBFunctionDeclaration (/workspaces/researchflow/frontend/node_modules/@babel/parser/lib/index.js:12757:17)
    at TypeScriptParserMixin.parseIfStatement (/workspaces/researchflow/frontend/node_modules/@babel/parser/lib/index.js:13130:28)
    at TypeScriptParserMixin.parseStatementContent (/workspaces/researchflow/frontend/node_modules/@babel/parser/lib/index.js:12796:21)
    at TypeScriptParserMixin.parseStatementContent (/workspaces/researchflow/frontend/node_modules/@babel/parser/lib/index.js:9508:18)
    at TypeScriptParserMixin.parseStatementLike (/workspaces/researchflow/frontend/node_modules/@babel/parser/lib/index.js:12767:17)
    at TypeScriptParserMixin.parseModuleItem (/workspaces/researchflow/frontend/node_modules/@babel/parser/lib/index.js:12744:17)
    at TypeScriptParserMixin.parseBlockOrModuleBlockBody (/workspaces/researchflow/frontend/node_modules/@babel/parser/lib/index.js:13316:36)
    at TypeScriptParserMixin.parseBlockBody (/workspaces/researchflow/frontend/node_modules/@babel/parser/lib/index.js:13309:10)
    at TypeScriptParserMixin.parseProgram (/workspaces/researchflow/frontend/node_modules/@babel/parser/lib/index.js:12622:10)
    at TypeScriptParserMixin.parseTopLevel (/workspaces/researchflow/frontend/node_modules/@babel/parser/lib/index.js:12612:25)
    at TypeScriptParserMixin.parse (/workspaces/researchflow/frontend/node_modules/@babel/parser/lib/index.js:14488:25)
    at TypeScriptParserMixin.parse (/workspaces/researchflow/frontend/node_modules/@babel/parser/lib/index.js:10126:18)
    at parse (/workspaces/researchflow/frontend/node_modules/@babel/parser/lib/index.js:14522:38)
    at parser (/workspaces/researchflow/frontend/node_modules/@babel/core/lib/parser/index.js:41:34)
    at parser.next (<anonymous>)
    at normalizeFile (/workspaces/researchflow/frontend/node_modules/@babel/core/lib/transformation/normalize-file.js:64:37)
    at normalizeFile.next (<anonymous>)
    at run (/workspaces/researchflow/frontend/node_modules/@babel/core/lib/transformation/index.js:22:50)
    at run.next (<anonymous>)
    at transform (/workspaces/researchflow/frontend/node_modules/@babel/core/lib/transform.js:22:33)
    at transform.next (<anonymous>)
    at step (/workspaces/researchflow/frontend/node_modules/gensync/index.js:261:32)
    at /workspaces/researchflow/frontend/node_modules/gensync/index.js:273:13
    at async.call.result.err.err (/workspaces/researchflow/frontend/node_modules/gensync/index.js:223:11)

ERROR in [eslint] 
src/pages/LiteratureReview.tsx
  Line 207:45:  Parsing error: Identifier expected

webpack compiled with 2 errors and 1 warning
ERROR in src/App.tsx:37:8
TS1192: Module '"/workspaces/researchflow/frontend/src/pages/LiteratureReview"' has no default export.
    35 | import AIAssistant from './pages/AIAssistant';
    36 | import ProgressTracker from './pages/ProgressTracker';
  > 37 | import LiteratureReview from './pages/LiteratureReview';
       |        ^^^^^^^^^^^^^^^^
    38 | import CodebookGenerator from './pages/CodebookGenerator';
    39 | import DataVersioning from './pages/DataVersioning';
    40 | import Dashboard from './pages/Dashboard';

ERROR in src/pages/LiteratureReview.tsx:207:46
TS1003: Identifier expected.
    205 |             const THEMES = ['Background', 'Methods', 'Intervention', 'Outcome', 'Comparison', 'Population', 'Risk Factor', 'Epidemiology', 'Policy'];
    206 |
  > 207 |             const GRADE_COLORS: Record<string, string> = {
        |                                              ^
    208 |               'High':     '#5A8A6A',
    209 |               'Moderate': '#2196f3',
    210 |               'Low':      '#ff9800',

ERROR in src/pages/LiteratureReview.tsx:207:54
TS1382: Unexpected token. Did you mean `{'>'}` or `&gt;`?
    205 |             const THEMES = ['Background', 'Methods', 'Intervention', 'Outcome', 'Comparison', 'Population', 'Risk Factor', 'Epidemiology', 'Policy'];
    206 |
  > 207 |             const GRADE_COLORS: Record<string, string> = {
        |                                                      ^
    208 |               'High':     '#5A8A6A',
    209 |               'Moderate': '#2196f3',
    210 |               'Low':      '#ff9800',

ERROR in src/pages/LiteratureReview.tsx:208:21
TS1005: '}' expected.
    206 |
    207 |             const GRADE_COLORS: Record<string, string> = {
  > 208 |               'High':     '#5A8A6A',
        |                     ^
    209 |               'Moderate': '#2196f3',
    210 |               'Low':      '#ff9800',
    211 |               'Very Low': '#f44336',

ERROR in src/pages/LiteratureReview.tsx:212:13
TS1381: Unexpected token. Did you mean `{'}'}` or `&rbrace;`?
    210 |               'Low':      '#ff9800',
    211 |               'Very Low': '#f44336',
  > 212 |             };
        |             ^
    213 |
    214 |             const LEVEL_COLORS: Record<string, string> = {
    215 |               '1a': '#5A8A6A', '1b': '#5A8A6A',

ERROR in src/pages/LiteratureReview.tsx:214:46
TS1003: Identifier expected.
    212 |             };
    213 |
  > 214 |             const LEVEL_COLORS: Record<string, string> = {
        |                                              ^
    215 |               '1a': '#5A8A6A', '1b': '#5A8A6A',
    216 |               '2a': '#2196f3', '2b': '#2196f3',
    217 |               '3':  '#ff9800',

ERROR in src/pages/LiteratureReview.tsx:214:54
TS1382: Unexpected token. Did you mean `{'>'}` or `&gt;`?
    212 |             };
    213 |
  > 214 |             const LEVEL_COLORS: Record<string, string> = {
        |                                                      ^
    215 |               '1a': '#5A8A6A', '1b': '#5A8A6A',
    216 |               '2a': '#2196f3', '2b': '#2196f3',
    217 |               '3':  '#ff9800',

ERROR in src/pages/LiteratureReview.tsx:215:19
TS1005: '}' expected.
    213 |
    214 |             const LEVEL_COLORS: Record<string, string> = {
  > 215 |               '1a': '#5A8A6A', '1b': '#5A8A6A',
        |                   ^
    216 |               '2a': '#2196f3', '2b': '#2196f3',
    217 |               '3':  '#ff9800',
    218 |               '4':  '#f44336',

ERROR in src/pages/LiteratureReview.tsx:220:13
TS1381: Unexpected token. Did you mean `{'}'}` or `&rbrace;`?
    218 |               '4':  '#f44336',
    219 |               '5':  '#9c27b0',
  > 220 |             };
        |             ^
    221 |
    222 |             type Reference = {
    223 |               id:           string;

ERROR in src/pages/LiteratureReview.tsx:223:17
TS1005: '}' expected.
    221 |
    222 |             type Reference = {
  > 223 |               id:           string;
        |                 ^
    224 |               title:        string;
    225 |               authors:      string;
    226 |               journal:      string;

ERROR in src/pages/LiteratureReview.tsx:245:13
TS1381: Unexpected token. Did you mean `{'}'}` or `&rbrace;`?
    243 |               key_finding:  string;
    244 |               added_at:     string;
  > 245 |             };
        |             ^
    246 |
    247 |             function emptyRef(): Reference {
    248 |               return {

ERROR in src/pages/LiteratureReview.tsx:248:15
TS1109: Expression expected.
    246 |
    247 |             function emptyRef(): Reference {
  > 248 |               return {
        |               ^^^^^^
    249 |                 id:          Date.now().toString(),
    250 |                 title:       '',
    251 |                 authors:     '',

ERROR in src/pages/LiteratureReview.tsx:249:19
TS1005: '}' expected.
    247 |             function emptyRef(): Reference {
    248 |               return {
  > 249 |                 id:          Date.now().toString(),
        |                   ^
    250 |                 title:       '',
    251 |                 authors:     '',
    252 |                 journal:     '',

ERROR in src/pages/LiteratureReview.tsx:271:15
TS1381: Unexpected token. Did you mean `{'}'}` or `&rbrace;`?
    269 |                 key_finding: '',
    270 |                 added_at:    new Date().toISOString(),
  > 271 |               };
        |               ^
    272 |             }
    273 |
    274 |             function vancouverCite(ref: Reference, index: number): string {

ERROR in src/pages/LiteratureReview.tsx:272:13
TS1381: Unexpected token. Did you mean `{'}'}` or `&rbrace;`?
    270 |                 added_at:    new Date().toISOString(),
    271 |               };
  > 272 |             }
        |             ^
    273 |
    274 |             function vancouverCite(ref: Reference, index: number): string {
    275 |               const authors = ref.authors.split(',').slice(0, 6).join(', ');

ERROR in src/pages/LiteratureReview.tsx:275:15
TS1109: Expression expected.
    273 |
    274 |             function vancouverCite(ref: Reference, index: number): string {
  > 275 |               const authors = ref.authors.split(',').slice(0, 6).join(', ');
        |               ^^^^^
    276 |               const et_al   = ref.authors.split(',').length > 6 ? ', et al' : '';
    277 |               return `${index}. ${authors}${et_al}. ${ref.title}. ${ref.journal}. ${ref.year};${ref.volume}${ref.issue ? `(${ref.issue})` : ''}:${ref.pages}.${ref.doi ? ` doi:${ref.doi}` : ''}`;
    278 |             }

ERROR in src/pages/LiteratureReview.tsx:276:61
TS1382: Unexpected token. Did you mean `{'>'}` or `&gt;`?
    274 |             function vancouverCite(ref: Reference, index: number): string {
    275 |               const authors = ref.authors.split(',').slice(0, 6).join(', ');
  > 276 |               const et_al   = ref.authors.split(',').length > 6 ? ', et al' : '';
        |                                                             ^
    277 |               return `${index}. ${authors}${et_al}. ${ref.title}. ${ref.journal}. ${ref.year};${ref.volume}${ref.issue ? `(${ref.issue})` : ''}:${ref.pages}.${ref.doi ? ` doi:${ref.doi}` : ''}`;
    278 |             }
    279 |

ERROR in src/pages/LiteratureReview.tsx:278:13
TS1381: Unexpected token. Did you mean `{'}'}` or `&rbrace;`?
    276 |               const et_al   = ref.authors.split(',').length > 6 ? ', et al' : '';
    277 |               return `${index}. ${authors}${et_al}. ${ref.title}. ${ref.journal}. ${ref.year};${ref.volume}${ref.issue ? `(${ref.issue})` : ''}:${ref.pages}.${ref.doi ? ` doi:${ref.doi}` : ''}`;
  > 278 |             }
        |             ^
    279 |
    280 |             function apaCite(ref: Reference): string {
    281 |               const authors = ref.authors;

ERROR in src/pages/LiteratureReview.tsx:281:15
TS1109: Expression expected.
    279 |
    280 |             function apaCite(ref: Reference): string {
  > 281 |               const authors = ref.authors;
        |               ^^^^^
    282 |               return `${authors} (${ref.year}). ${ref.title}. ${ref.journal}, ${ref.volume}${ref.issue ? `(${ref.issue})` : ''}, ${ref.pages}.${ref.doi ? ` https://doi.org/${ref.doi}` : ''}`;
    283 |             }
    284 |

ERROR in src/pages/LiteratureReview.tsx:283:13
TS1381: Unexpected token. Did you mean `{'}'}` or `&rbrace;`?
    281 |               const authors = ref.authors;
    282 |               return `${authors} (${ref.year}). ${ref.title}. ${ref.journal}, ${ref.volume}${ref.issue ? `(${ref.issue})` : ''}, ${ref.pages}.${ref.doi ? ` https://doi.org/${ref.doi}` : ''}`;
  > 283 |             }
        |             ^
    284 |
    285 |             const LiteratureReview: React.FC = () => {
    286 |               const { projectId } = useProject();

ERROR in src/pages/LiteratureReview.tsx:285:52
TS1382: Unexpected token. Did you mean `{'>'}` or `&gt;`?
    283 |             }
    284 |
  > 285 |             const LiteratureReview: React.FC = () => {
        |                                                    ^
    286 |               const { projectId } = useProject();
    287 |               const [refs, setRefs]             = useState<Reference[]>([]);
    288 |               const [activeTab, setActiveTab]   = useState('library');

ERROR in src/pages/LiteratureReview.tsx:286:15
TS1109: Expression expected.
    284 |
    285 |             const LiteratureReview: React.FC = () => {
  > 286 |               const { projectId } = useProject();
        |               ^^^^^
    287 |               const [refs, setRefs]             = useState<Reference[]>([]);
    288 |               const [activeTab, setActiveTab]   = useState('library');
    289 |               const [showAdd, setShowAdd]       = useState(false);

ERROR in src/pages/LiteratureReview.tsx:287:69
TS1003: Identifier expected.
    285 |             const LiteratureReview: React.FC = () => {
    286 |               const { projectId } = useProject();
  > 287 |               const [refs, setRefs]             = useState<Reference[]>([]);
        |                                                                     ^
    288 |               const [activeTab, setActiveTab]   = useState('library');
    289 |               const [showAdd, setShowAdd]       = useState(false);
    290 |               const [showPICO, setShowPICO]     = useState(false);

ERROR in src/pages/LiteratureReview.tsx:287:71
TS1382: Unexpected token. Did you mean `{'>'}` or `&gt;`?
    285 |             const LiteratureReview: React.FC = () => {
    286 |               const { projectId } = useProject();
  > 287 |               const [refs, setRefs]             = useState<Reference[]>([]);
        |                                                                       ^
    288 |               const [activeTab, setActiveTab]   = useState('library');
    289 |               const [showAdd, setShowAdd]       = useState(false);
    290 |               const [showPICO, setShowPICO]     = useState(false);

ERROR in src/pages/LiteratureReview.tsx:291:70
TS1003: Identifier expected.
    289 |               const [showAdd, setShowAdd]       = useState(false);
    290 |               const [showPICO, setShowPICO]     = useState(false);
  > 291 |               const [editing, setEditing]       = useState<Reference | null>(null);
        |                                                                      ^
    292 |               const [form, setForm]             = useState<Reference>(emptyRef());
    293 |               const [search, setSearch]         = useState('');
    294 |               const [filterTheme, setFilterTheme] = useState('All');

ERROR in src/pages/LiteratureReview.tsx:291:76
TS1382: Unexpected token. Did you mean `{'>'}` or `&gt;`?
    289 |               const [showAdd, setShowAdd]       = useState(false);
    290 |               const [showPICO, setShowPICO]     = useState(false);
  > 291 |               const [editing, setEditing]       = useState<Reference | null>(null);
        |                                                                            ^
    292 |               const [form, setForm]             = useState<Reference>(emptyRef());
    293 |               const [search, setSearch]         = useState('');
    294 |               const [filterTheme, setFilterTheme] = useState('All');

ERROR in src/pages/LiteratureReview.tsx:296:60
TS1003: Identifier expected.
    294 |               const [filterTheme, setFilterTheme] = useState('All');
    295 |               const [filterGrade, setFilterGrade] = useState('All');
  > 296 |               const [citStyle, setCitStyle]     = useState<'vancouver'|'apa'>('vancouver');
        |                                                            ^^^^^^^^^^^
    297 |               const [copied, setCopied]         = useState(false);
    298 |               const [saved, setSaved]           = useState(false);
    299 |               const [loading, setLoading]       = useState(false);

ERROR in src/pages/LiteratureReview.tsx:296:77
TS1382: Unexpected token. Did you mean `{'>'}` or `&gt;`?
    294 |               const [filterTheme, setFilterTheme] = useState('All');
    295 |               const [filterGrade, setFilterGrade] = useState('All');
  > 296 |               const [citStyle, setCitStyle]     = useState<'vancouver'|'apa'>('vancouver');
        |                                                                             ^
    297 |               const [copied, setCopied]         = useState(false);
    298 |               const [saved, setSaved]           = useState(false);
    299 |               const [loading, setLoading]       = useState(false);

ERROR in src/pages/LiteratureReview.tsx:301:29
TS1382: Unexpected token. Did you mean `{'>'}` or `&gt;`?
    299 |               const [loading, setLoading]       = useState(false);
    300 |
  > 301 |               useEffect(() => {
        |                             ^
    302 |                 if (!projectId) return;
    303 |                 setLoading(true);
    304 |                 fetch(`/api/references?project_id=${projectId}`)

ERROR in src/pages/LiteratureReview.tsx:302:17
TS1109: Expression expected.
    300 |
    301 |               useEffect(() => {
  > 302 |                 if (!projectId) return;
        |                 ^^
    303 |                 setLoading(true);
    304 |                 fetch(`/api/references?project_id=${projectId}`)
    305 |                   .then(res => res.json())

ERROR in src/pages/LiteratureReview.tsx:305:30
TS1382: Unexpected token. Did you mean `{'>'}` or `&gt;`?
    303 |                 setLoading(true);
    304 |                 fetch(`/api/references?project_id=${projectId}`)
  > 305 |                   .then(res => res.json())
        |                              ^
    306 |                   .then(data => setRefs(data))
    307 |                   .finally(() => setLoading(false));
    308 |               }, [projectId]);

ERROR in src/pages/LiteratureReview.tsx:306:31
TS1382: Unexpected token. Did you mean `{'>'}` or `&gt;`?
    304 |                 fetch(`/api/references?project_id=${projectId}`)
    305 |                   .then(res => res.json())
  > 306 |                   .then(data => setRefs(data))
        |                               ^
    307 |                   .finally(() => setLoading(false));
    308 |               }, [projectId]);
    309 |

ERROR in src/pages/LiteratureReview.tsx:307:32
TS1382: Unexpected token. Did you mean `{'>'}` or `&gt;`?
    305 |                   .then(res => res.json())
    306 |                   .then(data => setRefs(data))
  > 307 |                   .finally(() => setLoading(false));
        |                                ^
    308 |               }, [projectId]);
    309 |
    310 |               function save(updated: Reference[]) {

ERROR in src/pages/LiteratureReview.tsx:308:15
TS1381: Unexpected token. Did you mean `{'}'}` or `&rbrace;`?
    306 |                   .then(data => setRefs(data))
    307 |                   .finally(() => setLoading(false));
  > 308 |               }, [projectId]);
        |               ^
    309 |
    310 |               function save(updated: Reference[]) {
    311 |                 setRefs(updated);

ERROR in src/pages/LiteratureReview.tsx:311:33
TS1005: '}' expected.
    309 |
    310 |               function save(updated: Reference[]) {
  > 311 |                 setRefs(updated);
        |                                 ^
    312 |                 setSaved(true);
    313 |                 setTimeout(() => setSaved(false), 1500);
    314 |               }

ERROR in src/pages/LiteratureReview.tsx:313:32
TS1382: Unexpected token. Did you mean `{'>'}` or `&gt;`?
    311 |                 setRefs(updated);
    312 |                 setSaved(true);
  > 313 |                 setTimeout(() => setSaved(false), 1500);
        |                                ^
    314 |               }
    315 |
    316 |               async function addRef() {

ERROR in src/pages/LiteratureReview.tsx:314:15
TS1381: Unexpected token. Did you mean `{'}'}` or `&rbrace;`?
    312 |                 setSaved(true);
    313 |                 setTimeout(() => setSaved(false), 1500);
  > 314 |               }
        |               ^
    315 |
    316 |               async function addRef() {
    317 |                 if (!form.title || !form.authors || !projectId) return;

ERROR in src/pages/LiteratureReview.tsx:317:17
TS1109: Expression expected.
    315 |
    316 |               async function addRef() {
  > 317 |                 if (!form.title || !form.authors || !projectId) return;
        |                 ^^
    318 |                 const payload = { ...form, project_id: projectId };
    319 |                 const res = await fetch('/api/references', {
    320 |                   method: 'POST',

ERROR in src/pages/LiteratureReview.tsx:318:54
TS1005: '}' expected.
    316 |               async function addRef() {
    317 |                 if (!form.title || !form.authors || !projectId) return;
  > 318 |                 const payload = { ...form, project_id: projectId };
        |                                                      ^
    319 |                 const res = await fetch('/api/references', {
    320 |                   method: 'POST',
    321 |                   headers: { 'Content-Type': 'application/json' },

ERROR in src/pages/LiteratureReview.tsx:318:66
TS1381: Unexpected token. Did you mean `{'}'}` or `&rbrace;`?
    316 |               async function addRef() {
    317 |                 if (!form.title || !form.authors || !projectId) return;
  > 318 |                 const payload = { ...form, project_id: projectId };
        |                                                                  ^
    319 |                 const res = await fetch('/api/references', {
    320 |                   method: 'POST',
    321 |                   headers: { 'Content-Type': 'application/json' },

ERROR in src/pages/LiteratureReview.tsx:320:25
TS1005: '}' expected.
    318 |                 const payload = { ...form, project_id: projectId };
    319 |                 const res = await fetch('/api/references', {
  > 320 |                   method: 'POST',
        |                         ^
    321 |                   headers: { 'Content-Type': 'application/json' },
    322 |                   body: JSON.stringify(payload)
    323 |                 });

ERROR in src/pages/LiteratureReview.tsx:321:44
TS1005: '}' expected.
    319 |                 const res = await fetch('/api/references', {
    320 |                   method: 'POST',
  > 321 |                   headers: { 'Content-Type': 'application/json' },
        |                                            ^
    322 |                   body: JSON.stringify(payload)
    323 |                 });
    324 |                 if (res.ok) {

ERROR in src/pages/LiteratureReview.tsx:321:65
TS1381: Unexpected token. Did you mean `{'}'}` or `&rbrace;`?
    319 |                 const res = await fetch('/api/references', {
    320 |                   method: 'POST',
  > 321 |                   headers: { 'Content-Type': 'application/json' },
        |                                                                 ^
    322 |                   body: JSON.stringify(payload)
    323 |                 });
    324 |                 if (res.ok) {

ERROR in src/pages/LiteratureReview.tsx:323:17
TS1381: Unexpected token. Did you mean `{'}'}` or `&rbrace;`?
    321 |                   headers: { 'Content-Type': 'application/json' },
    322 |                   body: JSON.stringify(payload)
  > 323 |                 });
        |                 ^
    324 |                 if (res.ok) {
    325 |                   const newRef = await res.json();
    326 |                   save([...refs, newRef]);

ERROR in src/pages/LiteratureReview.tsx:325:19
TS1109: Expression expected.
    323 |                 });
    324 |                 if (res.ok) {
  > 325 |                   const newRef = await res.json();
        |                   ^^^^^
    326 |                   save([...refs, newRef]);
    327 |                   setForm(emptyRef());
    328 |                   setShowAdd(false);

ERROR in src/pages/LiteratureReview.tsx:329:17
TS1381: Unexpected token. Did you mean `{'}'}` or `&rbrace;`?
    327 |                   setForm(emptyRef());
    328 |                   setShowAdd(false);
  > 329 |                 }
        |                 ^
    330 |               }
    331 |
    332 |               async function updateRef() {

ERROR in src/pages/LiteratureReview.tsx:330:15
TS1381: Unexpected token. Did you mean `{'}'}` or `&rbrace;`?
    328 |                   setShowAdd(false);
    329 |                 }
  > 330 |               }
        |               ^
    331 |
    332 |               async function updateRef() {
    333 |                 // Not implemented: backend update endpoint. For now, delete and re-add.

ERROR in src/pages/LiteratureReview.tsx:334:17
TS1109: Expression expected.
    332 |               async function updateRef() {
    333 |                 // Not implemented: backend update endpoint. For now, delete and re-add.
  > 334 |                 if (!editing) return;
        |                 ^^
    335 |                 await deleteRef(editing.id, false);
    336 |                 await addRef();
    337 |                 setEditing(null);

ERROR in src/pages/LiteratureReview.tsx:340:15
TS1381: Unexpected token. Did you mean `{'}'}` or `&rbrace;`?
    338 |                 setForm(emptyRef());
    339 |                 setShowAdd(false);
  > 340 |               }
        |               ^
    341 |
    342 |               async function deleteRef(id: string, confirm = true) {
    343 |                 if (confirm && !window.confirm('Delete this reference?')) return;

ERROR in src/pages/LiteratureReview.tsx:343:17
TS1109: Expression expected.
    341 |
    342 |               async function deleteRef(id: string, confirm = true) {
  > 343 |                 if (confirm && !window.confirm('Delete this reference?')) return;
        |                 ^^
    344 |                 const res = await fetch(`/api/references/${id}`, { method: 'DELETE' });
    345 |                 if (res.ok) {
    346 |                   save(refs.filter(r => r.id !== id));

ERROR in src/pages/LiteratureReview.tsx:344:74
TS1005: '}' expected.
    342 |               async function deleteRef(id: string, confirm = true) {
    343 |                 if (confirm && !window.confirm('Delete this reference?')) return;
  > 344 |                 const res = await fetch(`/api/references/${id}`, { method: 'DELETE' });
        |                                                                          ^
    345 |                 if (res.ok) {
    346 |                   save(refs.filter(r => r.id !== id));
    347 |                 }

ERROR in src/pages/LiteratureReview.tsx:344:85
TS1381: Unexpected token. Did you mean `{'}'}` or `&rbrace;`?
    342 |               async function deleteRef(id: string, confirm = true) {
    343 |                 if (confirm && !window.confirm('Delete this reference?')) return;
  > 344 |                 const res = await fetch(`/api/references/${id}`, { method: 'DELETE' });
        |                                                                                     ^
    345 |                 if (res.ok) {
    346 |                   save(refs.filter(r => r.id !== id));
    347 |                 }

ERROR in src/pages/LiteratureReview.tsx:346:54
TS1005: '}' expected.
    344 |                 const res = await fetch(`/api/references/${id}`, { method: 'DELETE' });
    345 |                 if (res.ok) {
  > 346 |                   save(refs.filter(r => r.id !== id));
        |                                                      ^
    347 |                 }
    348 |               }
    349 |

ERROR in src/pages/LiteratureReview.tsx:347:17
TS1381: Unexpected token. Did you mean `{'}'}` or `&rbrace;`?
    345 |                 if (res.ok) {
    346 |                   save(refs.filter(r => r.id !== id));
  > 347 |                 }
        |                 ^
    348 |               }
    349 |
    350 |               function startEdit(ref: Reference) {

ERROR in src/pages/LiteratureReview.tsx:348:15
TS1381: Unexpected token. Did you mean `{'}'}` or `&rbrace;`?
    346 |                   save(refs.filter(r => r.id !== id));
    347 |                 }
  > 348 |               }
        |               ^
    349 |
    350 |               function startEdit(ref: Reference) {
    351 |                 setForm({ ...ref });

ERROR in src/pages/LiteratureReview.tsx:351:36
TS1005: '}' expected.
    349 |
    350 |               function startEdit(ref: Reference) {
  > 351 |                 setForm({ ...ref });
        |                                    ^
    352 |                 setEditing(ref);
    353 |                 setShowAdd(true);
    354 |               }

ERROR in src/pages/LiteratureReview.tsx:354:15
TS1381: Unexpected token. Did you mean `{'}'}` or `&rbrace;`?
    352 |                 setEditing(ref);
    353 |                 setShowAdd(true);
  > 354 |               }
        |               ^
    355 |
    356 |               function copyBibliography() {
    357 |                 const filtered = refs.filter(r => {

ERROR in src/pages/LiteratureReview.tsx:357:17
TS1109: Expression expected.
    355 |
    356 |               function copyBibliography() {
  > 357 |                 const filtered = refs.filter(r => {
        |                 ^^^^^
    358 |                   const matchSearch = !search || r.title.toLowerCase().includes(search.toLowerCase()) ||
    359 |                     r.authors.toLowerCase().includes(search.toLowerCase()) ||
    360 |                     r.key_finding.toLowerCase().includes(search.toLowerCase()) ||

ERROR in src/pages/LiteratureReview.tsx:357:49
TS1382: Unexpected token. Did you mean `{'>'}` or `&gt;`?
    355 |
    356 |               function copyBibliography() {
  > 357 |                 const filtered = refs.filter(r => {
        |                                                 ^
    358 |                   const matchSearch = !search || r.title.toLowerCase().includes(search.toLowerCase()) ||
    359 |                     r.authors.toLowerCase().includes(search.toLowerCase()) ||
    360 |                     r.key_finding.toLowerCase().includes(search.toLowerCase()) ||

ERROR in src/pages/LiteratureReview.tsx:358:19
TS1109: Expression expected.
    356 |               function copyBibliography() {
    357 |                 const filtered = refs.filter(r => {
  > 358 |                   const matchSearch = !search || r.title.toLowerCase().includes(search.toLowerCase()) ||
        |                   ^^^^^
    359 |                     r.authors.toLowerCase().includes(search.toLowerCase()) ||
    360 |                     r.key_finding.toLowerCase().includes(search.toLowerCase()) ||
    361 |                     r.country.toLowerCase().includes(search.toLowerCase());

ERROR in src/pages/LiteratureReview.tsx:365:17
TS1381: Unexpected token. Did you mean `{'}'}` or `&rbrace;`?
    363 |                   const matchGrade = filterGrade === 'All' || r.grade === filterGrade;
    364 |                   return matchSearch && matchTheme && matchGrade;
  > 365 |                 });
        |                 ^
    366 |                 const text = filtered.map((r, i) =>
    367 |                   citStyle === 'vancouver' ? vancouverCite(r, i + 1) : apaCite(r)
    368 |                 ).join('\n\n');

ERROR in src/pages/LiteratureReview.tsx:366:51
TS1382: Unexpected token. Did you mean `{'>'}` or `&gt;`?
    364 |                   return matchSearch && matchTheme && matchGrade;
    365 |                 });
  > 366 |                 const text = filtered.map((r, i) =>
        |                                                   ^
    367 |                   citStyle === 'vancouver' ? vancouverCite(r, i + 1) : apaCite(r)
    368 |                 ).join('\n\n');
    369 |                 navigator.clipboard.writeText(text);

ERROR in src/pages/LiteratureReview.tsx:371:32
TS1382: Unexpected token. Did you mean `{'>'}` or `&gt;`?
    369 |                 navigator.clipboard.writeText(text);
    370 |                 setCopied(true);
  > 371 |                 setTimeout(() => setCopied(false), 2000);
        |                                ^
    372 |               }
    373 |
    374 |               if (!projectId) {

ERROR in src/pages/LiteratureReview.tsx:372:15
TS1381: Unexpected token. Did you mean `{'}'}` or `&rbrace;`?
    370 |                 setCopied(true);
    371 |                 setTimeout(() => setCopied(false), 2000);
  > 372 |               }
        |               ^
    373 |
    374 |               if (!projectId) {
    375 |                 return (

ERROR in src/pages/LiteratureReview.tsx:375:17
TS1109: Expression expected.
    373 |
    374 |               if (!projectId) {
  > 375 |                 return (
        |                 ^^^^^^
    376 |                   <div className="card" style={{ margin: '2rem auto', maxWidth: 500, textAlign: 'center' }}>
    377 |                     <h2>Please select or create a project to continue.</h2>
    378 |                   </div>

ERROR in src/pages/LiteratureReview.tsx:380:15
TS1381: Unexpected token. Did you mean `{'}'}` or `&rbrace;`?
    378 |                   </div>
    379 |                 );
  > 380 |               }
        |               ^
    381 |
    382 |               const filtered = refs.filter(r => {
    383 |                 const matchSearch = !search || r.title.toLowerCase().includes(search.toLowerCase()) ||

ERROR in src/pages/LiteratureReview.tsx:382:47
TS1382: Unexpected token. Did you mean `{'>'}` or `&gt;`?
    380 |               }
    381 |
  > 382 |               const filtered = refs.filter(r => {
        |                                               ^
    383 |                 const matchSearch = !search || r.title.toLowerCase().includes(search.toLowerCase()) ||
    384 |                   r.authors.toLowerCase().includes(search.toLowerCase()) ||
    385 |                   r.key_finding.toLowerCase().includes(search.toLowerCase()) ||

ERROR in src/pages/LiteratureReview.tsx:383:17
TS1109: Expression expected.
    381 |
    382 |               const filtered = refs.filter(r => {
  > 383 |                 const matchSearch = !search || r.title.toLowerCase().includes(search.toLowerCase()) ||
        |                 ^^^^^
    384 |                   r.authors.toLowerCase().includes(search.toLowerCase()) ||
    385 |                   r.key_finding.toLowerCase().includes(search.toLowerCase()) ||
    386 |                   r.country.toLowerCase().includes(search.toLowerCase());

ERROR in src/pages/LiteratureReview.tsx:390:15
TS1381: Unexpected token. Did you mean `{'}'}` or `&rbrace;`?
    388 |                 const matchGrade = filterGrade === 'All' || r.grade === filterGrade;
    389 |                 return matchSearch && matchTheme && matchGrade;
  > 390 |               });
        |               ^
    391 |
    392 |               const themeGroups = THEMES.reduce((acc, theme) => {
    393 |                 acc[theme] = refs.filter(r => r.theme === theme);

ERROR in src/pages/LiteratureReview.tsx:392:63
TS1382: Unexpected token. Did you mean `{'>'}` or `&gt;`?
    390 |               });
    391 |
  > 392 |               const themeGroups = THEMES.reduce((acc, theme) => {
        |                                                               ^
    393 |                 acc[theme] = refs.filter(r => r.theme === theme);
    394 |                 return acc;
    395 |               }, {} as Record<string, Reference[]>);

ERROR in src/pages/LiteratureReview.tsx:393:65
TS1005: '}' expected.
    391 |
    392 |               const themeGroups = THEMES.reduce((acc, theme) => {
  > 393 |                 acc[theme] = refs.filter(r => r.theme === theme);
        |                                                                 ^
    394 |                 return acc;
    395 |               }, {} as Record<string, Reference[]>);
    396 |

ERROR in src/pages/LiteratureReview.tsx:395:15
TS1381: Unexpected token. Did you mean `{'}'}` or `&rbrace;`?
    393 |                 acc[theme] = refs.filter(r => r.theme === theme);
    394 |                 return acc;
  > 395 |               }, {} as Record<string, Reference[]>);
        |               ^
    396 |
    397 |               const gradeDistribution = GRADE_LEVELS.map(g => ({
    398 |                 grade: g, count: refs.filter(r => r.grade === g).length

ERROR in src/pages/LiteratureReview.tsx:395:37
TS1003: Identifier expected.
    393 |                 acc[theme] = refs.filter(r => r.theme === theme);
    394 |                 return acc;
  > 395 |               }, {} as Record<string, Reference[]>);
        |                                     ^
    396 |
    397 |               const gradeDistribution = GRADE_LEVELS.map(g => ({
    398 |                 grade: g, count: refs.filter(r => r.grade === g).length

ERROR in src/pages/LiteratureReview.tsx:395:50
TS1382: Unexpected token. Did you mean `{'>'}` or `&gt;`?
    393 |                 acc[theme] = refs.filter(r => r.theme === theme);
    394 |                 return acc;
  > 395 |               }, {} as Record<string, Reference[]>);
        |                                                  ^
    396 |
    397 |               const gradeDistribution = GRADE_LEVELS.map(g => ({
    398 |                 grade: g, count: refs.filter(r => r.grade === g).length

ERROR in src/pages/LiteratureReview.tsx:397:61
TS1382: Unexpected token. Did you mean `{'>'}` or `&gt;`?
    395 |               }, {} as Record<string, Reference[]>);
    396 |
  > 397 |               const gradeDistribution = GRADE_LEVELS.map(g => ({
        |                                                             ^
    398 |                 grade: g, count: refs.filter(r => r.grade === g).length
    399 |               }));
    400 |

ERROR in src/pages/LiteratureReview.tsx:398:22
TS1005: '}' expected.
    396 |
    397 |               const gradeDistribution = GRADE_LEVELS.map(g => ({
  > 398 |                 grade: g, count: refs.filter(r => r.grade === g).length
        |                      ^
    399 |               }));
    400 |
    401 |               return (

ERROR in src/pages/LiteratureReview.tsx:398:49
TS1382: Unexpected token. Did you mean `{'>'}` or `&gt;`?
    396 |
    397 |               const gradeDistribution = GRADE_LEVELS.map(g => ({
  > 398 |                 grade: g, count: refs.filter(r => r.grade === g).length
        |                                                 ^
    399 |               }));
    400 |
    401 |               return (

ERROR in src/pages/LiteratureReview.tsx:399:15
TS1381: Unexpected token. Did you mean `{'}'}` or `&rbrace;`?
    397 |               const gradeDistribution = GRADE_LEVELS.map(g => ({
    398 |                 grade: g, count: refs.filter(r => r.grade === g).length
  > 399 |               }));
        |               ^
    400 |
    401 |               return (
    402 |                 <div className="page">

ERROR in src/pages/LiteratureReview.tsx:407:13
TS1381: Unexpected token. Did you mean `{'}'}` or `&rbrace;`?
    405 |                 </div>
    406 |               );
  > 407 |             };
        |             ^
    408 |
    409 |             export default LiteratureReview;
    410 |                 </thead>

ERROR in src/pages/LiteratureReview.tsx:410:19
TS17002: Expected corresponding JSX closing tag for 'Reference'.
    408 |
    409 |             export default LiteratureReview;
  > 410 |                 </thead>
        |                   ^^^^^
    411 |                 <tbody>
    412 |                   {filtered.map((ref, i) => (
    413 |                     <tr key={ref.id} style={{ background: i % 2 === 0 ? '#f8f7f4' : 'white', borderBottom: '1px solid #eee' }}>

ERROR in src/pages/LiteratureReview.tsx:433:17
TS17002: Expected corresponding JSX closing tag for 'p'.
    431 |                   ))}
    432 |                 </tbody>
  > 433 |               </table>
        |                 ^^^^^
    434 |             </div>
    435 |           )}
    436 |         </div>

ERROR in src/pages/LiteratureReview.tsx:435:12
TS1381: Unexpected token. Did you mean `{'}'}` or `&rbrace;`?
    433 |               </table>
    434 |             </div>
  > 435 |           )}
        |            ^
    436 |         </div>
    437 |       )}
    438 |

ERROR in src/pages/LiteratureReview.tsx:437:8
TS1381: Unexpected token. Did you mean `{'}'}` or `&rbrace;`?
    435 |           )}
    436 |         </div>
  > 437 |       )}
        |        ^
    438 |
    439 |       {/* BIBLIOGRAPHY TAB */}
    440 |       {activeTab === 'bibliography' && (

ERROR in src/pages/LiteratureReview.tsx:658:1
TS1128: Declaration or statement expected.
    656 |     </div>
    657 |   );
  > 658 | }
        | ^
    659 |

ERROR in src/pages/SubgroupAnalysis.tsx:312:32
TS2322: Type '(val: any, name: string) => [any, string]' is not assignable to type 'Formatter<any, string> & ((value: any, name: string, item: Payload<any, string>, index: number, payload: Payload<any, string>[]) => ReactNode | [...])'.
  Type '(val: any, name: string) => [any, string]' is not assignable to type 'Formatter<any, string>'.
    Types of parameters 'name' and 'name' are incompatible.
      Type 'string | undefined' is not assignable to type 'string'.
        Type 'undefined' is not assignable to type 'string'.
    310 |                         tickFormatter={v => measure === 'OR' ? v.toFixed(1) : v.toFixed(2)} />
    311 |                       <YAxis type="category" dataKey="name" width={75} tick={{ fontSize: 12 }} />
  > 312 |                       <Tooltip formatter={(val: any, name: string) => [
        |                                ^^^^^^^^^
    313 |                         name === 'effect' ? `${measure}: ${val}` : val, name
    314 |                       ]} />
    315 |                       <ReferenceLine x={nullVal} stroke="#888" strokeDasharray="4 3" />

ERROR in src/pages/VisualisationStudio.tsx:229:45
TS2322: Type '(({ name, percent }: { name: string; percent?: number | undefined; }) => string) | undefined' is not assignable to type 'PieLabel | undefined'.
  Type '({ name, percent }: { name: string; percent?: number | undefined; }) => string' is not assignable to type 'PieLabel | undefined'.
    Type '({ name, percent }: { name: string; percent?: number | undefined; }) => string' is not assignable to type '(props: PieLabelRenderProps) => ReactNode | ReactElement<SVGElement, string | JSXElementConstructor<any>>'.
      Types of parameters '__0' and 'props' are incompatible.
        Type 'PieLabelRenderProps' is not assignable to type '{ name: string; percent?: number | undefined; }'.
          Types of property 'name' are incompatible.
            Type 'string | undefined' is not assignable to type 'string'.
              Type 'undefined' is not assignable to type 'string'.
    227 |           <PieChart>
    228 |             <Pie data={chartData} dataKey="value" nameKey="name" cx="50%" cy="50%"
  > 229 |               outerRadius={chartHeight / 3} label={showValues ? ({ name, percent }: { name: string, percent?: number }) => `${name} ${((percent || 0) * 100).toFixed(1)}%` : undefined}
        |                                             ^^^^^
    230 |               opacity={opacity}>
    231 |               {chartData.map((_: any, index: number) => (
    232 |                 <Cell key={index} fill={palette[index % palette.length]} />

Compiling...
Failed to compile.

[eslint] 
src/pages/LiteratureReview.tsx
Syntax error: Identifier expected (209:45)
WARNING in [eslint] 
src/pages/analytics/DifferenceInDifferences.tsx
  Line 1:27:  'useContext' is defined but never used  @typescript-eslint/no-unused-vars

src/pages/analytics/InterruptedTimeSeries.tsx
  Line 1:27:  'useContext' is defined but never used  @typescript-eslint/no-unused-vars

src/pages/analytics/MixedEffects.tsx
  Line 1:27:  'useContext' is defined but never used  @typescript-eslint/no-unused-vars

src/pages/analytics/NetworkMetaAnalysis.tsx
  Line 1:27:  'useContext' is defined but never used  @typescript-eslint/no-unused-vars

src/pages/analytics/SpatialAnalysis.tsx
  Line 1:27:  'useContext' is defined but never used  @typescript-eslint/no-unused-vars

ERROR in ./src/pages/LiteratureReview.tsx
Module build failed (from ./node_modules/babel-loader/lib/index.js):
SyntaxError: /workspaces/researchflow/frontend/src/pages/LiteratureReview.tsx: 'return' outside of function. (170:4)

  168 |
  169 |   if (!projectId) {
> 170 |     return <div className="card" style={{ margin: '2rem auto', maxWidth: 500, textAlign: 'center' }}>
      |     ^
  171 |       <h2>Please select or create a project to continue.</h2>
  172 |     </div>;
  173 |   }
    at constructor (/workspaces/researchflow/frontend/node_modules/@babel/parser/lib/index.js:365:19)
    at TypeScriptParserMixin.raise (/workspaces/researchflow/frontend/node_modules/@babel/parser/lib/index.js:6599:19)
    at TypeScriptParserMixin.parseReturnStatement (/workspaces/researchflow/frontend/node_modules/@babel/parser/lib/index.js:13136:12)
    at TypeScriptParserMixin.parseStatementContent (/workspaces/researchflow/frontend/node_modules/@babel/parser/lib/index.js:12798:21)
    at TypeScriptParserMixin.parseStatementContent (/workspaces/researchflow/frontend/node_modules/@babel/parser/lib/index.js:9508:18)
    at TypeScriptParserMixin.parseStatementLike (/workspaces/researchflow/frontend/node_modules/@babel/parser/lib/index.js:12767:17)
    at TypeScriptParserMixin.parseStatementListItem (/workspaces/researchflow/frontend/node_modules/@babel/parser/lib/index.js:12747:17)
    at TypeScriptParserMixin.parseBlockOrModuleBlockBody (/workspaces/researchflow/frontend/node_modules/@babel/parser/lib/index.js:13316:61)
    at TypeScriptParserMixin.parseBlockBody (/workspaces/researchflow/frontend/node_modules/@babel/parser/lib/index.js:13309:10)
    at TypeScriptParserMixin.parseBlock (/workspaces/researchflow/frontend/node_modules/@babel/parser/lib/index.js:13297:10)
    at TypeScriptParserMixin.parseStatementContent (/workspaces/researchflow/frontend/node_modules/@babel/parser/lib/index.js:12858:21)
    at TypeScriptParserMixin.parseStatementContent (/workspaces/researchflow/frontend/node_modules/@babel/parser/lib/index.js:9508:18)
    at TypeScriptParserMixin.parseStatementLike (/workspaces/researchflow/frontend/node_modules/@babel/parser/lib/index.js:12767:17)
    at TypeScriptParserMixin.parseStatementOrSloppyAnnexBFunctionDeclaration (/workspaces/researchflow/frontend/node_modules/@babel/parser/lib/index.js:12757:17)
    at TypeScriptParserMixin.parseIfStatement (/workspaces/researchflow/frontend/node_modules/@babel/parser/lib/index.js:13130:28)
    at TypeScriptParserMixin.parseStatementContent (/workspaces/researchflow/frontend/node_modules/@babel/parser/lib/index.js:12796:21)
    at TypeScriptParserMixin.parseStatementContent (/workspaces/researchflow/frontend/node_modules/@babel/parser/lib/index.js:9508:18)
    at TypeScriptParserMixin.parseStatementLike (/workspaces/researchflow/frontend/node_modules/@babel/parser/lib/index.js:12767:17)
    at TypeScriptParserMixin.parseModuleItem (/workspaces/researchflow/frontend/node_modules/@babel/parser/lib/index.js:12744:17)
    at TypeScriptParserMixin.parseBlockOrModuleBlockBody (/workspaces/researchflow/frontend/node_modules/@babel/parser/lib/index.js:13316:36)
    at TypeScriptParserMixin.parseBlockBody (/workspaces/researchflow/frontend/node_modules/@babel/parser/lib/index.js:13309:10)
    at TypeScriptParserMixin.parseProgram (/workspaces/researchflow/frontend/node_modules/@babel/parser/lib/index.js:12622:10)
    at TypeScriptParserMixin.parseTopLevel (/workspaces/researchflow/frontend/node_modules/@babel/parser/lib/index.js:12612:25)
    at TypeScriptParserMixin.parse (/workspaces/researchflow/frontend/node_modules/@babel/parser/lib/index.js:14488:25)
    at TypeScriptParserMixin.parse (/workspaces/researchflow/frontend/node_modules/@babel/parser/lib/index.js:10126:18)
    at parse (/workspaces/researchflow/frontend/node_modules/@babel/parser/lib/index.js:14522:38)
    at parser (/workspaces/researchflow/frontend/node_modules/@babel/core/lib/parser/index.js:41:34)
    at parser.next (<anonymous>)
    at normalizeFile (/workspaces/researchflow/frontend/node_modules/@babel/core/lib/transformation/normalize-file.js:64:37)
    at normalizeFile.next (<anonymous>)
    at run (/workspaces/researchflow/frontend/node_modules/@babel/core/lib/transformation/index.js:22:50)
    at run.next (<anonymous>)
    at transform (/workspaces/researchflow/frontend/node_modules/@babel/core/lib/transform.js:22:33)
    at transform.next (<anonymous>)
    at step (/workspaces/researchflow/frontend/node_modules/gensync/index.js:261:32)
    at /workspaces/researchflow/frontend/node_modules/gensync/index.js:273:13
    at async.call.result.err.err (/workspaces/researchflow/frontend/node_modules/gensync/index.js:223:11)

ERROR in [eslint] 
src/pages/LiteratureReview.tsx
  Line 209:45:  Parsing error: Identifier expected

webpack compiled with 2 errors and 1 warning
ERROR in src/pages/LiteratureReview.tsx:76:16
TS2304: Cannot find name 'LiteratureReview'.
    74 | }
    75 |
  > 76 | export default LiteratureReview;
       |                ^^^^^^^^^^^^^^^^
    77 |
    78 | function vancouverCite(ref: Reference, index: number): string {
    79 |   const authors = ref.authors.split(',').slice(0, 6).join(', ');

ERROR in src/pages/LiteratureReview.tsx:209:46
TS1003: Identifier expected.
    207 |             const THEMES = ['Background', 'Methods', 'Intervention', 'Outcome', 'Comparison', 'Population', 'Risk Factor', 'Epidemiology', 'Policy'];
    208 |
  > 209 |             const GRADE_COLORS: Record<string, string> = {
        |                                              ^
    210 |               'High':     '#5A8A6A',
    211 |               'Moderate': '#2196f3',
    212 |               'Low':      '#ff9800',

ERROR in src/pages/LiteratureReview.tsx:209:54
TS1382: Unexpected token. Did you mean `{'>'}` or `&gt;`?
    207 |             const THEMES = ['Background', 'Methods', 'Intervention', 'Outcome', 'Comparison', 'Population', 'Risk Factor', 'Epidemiology', 'Policy'];
    208 |
  > 209 |             const GRADE_COLORS: Record<string, string> = {
        |                                                      ^
    210 |               'High':     '#5A8A6A',
    211 |               'Moderate': '#2196f3',
    212 |               'Low':      '#ff9800',

ERROR in src/pages/LiteratureReview.tsx:210:21
TS1005: '}' expected.
    208 |
    209 |             const GRADE_COLORS: Record<string, string> = {
  > 210 |               'High':     '#5A8A6A',
        |                     ^
    211 |               'Moderate': '#2196f3',
    212 |               'Low':      '#ff9800',
    213 |               'Very Low': '#f44336',

ERROR in src/pages/LiteratureReview.tsx:214:13
TS1381: Unexpected token. Did you mean `{'}'}` or `&rbrace;`?
    212 |               'Low':      '#ff9800',
    213 |               'Very Low': '#f44336',
  > 214 |             };
        |             ^
    215 |
    216 |             const LEVEL_COLORS: Record<string, string> = {
    217 |               '1a': '#5A8A6A', '1b': '#5A8A6A',

ERROR in src/pages/LiteratureReview.tsx:216:46
TS1003: Identifier expected.
    214 |             };
    215 |
  > 216 |             const LEVEL_COLORS: Record<string, string> = {
        |                                              ^
    217 |               '1a': '#5A8A6A', '1b': '#5A8A6A',
    218 |               '2a': '#2196f3', '2b': '#2196f3',
    219 |               '3':  '#ff9800',

ERROR in src/pages/LiteratureReview.tsx:216:54
TS1382: Unexpected token. Did you mean `{'>'}` or `&gt;`?
    214 |             };
    215 |
  > 216 |             const LEVEL_COLORS: Record<string, string> = {
        |                                                      ^
    217 |               '1a': '#5A8A6A', '1b': '#5A8A6A',
    218 |               '2a': '#2196f3', '2b': '#2196f3',
    219 |               '3':  '#ff9800',

ERROR in src/pages/LiteratureReview.tsx:217:19
TS1005: '}' expected.
    215 |
    216 |             const LEVEL_COLORS: Record<string, string> = {
  > 217 |               '1a': '#5A8A6A', '1b': '#5A8A6A',
        |                   ^
    218 |               '2a': '#2196f3', '2b': '#2196f3',
    219 |               '3':  '#ff9800',
    220 |               '4':  '#f44336',

ERROR in src/pages/LiteratureReview.tsx:222:13
TS1381: Unexpected token. Did you mean `{'}'}` or `&rbrace;`?
    220 |               '4':  '#f44336',
    221 |               '5':  '#9c27b0',
  > 222 |             };
        |             ^
    223 |
    224 |             type Reference = {
    225 |               id:           string;

ERROR in src/pages/LiteratureReview.tsx:225:17
TS1005: '}' expected.
    223 |
    224 |             type Reference = {
  > 225 |               id:           string;
        |                 ^
    226 |               title:        string;
    227 |               authors:      string;
    228 |               journal:      string;

ERROR in src/pages/LiteratureReview.tsx:247:13
TS1381: Unexpected token. Did you mean `{'}'}` or `&rbrace;`?
    245 |               key_finding:  string;
    246 |               added_at:     string;
  > 247 |             };
        |             ^
    248 |
    249 |             function emptyRef(): Reference {
    250 |               return {

ERROR in src/pages/LiteratureReview.tsx:250:15
TS1109: Expression expected.
    248 |
    249 |             function emptyRef(): Reference {
  > 250 |               return {
        |               ^^^^^^
    251 |                 id:          Date.now().toString(),
    252 |                 title:       '',
    253 |                 authors:     '',

ERROR in src/pages/LiteratureReview.tsx:251:19
TS1005: '}' expected.
    249 |             function emptyRef(): Reference {
    250 |               return {
  > 251 |                 id:          Date.now().toString(),
        |                   ^
    252 |                 title:       '',
    253 |                 authors:     '',
    254 |                 journal:     '',

ERROR in src/pages/LiteratureReview.tsx:273:15
TS1381: Unexpected token. Did you mean `{'}'}` or `&rbrace;`?
    271 |                 key_finding: '',
    272 |                 added_at:    new Date().toISOString(),
  > 273 |               };
        |               ^
    274 |             }
    275 |
    276 |             function vancouverCite(ref: Reference, index: number): string {

ERROR in src/pages/LiteratureReview.tsx:274:13
TS1381: Unexpected token. Did you mean `{'}'}` or `&rbrace;`?
    272 |                 added_at:    new Date().toISOString(),
    273 |               };
  > 274 |             }
        |             ^
    275 |
    276 |             function vancouverCite(ref: Reference, index: number): string {
    277 |               const authors = ref.authors.split(',').slice(0, 6).join(', ');

ERROR in src/pages/LiteratureReview.tsx:277:15
TS1109: Expression expected.
    275 |
    276 |             function vancouverCite(ref: Reference, index: number): string {
  > 277 |               const authors = ref.authors.split(',').slice(0, 6).join(', ');
        |               ^^^^^
    278 |               const et_al   = ref.authors.split(',').length > 6 ? ', et al' : '';
    279 |               return `${index}. ${authors}${et_al}. ${ref.title}. ${ref.journal}. ${ref.year};${ref.volume}${ref.issue ? `(${ref.issue})` : ''}:${ref.pages}.${ref.doi ? ` doi:${ref.doi}` : ''}`;
    280 |             }

ERROR in src/pages/LiteratureReview.tsx:278:61
TS1382: Unexpected token. Did you mean `{'>'}` or `&gt;`?
    276 |             function vancouverCite(ref: Reference, index: number): string {
    277 |               const authors = ref.authors.split(',').slice(0, 6).join(', ');
  > 278 |               const et_al   = ref.authors.split(',').length > 6 ? ', et al' : '';
        |                                                             ^
    279 |               return `${index}. ${authors}${et_al}. ${ref.title}. ${ref.journal}. ${ref.year};${ref.volume}${ref.issue ? `(${ref.issue})` : ''}:${ref.pages}.${ref.doi ? ` doi:${ref.doi}` : ''}`;
    280 |             }
    281 |

ERROR in src/pages/LiteratureReview.tsx:280:13
TS1381: Unexpected token. Did you mean `{'}'}` or `&rbrace;`?
    278 |               const et_al   = ref.authors.split(',').length > 6 ? ', et al' : '';
    279 |               return `${index}. ${authors}${et_al}. ${ref.title}. ${ref.journal}. ${ref.year};${ref.volume}${ref.issue ? `(${ref.issue})` : ''}:${ref.pages}.${ref.doi ? ` doi:${ref.doi}` : ''}`;
  > 280 |             }
        |             ^
    281 |
    282 |             function apaCite(ref: Reference): string {
    283 |               const authors = ref.authors;

ERROR in src/pages/LiteratureReview.tsx:283:15
TS1109: Expression expected.
    281 |
    282 |             function apaCite(ref: Reference): string {
  > 283 |               const authors = ref.authors;
        |               ^^^^^
    284 |               return `${authors} (${ref.year}). ${ref.title}. ${ref.journal}, ${ref.volume}${ref.issue ? `(${ref.issue})` : ''}, ${ref.pages}.${ref.doi ? ` https://doi.org/${ref.doi}` : ''}`;
    285 |             }
    286 |

ERROR in src/pages/LiteratureReview.tsx:285:13
TS1381: Unexpected token. Did you mean `{'}'}` or `&rbrace;`?
    283 |               const authors = ref.authors;
    284 |               return `${authors} (${ref.year}). ${ref.title}. ${ref.journal}, ${ref.volume}${ref.issue ? `(${ref.issue})` : ''}, ${ref.pages}.${ref.doi ? ` https://doi.org/${ref.doi}` : ''}`;
  > 285 |             }
        |             ^
    286 |
    287 |             const LiteratureReview: React.FC = () => {
    288 |               const { projectId } = useProject();

ERROR in src/pages/LiteratureReview.tsx:287:52
TS1382: Unexpected token. Did you mean `{'>'}` or `&gt;`?
    285 |             }
    286 |
  > 287 |             const LiteratureReview: React.FC = () => {
        |                                                    ^
    288 |               const { projectId } = useProject();
    289 |               const [refs, setRefs]             = useState<Reference[]>([]);
    290 |               const [activeTab, setActiveTab]   = useState('library');

ERROR in src/pages/LiteratureReview.tsx:288:15
TS1109: Expression expected.
    286 |
    287 |             const LiteratureReview: React.FC = () => {
  > 288 |               const { projectId } = useProject();
        |               ^^^^^
    289 |               const [refs, setRefs]             = useState<Reference[]>([]);
    290 |               const [activeTab, setActiveTab]   = useState('library');
    291 |               const [showAdd, setShowAdd]       = useState(false);

ERROR in src/pages/LiteratureReview.tsx:289:69
TS1003: Identifier expected.
    287 |             const LiteratureReview: React.FC = () => {
    288 |               const { projectId } = useProject();
  > 289 |               const [refs, setRefs]             = useState<Reference[]>([]);
        |                                                                     ^
    290 |               const [activeTab, setActiveTab]   = useState('library');
    291 |               const [showAdd, setShowAdd]       = useState(false);
    292 |               const [showPICO, setShowPICO]     = useState(false);

ERROR in src/pages/LiteratureReview.tsx:289:71
TS1382: Unexpected token. Did you mean `{'>'}` or `&gt;`?
    287 |             const LiteratureReview: React.FC = () => {
    288 |               const { projectId } = useProject();
  > 289 |               const [refs, setRefs]             = useState<Reference[]>([]);
        |                                                                       ^
    290 |               const [activeTab, setActiveTab]   = useState('library');
    291 |               const [showAdd, setShowAdd]       = useState(false);
    292 |               const [showPICO, setShowPICO]     = useState(false);

ERROR in src/pages/LiteratureReview.tsx:293:70
TS1003: Identifier expected.
    291 |               const [showAdd, setShowAdd]       = useState(false);
    292 |               const [showPICO, setShowPICO]     = useState(false);
  > 293 |               const [editing, setEditing]       = useState<Reference | null>(null);
        |                                                                      ^
    294 |               const [form, setForm]             = useState<Reference>(emptyRef());
    295 |               const [search, setSearch]         = useState('');
    296 |               const [filterTheme, setFilterTheme] = useState('All');

ERROR in src/pages/LiteratureReview.tsx:293:76
TS1382: Unexpected token. Did you mean `{'>'}` or `&gt;`?
    291 |               const [showAdd, setShowAdd]       = useState(false);
    292 |               const [showPICO, setShowPICO]     = useState(false);
  > 293 |               const [editing, setEditing]       = useState<Reference | null>(null);
        |                                                                            ^
    294 |               const [form, setForm]             = useState<Reference>(emptyRef());
    295 |               const [search, setSearch]         = useState('');
    296 |               const [filterTheme, setFilterTheme] = useState('All');

ERROR in src/pages/LiteratureReview.tsx:298:60
TS1003: Identifier expected.
    296 |               const [filterTheme, setFilterTheme] = useState('All');
    297 |               const [filterGrade, setFilterGrade] = useState('All');
  > 298 |               const [citStyle, setCitStyle]     = useState<'vancouver'|'apa'>('vancouver');
        |                                                            ^^^^^^^^^^^
    299 |               const [copied, setCopied]         = useState(false);
    300 |               const [saved, setSaved]           = useState(false);
    301 |               const [loading, setLoading]       = useState(false);

ERROR in src/pages/LiteratureReview.tsx:298:77
TS1382: Unexpected token. Did you mean `{'>'}` or `&gt;`?
    296 |               const [filterTheme, setFilterTheme] = useState('All');
    297 |               const [filterGrade, setFilterGrade] = useState('All');
  > 298 |               const [citStyle, setCitStyle]     = useState<'vancouver'|'apa'>('vancouver');
        |                                                                             ^
    299 |               const [copied, setCopied]         = useState(false);
    300 |               const [saved, setSaved]           = useState(false);
    301 |               const [loading, setLoading]       = useState(false);

ERROR in src/pages/LiteratureReview.tsx:303:29
TS1382: Unexpected token. Did you mean `{'>'}` or `&gt;`?
    301 |               const [loading, setLoading]       = useState(false);
    302 |
  > 303 |               useEffect(() => {
        |                             ^
    304 |                 if (!projectId) return;
    305 |                 setLoading(true);
    306 |                 fetch(`/api/references?project_id=${projectId}`)

ERROR in src/pages/LiteratureReview.tsx:304:17
TS1109: Expression expected.
    302 |
    303 |               useEffect(() => {
  > 304 |                 if (!projectId) return;
        |                 ^^
    305 |                 setLoading(true);
    306 |                 fetch(`/api/references?project_id=${projectId}`)
    307 |                   .then(res => res.json())

ERROR in src/pages/LiteratureReview.tsx:307:30
TS1382: Unexpected token. Did you mean `{'>'}` or `&gt;`?
    305 |                 setLoading(true);
    306 |                 fetch(`/api/references?project_id=${projectId}`)
  > 307 |                   .then(res => res.json())
        |                              ^
    308 |                   .then(data => setRefs(data))
    309 |                   .finally(() => setLoading(false));
    310 |               }, [projectId]);

ERROR in src/pages/LiteratureReview.tsx:308:31
TS1382: Unexpected token. Did you mean `{'>'}` or `&gt;`?
    306 |                 fetch(`/api/references?project_id=${projectId}`)
    307 |                   .then(res => res.json())
  > 308 |                   .then(data => setRefs(data))
        |                               ^
    309 |                   .finally(() => setLoading(false));
    310 |               }, [projectId]);
    311 |

ERROR in src/pages/LiteratureReview.tsx:309:32
TS1382: Unexpected token. Did you mean `{'>'}` or `&gt;`?
    307 |                   .then(res => res.json())
    308 |                   .then(data => setRefs(data))
  > 309 |                   .finally(() => setLoading(false));
        |                                ^
    310 |               }, [projectId]);
    311 |
    312 |               function save(updated: Reference[]) {

ERROR in src/pages/LiteratureReview.tsx:310:15
TS1381: Unexpected token. Did you mean `{'}'}` or `&rbrace;`?
    308 |                   .then(data => setRefs(data))
    309 |                   .finally(() => setLoading(false));
  > 310 |               }, [projectId]);
        |               ^
    311 |
    312 |               function save(updated: Reference[]) {
    313 |                 setRefs(updated);

ERROR in src/pages/LiteratureReview.tsx:313:33
TS1005: '}' expected.
    311 |
    312 |               function save(updated: Reference[]) {
  > 313 |                 setRefs(updated);
        |                                 ^
    314 |                 setSaved(true);
    315 |                 setTimeout(() => setSaved(false), 1500);
    316 |               }

ERROR in src/pages/LiteratureReview.tsx:315:32
TS1382: Unexpected token. Did you mean `{'>'}` or `&gt;`?
    313 |                 setRefs(updated);
    314 |                 setSaved(true);
  > 315 |                 setTimeout(() => setSaved(false), 1500);
        |                                ^
    316 |               }
    317 |
    318 |               async function addRef() {

ERROR in src/pages/LiteratureReview.tsx:316:15
TS1381: Unexpected token. Did you mean `{'}'}` or `&rbrace;`?
    314 |                 setSaved(true);
    315 |                 setTimeout(() => setSaved(false), 1500);
  > 316 |               }
        |               ^
    317 |
    318 |               async function addRef() {
    319 |                 if (!form.title || !form.authors || !projectId) return;

ERROR in src/pages/LiteratureReview.tsx:319:17
TS1109: Expression expected.
    317 |
    318 |               async function addRef() {
  > 319 |                 if (!form.title || !form.authors || !projectId) return;
        |                 ^^
    320 |                 const payload = { ...form, project_id: projectId };
    321 |                 const res = await fetch('/api/references', {
    322 |                   method: 'POST',

ERROR in src/pages/LiteratureReview.tsx:320:54
TS1005: '}' expected.
    318 |               async function addRef() {
    319 |                 if (!form.title || !form.authors || !projectId) return;
  > 320 |                 const payload = { ...form, project_id: projectId };
        |                                                      ^
    321 |                 const res = await fetch('/api/references', {
    322 |                   method: 'POST',
    323 |                   headers: { 'Content-Type': 'application/json' },

ERROR in src/pages/LiteratureReview.tsx:320:66
TS1381: Unexpected token. Did you mean `{'}'}` or `&rbrace;`?
    318 |               async function addRef() {
    319 |                 if (!form.title || !form.authors || !projectId) return;
  > 320 |                 const payload = { ...form, project_id: projectId };
        |                                                                  ^
    321 |                 const res = await fetch('/api/references', {
    322 |                   method: 'POST',
    323 |                   headers: { 'Content-Type': 'application/json' },

ERROR in src/pages/LiteratureReview.tsx:322:25
TS1005: '}' expected.
    320 |                 const payload = { ...form, project_id: projectId };
    321 |                 const res = await fetch('/api/references', {
  > 322 |                   method: 'POST',
        |                         ^
    323 |                   headers: { 'Content-Type': 'application/json' },
    324 |                   body: JSON.stringify(payload)
    325 |                 });

ERROR in src/pages/LiteratureReview.tsx:323:44
TS1005: '}' expected.
    321 |                 const res = await fetch('/api/references', {
    322 |                   method: 'POST',
  > 323 |                   headers: { 'Content-Type': 'application/json' },
        |                                            ^
    324 |                   body: JSON.stringify(payload)
    325 |                 });
    326 |                 if (res.ok) {

ERROR in src/pages/LiteratureReview.tsx:323:65
TS1381: Unexpected token. Did you mean `{'}'}` or `&rbrace;`?
    321 |                 const res = await fetch('/api/references', {
    322 |                   method: 'POST',
  > 323 |                   headers: { 'Content-Type': 'application/json' },
        |                                                                 ^
    324 |                   body: JSON.stringify(payload)
    325 |                 });
    326 |                 if (res.ok) {

ERROR in src/pages/LiteratureReview.tsx:325:17
TS1381: Unexpected token. Did you mean `{'}'}` or `&rbrace;`?
    323 |                   headers: { 'Content-Type': 'application/json' },
    324 |                   body: JSON.stringify(payload)
  > 325 |                 });
        |                 ^
    326 |                 if (res.ok) {
    327 |                   const newRef = await res.json();
    328 |                   save([...refs, newRef]);

ERROR in src/pages/LiteratureReview.tsx:327:19
TS1109: Expression expected.
    325 |                 });
    326 |                 if (res.ok) {
  > 327 |                   const newRef = await res.json();
        |                   ^^^^^
    328 |                   save([...refs, newRef]);
    329 |                   setForm(emptyRef());
    330 |                   setShowAdd(false);

ERROR in src/pages/LiteratureReview.tsx:331:17
TS1381: Unexpected token. Did you mean `{'}'}` or `&rbrace;`?
    329 |                   setForm(emptyRef());
    330 |                   setShowAdd(false);
  > 331 |                 }
        |                 ^
    332 |               }
    333 |
    334 |               async function updateRef() {

ERROR in src/pages/LiteratureReview.tsx:332:15
TS1381: Unexpected token. Did you mean `{'}'}` or `&rbrace;`?
    330 |                   setShowAdd(false);
    331 |                 }
  > 332 |               }
        |               ^
    333 |
    334 |               async function updateRef() {
    335 |                 // Not implemented: backend update endpoint. For now, delete and re-add.

ERROR in src/pages/LiteratureReview.tsx:336:17
TS1109: Expression expected.
    334 |               async function updateRef() {
    335 |                 // Not implemented: backend update endpoint. For now, delete and re-add.
  > 336 |                 if (!editing) return;
        |                 ^^
    337 |                 await deleteRef(editing.id, false);
    338 |                 await addRef();
    339 |                 setEditing(null);

ERROR in src/pages/LiteratureReview.tsx:342:15
TS1381: Unexpected token. Did you mean `{'}'}` or `&rbrace;`?
    340 |                 setForm(emptyRef());
    341 |                 setShowAdd(false);
  > 342 |               }
        |               ^
    343 |
    344 |               async function deleteRef(id: string, confirm = true) {
    345 |                 if (confirm && !window.confirm('Delete this reference?')) return;

ERROR in src/pages/LiteratureReview.tsx:345:17
TS1109: Expression expected.
    343 |
    344 |               async function deleteRef(id: string, confirm = true) {
  > 345 |                 if (confirm && !window.confirm('Delete this reference?')) return;
        |                 ^^
    346 |                 const res = await fetch(`/api/references/${id}`, { method: 'DELETE' });
    347 |                 if (res.ok) {
    348 |                   save(refs.filter(r => r.id !== id));

ERROR in src/pages/LiteratureReview.tsx:346:74
TS1005: '}' expected.
    344 |               async function deleteRef(id: string, confirm = true) {
    345 |                 if (confirm && !window.confirm('Delete this reference?')) return;
  > 346 |                 const res = await fetch(`/api/references/${id}`, { method: 'DELETE' });
        |                                                                          ^
    347 |                 if (res.ok) {
    348 |                   save(refs.filter(r => r.id !== id));
    349 |                 }

ERROR in src/pages/LiteratureReview.tsx:346:85
TS1381: Unexpected token. Did you mean `{'}'}` or `&rbrace;`?
    344 |               async function deleteRef(id: string, confirm = true) {
    345 |                 if (confirm && !window.confirm('Delete this reference?')) return;
  > 346 |                 const res = await fetch(`/api/references/${id}`, { method: 'DELETE' });
        |                                                                                     ^
    347 |                 if (res.ok) {
    348 |                   save(refs.filter(r => r.id !== id));
    349 |                 }

ERROR in src/pages/LiteratureReview.tsx:348:54
TS1005: '}' expected.
    346 |                 const res = await fetch(`/api/references/${id}`, { method: 'DELETE' });
    347 |                 if (res.ok) {
  > 348 |                   save(refs.filter(r => r.id !== id));
        |                                                      ^
    349 |                 }
    350 |               }
    351 |

ERROR in src/pages/LiteratureReview.tsx:349:17
TS1381: Unexpected token. Did you mean `{'}'}` or `&rbrace;`?
    347 |                 if (res.ok) {
    348 |                   save(refs.filter(r => r.id !== id));
  > 349 |                 }
        |                 ^
    350 |               }
    351 |
    352 |               function startEdit(ref: Reference) {

ERROR in src/pages/LiteratureReview.tsx:350:15
TS1381: Unexpected token. Did you mean `{'}'}` or `&rbrace;`?
    348 |                   save(refs.filter(r => r.id !== id));
    349 |                 }
  > 350 |               }
        |               ^
    351 |
    352 |               function startEdit(ref: Reference) {
    353 |                 setForm({ ...ref });

ERROR in src/pages/LiteratureReview.tsx:353:36
TS1005: '}' expected.
    351 |
    352 |               function startEdit(ref: Reference) {
  > 353 |                 setForm({ ...ref });
        |                                    ^
    354 |                 setEditing(ref);
    355 |                 setShowAdd(true);
    356 |               }

ERROR in src/pages/LiteratureReview.tsx:356:15
TS1381: Unexpected token. Did you mean `{'}'}` or `&rbrace;`?
    354 |                 setEditing(ref);
    355 |                 setShowAdd(true);
  > 356 |               }
        |               ^
    357 |
    358 |               function copyBibliography() {
    359 |                 const filtered = refs.filter(r => {

ERROR in src/pages/LiteratureReview.tsx:359:17
TS1109: Expression expected.
    357 |
    358 |               function copyBibliography() {
  > 359 |                 const filtered = refs.filter(r => {
        |                 ^^^^^
    360 |                   const matchSearch = !search || r.title.toLowerCase().includes(search.toLowerCase()) ||
    361 |                     r.authors.toLowerCase().includes(search.toLowerCase()) ||
    362 |                     r.key_finding.toLowerCase().includes(search.toLowerCase()) ||

ERROR in src/pages/LiteratureReview.tsx:359:49
TS1382: Unexpected token. Did you mean `{'>'}` or `&gt;`?
    357 |
    358 |               function copyBibliography() {
  > 359 |                 const filtered = refs.filter(r => {
        |                                                 ^
    360 |                   const matchSearch = !search || r.title.toLowerCase().includes(search.toLowerCase()) ||
    361 |                     r.authors.toLowerCase().includes(search.toLowerCase()) ||
    362 |                     r.key_finding.toLowerCase().includes(search.toLowerCase()) ||

ERROR in src/pages/LiteratureReview.tsx:360:19
TS1109: Expression expected.
    358 |               function copyBibliography() {
    359 |                 const filtered = refs.filter(r => {
  > 360 |                   const matchSearch = !search || r.title.toLowerCase().includes(search.toLowerCase()) ||
        |                   ^^^^^
    361 |                     r.authors.toLowerCase().includes(search.toLowerCase()) ||
    362 |                     r.key_finding.toLowerCase().includes(search.toLowerCase()) ||
    363 |                     r.country.toLowerCase().includes(search.toLowerCase());

ERROR in src/pages/LiteratureReview.tsx:367:17
TS1381: Unexpected token. Did you mean `{'}'}` or `&rbrace;`?
    365 |                   const matchGrade = filterGrade === 'All' || r.grade === filterGrade;
    366 |                   return matchSearch && matchTheme && matchGrade;
  > 367 |                 });
        |                 ^
    368 |                 const text = filtered.map((r, i) =>
    369 |                   citStyle === 'vancouver' ? vancouverCite(r, i + 1) : apaCite(r)
    370 |                 ).join('\n\n');

ERROR in src/pages/LiteratureReview.tsx:368:51
TS1382: Unexpected token. Did you mean `{'>'}` or `&gt;`?
    366 |                   return matchSearch && matchTheme && matchGrade;
    367 |                 });
  > 368 |                 const text = filtered.map((r, i) =>
        |                                                   ^
    369 |                   citStyle === 'vancouver' ? vancouverCite(r, i + 1) : apaCite(r)
    370 |                 ).join('\n\n');
    371 |                 navigator.clipboard.writeText(text);

ERROR in src/pages/LiteratureReview.tsx:373:32
TS1382: Unexpected token. Did you mean `{'>'}` or `&gt;`?
    371 |                 navigator.clipboard.writeText(text);
    372 |                 setCopied(true);
  > 373 |                 setTimeout(() => setCopied(false), 2000);
        |                                ^
    374 |               }
    375 |
    376 |               if (!projectId) {

ERROR in src/pages/LiteratureReview.tsx:374:15
TS1381: Unexpected token. Did you mean `{'}'}` or `&rbrace;`?
    372 |                 setCopied(true);
    373 |                 setTimeout(() => setCopied(false), 2000);
  > 374 |               }
        |               ^
    375 |
    376 |               if (!projectId) {
    377 |                 return (

ERROR in src/pages/LiteratureReview.tsx:377:17
TS1109: Expression expected.
    375 |
    376 |               if (!projectId) {
  > 377 |                 return (
        |                 ^^^^^^
    378 |                   <div className="card" style={{ margin: '2rem auto', maxWidth: 500, textAlign: 'center' }}>
    379 |                     <h2>Please select or create a project to continue.</h2>
    380 |                   </div>

ERROR in src/pages/LiteratureReview.tsx:382:15
TS1381: Unexpected token. Did you mean `{'}'}` or `&rbrace;`?
    380 |                   </div>
    381 |                 );
  > 382 |               }
        |               ^
    383 |
    384 |               const filtered = refs.filter(r => {
    385 |                 const matchSearch = !search || r.title.toLowerCase().includes(search.toLowerCase()) ||

ERROR in src/pages/LiteratureReview.tsx:384:47
TS1382: Unexpected token. Did you mean `{'>'}` or `&gt;`?
    382 |               }
    383 |
  > 384 |               const filtered = refs.filter(r => {
        |                                               ^
    385 |                 const matchSearch = !search || r.title.toLowerCase().includes(search.toLowerCase()) ||
    386 |                   r.authors.toLowerCase().includes(search.toLowerCase()) ||
    387 |                   r.key_finding.toLowerCase().includes(search.toLowerCase()) ||

ERROR in src/pages/LiteratureReview.tsx:385:17
TS1109: Expression expected.
    383 |
    384 |               const filtered = refs.filter(r => {
  > 385 |                 const matchSearch = !search || r.title.toLowerCase().includes(search.toLowerCase()) ||
        |                 ^^^^^
    386 |                   r.authors.toLowerCase().includes(search.toLowerCase()) ||
    387 |                   r.key_finding.toLowerCase().includes(search.toLowerCase()) ||
    388 |                   r.country.toLowerCase().includes(search.toLowerCase());

ERROR in src/pages/LiteratureReview.tsx:392:15
TS1381: Unexpected token. Did you mean `{'}'}` or `&rbrace;`?
    390 |                 const matchGrade = filterGrade === 'All' || r.grade === filterGrade;
    391 |                 return matchSearch && matchTheme && matchGrade;
  > 392 |               });
        |               ^
    393 |
    394 |               const themeGroups = THEMES.reduce((acc, theme) => {
    395 |                 acc[theme] = refs.filter(r => r.theme === theme);

ERROR in src/pages/LiteratureReview.tsx:394:63
TS1382: Unexpected token. Did you mean `{'>'}` or `&gt;`?
    392 |               });
    393 |
  > 394 |               const themeGroups = THEMES.reduce((acc, theme) => {
        |                                                               ^
    395 |                 acc[theme] = refs.filter(r => r.theme === theme);
    396 |                 return acc;
    397 |               }, {} as Record<string, Reference[]>);

ERROR in src/pages/LiteratureReview.tsx:395:65
TS1005: '}' expected.
    393 |
    394 |               const themeGroups = THEMES.reduce((acc, theme) => {
  > 395 |                 acc[theme] = refs.filter(r => r.theme === theme);
        |                                                                 ^
    396 |                 return acc;
    397 |               }, {} as Record<string, Reference[]>);
    398 |

ERROR in src/pages/LiteratureReview.tsx:397:15
TS1381: Unexpected token. Did you mean `{'}'}` or `&rbrace;`?
    395 |                 acc[theme] = refs.filter(r => r.theme === theme);
    396 |                 return acc;
  > 397 |               }, {} as Record<string, Reference[]>);
        |               ^
    398 |
    399 |               const gradeDistribution = GRADE_LEVELS.map(g => ({
    400 |                 grade: g, count: refs.filter(r => r.grade === g).length

ERROR in src/pages/LiteratureReview.tsx:397:37
TS1003: Identifier expected.
    395 |                 acc[theme] = refs.filter(r => r.theme === theme);
    396 |                 return acc;
  > 397 |               }, {} as Record<string, Reference[]>);
        |                                     ^
    398 |
    399 |               const gradeDistribution = GRADE_LEVELS.map(g => ({
    400 |                 grade: g, count: refs.filter(r => r.grade === g).length

ERROR in src/pages/LiteratureReview.tsx:397:50
TS1382: Unexpected token. Did you mean `{'>'}` or `&gt;`?
    395 |                 acc[theme] = refs.filter(r => r.theme === theme);
    396 |                 return acc;
  > 397 |               }, {} as Record<string, Reference[]>);
        |                                                  ^
    398 |
    399 |               const gradeDistribution = GRADE_LEVELS.map(g => ({
    400 |                 grade: g, count: refs.filter(r => r.grade === g).length

ERROR in src/pages/LiteratureReview.tsx:399:61
TS1382: Unexpected token. Did you mean `{'>'}` or `&gt;`?
    397 |               }, {} as Record<string, Reference[]>);
    398 |
  > 399 |               const gradeDistribution = GRADE_LEVELS.map(g => ({
        |                                                             ^
    400 |                 grade: g, count: refs.filter(r => r.grade === g).length
    401 |               }));
    402 |

ERROR in src/pages/LiteratureReview.tsx:400:22
TS1005: '}' expected.
    398 |
    399 |               const gradeDistribution = GRADE_LEVELS.map(g => ({
  > 400 |                 grade: g, count: refs.filter(r => r.grade === g).length
        |                      ^
    401 |               }));
    402 |
    403 |               return (

ERROR in src/pages/LiteratureReview.tsx:400:49
TS1382: Unexpected token. Did you mean `{'>'}` or `&gt;`?
    398 |
    399 |               const gradeDistribution = GRADE_LEVELS.map(g => ({
  > 400 |                 grade: g, count: refs.filter(r => r.grade === g).length
        |                                                 ^
    401 |               }));
    402 |
    403 |               return (

ERROR in src/pages/LiteratureReview.tsx:401:15
TS1381: Unexpected token. Did you mean `{'}'}` or `&rbrace;`?
    399 |               const gradeDistribution = GRADE_LEVELS.map(g => ({
    400 |                 grade: g, count: refs.filter(r => r.grade === g).length
  > 401 |               }));
        |               ^
    402 |
    403 |               return (
    404 |                 <div className="page">

ERROR in src/pages/LiteratureReview.tsx:409:13
TS1381: Unexpected token. Did you mean `{'}'}` or `&rbrace;`?
    407 |                 </div>
    408 |               );
  > 409 |             };
        |             ^
    410 |
    411 |             export default LiteratureReview;
    412 |                 </thead>

ERROR in src/pages/LiteratureReview.tsx:412:19
TS17002: Expected corresponding JSX closing tag for 'Reference'.
    410 |
    411 |             export default LiteratureReview;
  > 412 |                 </thead>
        |                   ^^^^^
    413 |                 <tbody>
    414 |                   {filtered.map((ref, i) => (
    415 |                     <tr key={ref.id} style={{ background: i % 2 === 0 ? '#f8f7f4' : 'white', borderBottom: '1px solid #eee' }}>

ERROR in src/pages/LiteratureReview.tsx:435:17
TS17002: Expected corresponding JSX closing tag for 'p'.
    433 |                   ))}
    434 |                 </tbody>
  > 435 |               </table>
        |                 ^^^^^
    436 |             </div>
    437 |           )}
    438 |         </div>

ERROR in src/pages/LiteratureReview.tsx:437:12
TS1381: Unexpected token. Did you mean `{'}'}` or `&rbrace;`?
    435 |               </table>
    436 |             </div>
  > 437 |           )}
        |            ^
    438 |         </div>
    439 |       )}
    440 |

ERROR in src/pages/LiteratureReview.tsx:439:8
TS1381: Unexpected token. Did you mean `{'}'}` or `&rbrace;`?
    437 |           )}
    438 |         </div>
  > 439 |       )}
        |        ^
    440 |
    441 |       {/* BIBLIOGRAPHY TAB */}
    442 |       {activeTab === 'bibliography' && (

ERROR in src/pages/LiteratureReview.tsx:660:1
TS1128: Declaration or statement expected.
    658 |     </div>
    659 |   );
  > 660 | }
        | ^
    661 |

ERROR in src/pages/SubgroupAnalysis.tsx:312:32
TS2322: Type '(val: any, name: string) => [any, string]' is not assignable to type 'Formatter<any, string> & ((value: any, name: string, item: Payload<any, string>, index: number, payload: Payload<any, string>[]) => ReactNode | [...])'.
  Type '(val: any, name: string) => [any, string]' is not assignable to type 'Formatter<any, string>'.
    Types of parameters 'name' and 'name' are incompatible.
      Type 'string | undefined' is not assignable to type 'string'.
        Type 'undefined' is not assignable to type 'string'.
    310 |                         tickFormatter={v => measure === 'OR' ? v.toFixed(1) : v.toFixed(2)} />
    311 |                       <YAxis type="category" dataKey="name" width={75} tick={{ fontSize: 12 }} />
  > 312 |                       <Tooltip formatter={(val: any, name: string) => [
        |                                ^^^^^^^^^
    313 |                         name === 'effect' ? `${measure}: ${val}` : val, name
    314 |                       ]} />
    315 |                       <ReferenceLine x={nullVal} stroke="#888" strokeDasharray="4 3" />

ERROR in src/pages/VisualisationStudio.tsx:229:45
TS2322: Type '(({ name, percent }: { name: string; percent?: number | undefined; }) => string) | undefined' is not assignable to type 'PieLabel | undefined'.
  Type '({ name, percent }: { name: string; percent?: number | undefined; }) => string' is not assignable to type 'PieLabel | undefined'.
    Type '({ name, percent }: { name: string; percent?: number | undefined; }) => string' is not assignable to type '(props: PieLabelRenderProps) => ReactNode | ReactElement<SVGElement, string | JSXElementConstructor<any>>'.
      Types of parameters '__0' and 'props' are incompatible.
        Type 'PieLabelRenderProps' is not assignable to type '{ name: string; percent?: number | undefined; }'.
          Types of property 'name' are incompatible.
            Type 'string | undefined' is not assignable to type 'string'.
              Type 'undefined' is not assignable to type 'string'.
    227 |           <PieChart>
    228 |             <Pie data={chartData} dataKey="value" nameKey="name" cx="50%" cy="50%"
  > 229 |               outerRadius={chartHeight / 3} label={showValues ? ({ name, percent }: { name: string, percent?: number }) => `${name} ${((percent || 0) * 100).toFixed(1)}%` : undefined}
        |                                             ^^^^^
    230 |               opacity={opacity}>
    231 |               {chartData.map((_: any, index: number) => (
    232 |                 <Cell key={index} fill={palette[index % palette.length]} />

Compiling...
Failed to compile.

[eslint] 
src/pages/LiteratureReview.tsx
Syntax error: Identifier expected (209:45)
WARNING in [eslint] 
src/pages/analytics/DifferenceInDifferences.tsx
  Line 1:27:  'useContext' is defined but never used  @typescript-eslint/no-unused-vars

src/pages/analytics/InterruptedTimeSeries.tsx
  Line 1:27:  'useContext' is defined but never used  @typescript-eslint/no-unused-vars

src/pages/analytics/MixedEffects.tsx
  Line 1:27:  'useContext' is defined but never used  @typescript-eslint/no-unused-vars

src/pages/analytics/NetworkMetaAnalysis.tsx
  Line 1:27:  'useContext' is defined but never used  @typescript-eslint/no-unused-vars

src/pages/analytics/SpatialAnalysis.tsx
  Line 1:27:  'useContext' is defined but never used  @typescript-eslint/no-unused-vars

ERROR in ./src/pages/LiteratureReview.tsx
Module build failed (from ./node_modules/babel-loader/lib/index.js):
SyntaxError: /workspaces/researchflow/frontend/src/pages/LiteratureReview.tsx: 'return' outside of function. (170:4)

  168 |
  169 |   if (!projectId) {
> 170 |     return <div className="card" style={{ margin: '2rem auto', maxWidth: 500, textAlign: 'center' }}>
      |     ^
  171 |       <h2>Please select or create a project to continue.</h2>
  172 |     </div>;
  173 |   }
    at constructor (/workspaces/researchflow/frontend/node_modules/@babel/parser/lib/index.js:365:19)
    at TypeScriptParserMixin.raise (/workspaces/researchflow/frontend/node_modules/@babel/parser/lib/index.js:6599:19)
    at TypeScriptParserMixin.parseReturnStatement (/workspaces/researchflow/frontend/node_modules/@babel/parser/lib/index.js:13136:12)
    at TypeScriptParserMixin.parseStatementContent (/workspaces/researchflow/frontend/node_modules/@babel/parser/lib/index.js:12798:21)
    at TypeScriptParserMixin.parseStatementContent (/workspaces/researchflow/frontend/node_modules/@babel/parser/lib/index.js:9508:18)
    at TypeScriptParserMixin.parseStatementLike (/workspaces/researchflow/frontend/node_modules/@babel/parser/lib/index.js:12767:17)
    at TypeScriptParserMixin.parseStatementListItem (/workspaces/researchflow/frontend/node_modules/@babel/parser/lib/index.js:12747:17)
    at TypeScriptParserMixin.parseBlockOrModuleBlockBody (/workspaces/researchflow/frontend/node_modules/@babel/parser/lib/index.js:13316:61)
    at TypeScriptParserMixin.parseBlockBody (/workspaces/researchflow/frontend/node_modules/@babel/parser/lib/index.js:13309:10)
    at TypeScriptParserMixin.parseBlock (/workspaces/researchflow/frontend/node_modules/@babel/parser/lib/index.js:13297:10)
    at TypeScriptParserMixin.parseStatementContent (/workspaces/researchflow/frontend/node_modules/@babel/parser/lib/index.js:12858:21)
    at TypeScriptParserMixin.parseStatementContent (/workspaces/researchflow/frontend/node_modules/@babel/parser/lib/index.js:9508:18)
    at TypeScriptParserMixin.parseStatementLike (/workspaces/researchflow/frontend/node_modules/@babel/parser/lib/index.js:12767:17)
    at TypeScriptParserMixin.parseStatementOrSloppyAnnexBFunctionDeclaration (/workspaces/researchflow/frontend/node_modules/@babel/parser/lib/index.js:12757:17)
    at TypeScriptParserMixin.parseIfStatement (/workspaces/researchflow/frontend/node_modules/@babel/parser/lib/index.js:13130:28)
    at TypeScriptParserMixin.parseStatementContent (/workspaces/researchflow/frontend/node_modules/@babel/parser/lib/index.js:12796:21)
    at TypeScriptParserMixin.parseStatementContent (/workspaces/researchflow/frontend/node_modules/@babel/parser/lib/index.js:9508:18)
    at TypeScriptParserMixin.parseStatementLike (/workspaces/researchflow/frontend/node_modules/@babel/parser/lib/index.js:12767:17)
    at TypeScriptParserMixin.parseModuleItem (/workspaces/researchflow/frontend/node_modules/@babel/parser/lib/index.js:12744:17)
    at TypeScriptParserMixin.parseBlockOrModuleBlockBody (/workspaces/researchflow/frontend/node_modules/@babel/parser/lib/index.js:13316:36)
    at TypeScriptParserMixin.parseBlockBody (/workspaces/researchflow/frontend/node_modules/@babel/parser/lib/index.js:13309:10)
    at TypeScriptParserMixin.parseProgram (/workspaces/researchflow/frontend/node_modules/@babel/parser/lib/index.js:12622:10)
    at TypeScriptParserMixin.parseTopLevel (/workspaces/researchflow/frontend/node_modules/@babel/parser/lib/index.js:12612:25)
    at TypeScriptParserMixin.parse (/workspaces/researchflow/frontend/node_modules/@babel/parser/lib/index.js:14488:25)
    at TypeScriptParserMixin.parse (/workspaces/researchflow/frontend/node_modules/@babel/parser/lib/index.js:10126:18)
    at parse (/workspaces/researchflow/frontend/node_modules/@babel/parser/lib/index.js:14522:38)
    at parser (/workspaces/researchflow/frontend/node_modules/@babel/core/lib/parser/index.js:41:34)
    at parser.next (<anonymous>)
    at normalizeFile (/workspaces/researchflow/frontend/node_modules/@babel/core/lib/transformation/normalize-file.js:64:37)
    at normalizeFile.next (<anonymous>)
    at run (/workspaces/researchflow/frontend/node_modules/@babel/core/lib/transformation/index.js:22:50)
    at run.next (<anonymous>)
    at transform (/workspaces/researchflow/frontend/node_modules/@babel/core/lib/transform.js:22:33)
    at transform.next (<anonymous>)
    at step (/workspaces/researchflow/frontend/node_modules/gensync/index.js:261:32)
    at /workspaces/researchflow/frontend/node_modules/gensync/index.js:273:13
    at async.call.result.err.err (/workspaces/researchflow/frontend/node_modules/gensync/index.js:223:11)

ERROR in [eslint] 
src/pages/LiteratureReview.tsx
  Line 209:45:  Parsing error: Identifier expected

webpack compiled with 2 errors and 1 warning
ERROR in src/pages/LiteratureReview.tsx:76:16
TS2304: Cannot find name 'LiteratureReview'.
    74 | }
    75 |
  > 76 | export default LiteratureReview;
       |                ^^^^^^^^^^^^^^^^
    77 |
    78 | function vancouverCite(ref: Reference, index: number): string {
    79 |   const authors = ref.authors.split(',').slice(0, 6).join(', ');

ERROR in src/pages/LiteratureReview.tsx:209:46
TS1003: Identifier expected.
    207 |             const THEMES = ['Background', 'Methods', 'Intervention', 'Outcome', 'Comparison', 'Population', 'Risk Factor', 'Epidemiology', 'Policy'];
    208 |
  > 209 |             const GRADE_COLORS: Record<string, string> = {
        |                                              ^
    210 |               'High':     '#5A8A6A',
    211 |               'Moderate': '#2196f3',
    212 |               'Low':      '#ff9800',

ERROR in src/pages/LiteratureReview.tsx:209:54
TS1382: Unexpected token. Did you mean `{'>'}` or `&gt;`?
    207 |             const THEMES = ['Background', 'Methods', 'Intervention', 'Outcome', 'Comparison', 'Population', 'Risk Factor', 'Epidemiology', 'Policy'];
    208 |
  > 209 |             const GRADE_COLORS: Record<string, string> = {
        |                                                      ^
    210 |               'High':     '#5A8A6A',
    211 |               'Moderate': '#2196f3',
    212 |               'Low':      '#ff9800',

ERROR in src/pages/LiteratureReview.tsx:210:21
TS1005: '}' expected.
    208 |
    209 |             const GRADE_COLORS: Record<string, string> = {
  > 210 |               'High':     '#5A8A6A',
        |                     ^
    211 |               'Moderate': '#2196f3',
    212 |               'Low':      '#ff9800',
    213 |               'Very Low': '#f44336',

ERROR in src/pages/LiteratureReview.tsx:214:13
TS1381: Unexpected token. Did you mean `{'}'}` or `&rbrace;`?
    212 |               'Low':      '#ff9800',
    213 |               'Very Low': '#f44336',
  > 214 |             };
        |             ^
    215 |
    216 |             const LEVEL_COLORS: Record<string, string> = {
    217 |               '1a': '#5A8A6A', '1b': '#5A8A6A',

ERROR in src/pages/LiteratureReview.tsx:216:46
TS1003: Identifier expected.
    214 |             };
    215 |
  > 216 |             const LEVEL_COLORS: Record<string, string> = {
        |                                              ^
    217 |               '1a': '#5A8A6A', '1b': '#5A8A6A',
    218 |               '2a': '#2196f3', '2b': '#2196f3',
    219 |               '3':  '#ff9800',

ERROR in src/pages/LiteratureReview.tsx:216:54
TS1382: Unexpected token. Did you mean `{'>'}` or `&gt;`?
    214 |             };
    215 |
  > 216 |             const LEVEL_COLORS: Record<string, string> = {
        |                                                      ^
    217 |               '1a': '#5A8A6A', '1b': '#5A8A6A',
    218 |               '2a': '#2196f3', '2b': '#2196f3',
    219 |               '3':  '#ff9800',

ERROR in src/pages/LiteratureReview.tsx:217:19
TS1005: '}' expected.
    215 |
    216 |             const LEVEL_COLORS: Record<string, string> = {
  > 217 |               '1a': '#5A8A6A', '1b': '#5A8A6A',
        |                   ^
    218 |               '2a': '#2196f3', '2b': '#2196f3',
    219 |               '3':  '#ff9800',
    220 |               '4':  '#f44336',

ERROR in src/pages/LiteratureReview.tsx:222:13
TS1381: Unexpected token. Did you mean `{'}'}` or `&rbrace;`?
    220 |               '4':  '#f44336',
    221 |               '5':  '#9c27b0',
  > 222 |             };
        |             ^
    223 |
    224 |             type Reference = {
    225 |               id:           string;

ERROR in src/pages/LiteratureReview.tsx:225:17
TS1005: '}' expected.
    223 |
    224 |             type Reference = {
  > 225 |               id:           string;
        |                 ^
    226 |               title:        string;
    227 |               authors:      string;
    228 |               journal:      string;

ERROR in src/pages/LiteratureReview.tsx:247:13
TS1381: Unexpected token. Did you mean `{'}'}` or `&rbrace;`?
    245 |               key_finding:  string;
    246 |               added_at:     string;
  > 247 |             };
        |             ^
    248 |
    249 |             function emptyRef(): Reference {
    250 |               return {

ERROR in src/pages/LiteratureReview.tsx:250:15
TS1109: Expression expected.
    248 |
    249 |             function emptyRef(): Reference {
  > 250 |               return {
        |               ^^^^^^
    251 |                 id:          Date.now().toString(),
    252 |                 title:       '',
    253 |                 authors:     '',

ERROR in src/pages/LiteratureReview.tsx:251:19
TS1005: '}' expected.
    249 |             function emptyRef(): Reference {
    250 |               return {
  > 251 |                 id:          Date.now().toString(),
        |                   ^
    252 |                 title:       '',
    253 |                 authors:     '',
    254 |                 journal:     '',

ERROR in src/pages/LiteratureReview.tsx:273:15
TS1381: Unexpected token. Did you mean `{'}'}` or `&rbrace;`?
    271 |                 key_finding: '',
    272 |                 added_at:    new Date().toISOString(),
  > 273 |               };
        |               ^
    274 |             }
    275 |
    276 |             function vancouverCite(ref: Reference, index: number): string {

ERROR in src/pages/LiteratureReview.tsx:274:13
TS1381: Unexpected token. Did you mean `{'}'}` or `&rbrace;`?
    272 |                 added_at:    new Date().toISOString(),
    273 |               };
  > 274 |             }
        |             ^
    275 |
    276 |             function vancouverCite(ref: Reference, index: number): string {
    277 |               const authors = ref.authors.split(',').slice(0, 6).join(', ');

ERROR in src/pages/LiteratureReview.tsx:277:15
TS1109: Expression expected.
    275 |
    276 |             function vancouverCite(ref: Reference, index: number): string {
  > 277 |               const authors = ref.authors.split(',').slice(0, 6).join(', ');
        |               ^^^^^
    278 |               const et_al   = ref.authors.split(',').length > 6 ? ', et al' : '';
    279 |               return `${index}. ${authors}${et_al}. ${ref.title}. ${ref.journal}. ${ref.year};${ref.volume}${ref.issue ? `(${ref.issue})` : ''}:${ref.pages}.${ref.doi ? ` doi:${ref.doi}` : ''}`;
    280 |             }

ERROR in src/pages/LiteratureReview.tsx:278:61
TS1382: Unexpected token. Did you mean `{'>'}` or `&gt;`?
    276 |             function vancouverCite(ref: Reference, index: number): string {
    277 |               const authors = ref.authors.split(',').slice(0, 6).join(', ');
  > 278 |               const et_al   = ref.authors.split(',').length > 6 ? ', et al' : '';
        |                                                             ^
    279 |               return `${index}. ${authors}${et_al}. ${ref.title}. ${ref.journal}. ${ref.year};${ref.volume}${ref.issue ? `(${ref.issue})` : ''}:${ref.pages}.${ref.doi ? ` doi:${ref.doi}` : ''}`;
    280 |             }
    281 |

ERROR in src/pages/LiteratureReview.tsx:280:13
TS1381: Unexpected token. Did you mean `{'}'}` or `&rbrace;`?
    278 |               const et_al   = ref.authors.split(',').length > 6 ? ', et al' : '';
    279 |               return `${index}. ${authors}${et_al}. ${ref.title}. ${ref.journal}. ${ref.year};${ref.volume}${ref.issue ? `(${ref.issue})` : ''}:${ref.pages}.${ref.doi ? ` doi:${ref.doi}` : ''}`;
  > 280 |             }
        |             ^
    281 |
    282 |             function apaCite(ref: Reference): string {
    283 |               const authors = ref.authors;

ERROR in src/pages/LiteratureReview.tsx:283:15
TS1109: Expression expected.
    281 |
    282 |             function apaCite(ref: Reference): string {
  > 283 |               const authors = ref.authors;
        |               ^^^^^
    284 |               return `${authors} (${ref.year}). ${ref.title}. ${ref.journal}, ${ref.volume}${ref.issue ? `(${ref.issue})` : ''}, ${ref.pages}.${ref.doi ? ` https://doi.org/${ref.doi}` : ''}`;
    285 |             }
    286 |

ERROR in src/pages/LiteratureReview.tsx:285:13
TS1381: Unexpected token. Did you mean `{'}'}` or `&rbrace;`?
    283 |               const authors = ref.authors;
    284 |               return `${authors} (${ref.year}). ${ref.title}. ${ref.journal}, ${ref.volume}${ref.issue ? `(${ref.issue})` : ''}, ${ref.pages}.${ref.doi ? ` https://doi.org/${ref.doi}` : ''}`;
  > 285 |             }
        |             ^
    286 |
    287 |             const LiteratureReview: React.FC = () => {
    288 |               const { projectId } = useProject();

ERROR in src/pages/LiteratureReview.tsx:287:52
TS1382: Unexpected token. Did you mean `{'>'}` or `&gt;`?
    285 |             }
    286 |
  > 287 |             const LiteratureReview: React.FC = () => {
        |                                                    ^
    288 |               const { projectId } = useProject();
    289 |               const [refs, setRefs]             = useState<Reference[]>([]);
    290 |               const [activeTab, setActiveTab]   = useState('library');

ERROR in src/pages/LiteratureReview.tsx:288:15
TS1109: Expression expected.
    286 |
    287 |             const LiteratureReview: React.FC = () => {
  > 288 |               const { projectId } = useProject();
        |               ^^^^^
    289 |               const [refs, setRefs]             = useState<Reference[]>([]);
    290 |               const [activeTab, setActiveTab]   = useState('library');
    291 |               const [showAdd, setShowAdd]       = useState(false);

ERROR in src/pages/LiteratureReview.tsx:289:69
TS1003: Identifier expected.
    287 |             const LiteratureReview: React.FC = () => {
    288 |               const { projectId } = useProject();
  > 289 |               const [refs, setRefs]             = useState<Reference[]>([]);
        |                                                                     ^
    290 |               const [activeTab, setActiveTab]   = useState('library');
    291 |               const [showAdd, setShowAdd]       = useState(false);
    292 |               const [showPICO, setShowPICO]     = useState(false);

ERROR in src/pages/LiteratureReview.tsx:289:71
TS1382: Unexpected token. Did you mean `{'>'}` or `&gt;`?
    287 |             const LiteratureReview: React.FC = () => {
    288 |               const { projectId } = useProject();
  > 289 |               const [refs, setRefs]             = useState<Reference[]>([]);
        |                                                                       ^
    290 |               const [activeTab, setActiveTab]   = useState('library');
    291 |               const [showAdd, setShowAdd]       = useState(false);
    292 |               const [showPICO, setShowPICO]     = useState(false);

ERROR in src/pages/LiteratureReview.tsx:293:70
TS1003: Identifier expected.
    291 |               const [showAdd, setShowAdd]       = useState(false);
    292 |               const [showPICO, setShowPICO]     = useState(false);
  > 293 |               const [editing, setEditing]       = useState<Reference | null>(null);
        |                                                                      ^
    294 |               const [form, setForm]             = useState<Reference>(emptyRef());
    295 |               const [search, setSearch]         = useState('');
    296 |               const [filterTheme, setFilterTheme] = useState('All');

ERROR in src/pages/LiteratureReview.tsx:293:76
TS1382: Unexpected token. Did you mean `{'>'}` or `&gt;`?
    291 |               const [showAdd, setShowAdd]       = useState(false);
    292 |               const [showPICO, setShowPICO]     = useState(false);
  > 293 |               const [editing, setEditing]       = useState<Reference | null>(null);
        |                                                                            ^
    294 |               const [form, setForm]             = useState<Reference>(emptyRef());
    295 |               const [search, setSearch]         = useState('');
    296 |               const [filterTheme, setFilterTheme] = useState('All');

ERROR in src/pages/LiteratureReview.tsx:298:60
TS1003: Identifier expected.
    296 |               const [filterTheme, setFilterTheme] = useState('All');
    297 |               const [filterGrade, setFilterGrade] = useState('All');
  > 298 |               const [citStyle, setCitStyle]     = useState<'vancouver'|'apa'>('vancouver');
        |                                                            ^^^^^^^^^^^
    299 |               const [copied, setCopied]         = useState(false);
    300 |               const [saved, setSaved]           = useState(false);
    301 |               const [loading, setLoading]       = useState(false);

ERROR in src/pages/LiteratureReview.tsx:298:77
TS1382: Unexpected token. Did you mean `{'>'}` or `&gt;`?
    296 |               const [filterTheme, setFilterTheme] = useState('All');
    297 |               const [filterGrade, setFilterGrade] = useState('All');
  > 298 |               const [citStyle, setCitStyle]     = useState<'vancouver'|'apa'>('vancouver');
        |                                                                             ^
    299 |               const [copied, setCopied]         = useState(false);
    300 |               const [saved, setSaved]           = useState(false);
    301 |               const [loading, setLoading]       = useState(false);

ERROR in src/pages/LiteratureReview.tsx:303:29
TS1382: Unexpected token. Did you mean `{'>'}` or `&gt;`?
    301 |               const [loading, setLoading]       = useState(false);
    302 |
  > 303 |               useEffect(() => {
        |                             ^
    304 |                 if (!projectId) return;
    305 |                 setLoading(true);
    306 |                 fetch(`/api/references?project_id=${projectId}`)

ERROR in src/pages/LiteratureReview.tsx:304:17
TS1109: Expression expected.
    302 |
    303 |               useEffect(() => {
  > 304 |                 if (!projectId) return;
        |                 ^^
    305 |                 setLoading(true);
    306 |                 fetch(`/api/references?project_id=${projectId}`)
    307 |                   .then(res => res.json())

ERROR in src/pages/LiteratureReview.tsx:307:30
TS1382: Unexpected token. Did you mean `{'>'}` or `&gt;`?
    305 |                 setLoading(true);
    306 |                 fetch(`/api/references?project_id=${projectId}`)
  > 307 |                   .then(res => res.json())
        |                              ^
    308 |                   .then(data => setRefs(data))
    309 |                   .finally(() => setLoading(false));
    310 |               }, [projectId]);

ERROR in src/pages/LiteratureReview.tsx:308:31
TS1382: Unexpected token. Did you mean `{'>'}` or `&gt;`?
    306 |                 fetch(`/api/references?project_id=${projectId}`)
    307 |                   .then(res => res.json())
  > 308 |                   .then(data => setRefs(data))
        |                               ^
    309 |                   .finally(() => setLoading(false));
    310 |               }, [projectId]);
    311 |

ERROR in src/pages/LiteratureReview.tsx:309:32
TS1382: Unexpected token. Did you mean `{'>'}` or `&gt;`?
    307 |                   .then(res => res.json())
    308 |                   .then(data => setRefs(data))
  > 309 |                   .finally(() => setLoading(false));
        |                                ^
    310 |               }, [projectId]);
    311 |
    312 |               function save(updated: Reference[]) {

ERROR in src/pages/LiteratureReview.tsx:310:15
TS1381: Unexpected token. Did you mean `{'}'}` or `&rbrace;`?
    308 |                   .then(data => setRefs(data))
    309 |                   .finally(() => setLoading(false));
  > 310 |               }, [projectId]);
        |               ^
    311 |
    312 |               function save(updated: Reference[]) {
    313 |                 setRefs(updated);

ERROR in src/pages/LiteratureReview.tsx:313:33
TS1005: '}' expected.
    311 |
    312 |               function save(updated: Reference[]) {
  > 313 |                 setRefs(updated);
        |                                 ^
    314 |                 setSaved(true);
    315 |                 setTimeout(() => setSaved(false), 1500);
    316 |               }

ERROR in src/pages/LiteratureReview.tsx:315:32
TS1382: Unexpected token. Did you mean `{'>'}` or `&gt;`?
    313 |                 setRefs(updated);
    314 |                 setSaved(true);
  > 315 |                 setTimeout(() => setSaved(false), 1500);
        |                                ^
    316 |               }
    317 |
    318 |               async function addRef() {

ERROR in src/pages/LiteratureReview.tsx:316:15
TS1381: Unexpected token. Did you mean `{'}'}` or `&rbrace;`?
    314 |                 setSaved(true);
    315 |                 setTimeout(() => setSaved(false), 1500);
  > 316 |               }
        |               ^
    317 |
    318 |               async function addRef() {
    319 |                 if (!form.title || !form.authors || !projectId) return;

ERROR in src/pages/LiteratureReview.tsx:319:17
TS1109: Expression expected.
    317 |
    318 |               async function addRef() {
  > 319 |                 if (!form.title || !form.authors || !projectId) return;
        |                 ^^
    320 |                 const payload = { ...form, project_id: projectId };
    321 |                 const res = await fetch('/api/references', {
    322 |                   method: 'POST',

ERROR in src/pages/LiteratureReview.tsx:320:54
TS1005: '}' expected.
    318 |               async function addRef() {
    319 |                 if (!form.title || !form.authors || !projectId) return;
  > 320 |                 const payload = { ...form, project_id: projectId };
        |                                                      ^
    321 |                 const res = await fetch('/api/references', {
    322 |                   method: 'POST',
    323 |                   headers: { 'Content-Type': 'application/json' },

ERROR in src/pages/LiteratureReview.tsx:320:66
TS1381: Unexpected token. Did you mean `{'}'}` or `&rbrace;`?
    318 |               async function addRef() {
    319 |                 if (!form.title || !form.authors || !projectId) return;
  > 320 |                 const payload = { ...form, project_id: projectId };
        |                                                                  ^
    321 |                 const res = await fetch('/api/references', {
    322 |                   method: 'POST',
    323 |                   headers: { 'Content-Type': 'application/json' },

ERROR in src/pages/LiteratureReview.tsx:322:25
TS1005: '}' expected.
    320 |                 const payload = { ...form, project_id: projectId };
    321 |                 const res = await fetch('/api/references', {
  > 322 |                   method: 'POST',
        |                         ^
    323 |                   headers: { 'Content-Type': 'application/json' },
    324 |                   body: JSON.stringify(payload)
    325 |                 });

ERROR in src/pages/LiteratureReview.tsx:323:44
TS1005: '}' expected.
    321 |                 const res = await fetch('/api/references', {
    322 |                   method: 'POST',
  > 323 |                   headers: { 'Content-Type': 'application/json' },
        |                                            ^
    324 |                   body: JSON.stringify(payload)
    325 |                 });
    326 |                 if (res.ok) {

ERROR in src/pages/LiteratureReview.tsx:323:65
TS1381: Unexpected token. Did you mean `{'}'}` or `&rbrace;`?
    321 |                 const res = await fetch('/api/references', {
    322 |                   method: 'POST',
  > 323 |                   headers: { 'Content-Type': 'application/json' },
        |                                                                 ^
    324 |                   body: JSON.stringify(payload)
    325 |                 });
    326 |                 if (res.ok) {

ERROR in src/pages/LiteratureReview.tsx:325:17
TS1381: Unexpected token. Did you mean `{'}'}` or `&rbrace;`?
    323 |                   headers: { 'Content-Type': 'application/json' },
    324 |                   body: JSON.stringify(payload)
  > 325 |                 });
        |                 ^
    326 |                 if (res.ok) {
    327 |                   const newRef = await res.json();
    328 |                   save([...refs, newRef]);

ERROR in src/pages/LiteratureReview.tsx:327:19
TS1109: Expression expected.
    325 |                 });
    326 |                 if (res.ok) {
  > 327 |                   const newRef = await res.json();
        |                   ^^^^^
    328 |                   save([...refs, newRef]);
    329 |                   setForm(emptyRef());
    330 |                   setShowAdd(false);

ERROR in src/pages/LiteratureReview.tsx:331:17
TS1381: Unexpected token. Did you mean `{'}'}` or `&rbrace;`?
    329 |                   setForm(emptyRef());
    330 |                   setShowAdd(false);
  > 331 |                 }
        |                 ^
    332 |               }
    333 |
    334 |               async function updateRef() {

ERROR in src/pages/LiteratureReview.tsx:332:15
TS1381: Unexpected token. Did you mean `{'}'}` or `&rbrace;`?
    330 |                   setShowAdd(false);
    331 |                 }
  > 332 |               }
        |               ^
    333 |
    334 |               async function updateRef() {
    335 |                 // Not implemented: backend update endpoint. For now, delete and re-add.

ERROR in src/pages/LiteratureReview.tsx:336:17
TS1109: Expression expected.
    334 |               async function updateRef() {
    335 |                 // Not implemented: backend update endpoint. For now, delete and re-add.
  > 336 |                 if (!editing) return;
        |                 ^^
    337 |                 await deleteRef(editing.id, false);
    338 |                 await addRef();
    339 |                 setEditing(null);

ERROR in src/pages/LiteratureReview.tsx:342:15
TS1381: Unexpected token. Did you mean `{'}'}` or `&rbrace;`?
    340 |                 setForm(emptyRef());
    341 |                 setShowAdd(false);
  > 342 |               }
        |               ^
    343 |
    344 |               async function deleteRef(id: string, confirm = true) {
    345 |                 if (confirm && !window.confirm('Delete this reference?')) return;

ERROR in src/pages/LiteratureReview.tsx:345:17
TS1109: Expression expected.
    343 |
    344 |               async function deleteRef(id: string, confirm = true) {
  > 345 |                 if (confirm && !window.confirm('Delete this reference?')) return;
        |                 ^^
    346 |                 const res = await fetch(`/api/references/${id}`, { method: 'DELETE' });
    347 |                 if (res.ok) {
    348 |                   save(refs.filter(r => r.id !== id));

ERROR in src/pages/LiteratureReview.tsx:346:74
TS1005: '}' expected.
    344 |               async function deleteRef(id: string, confirm = true) {
    345 |                 if (confirm && !window.confirm('Delete this reference?')) return;
  > 346 |                 const res = await fetch(`/api/references/${id}`, { method: 'DELETE' });
        |                                                                          ^
    347 |                 if (res.ok) {
    348 |                   save(refs.filter(r => r.id !== id));
    349 |                 }

ERROR in src/pages/LiteratureReview.tsx:346:85
TS1381: Unexpected token. Did you mean `{'}'}` or `&rbrace;`?
    344 |               async function deleteRef(id: string, confirm = true) {
    345 |                 if (confirm && !window.confirm('Delete this reference?')) return;
  > 346 |                 const res = await fetch(`/api/references/${id}`, { method: 'DELETE' });
        |                                                                                     ^
    347 |                 if (res.ok) {
    348 |                   save(refs.filter(r => r.id !== id));
    349 |                 }

ERROR in src/pages/LiteratureReview.tsx:348:54
TS1005: '}' expected.
    346 |                 const res = await fetch(`/api/references/${id}`, { method: 'DELETE' });
    347 |                 if (res.ok) {
  > 348 |                   save(refs.filter(r => r.id !== id));
        |                                                      ^
    349 |                 }
    350 |               }
    351 |

ERROR in src/pages/LiteratureReview.tsx:349:17
TS1381: Unexpected token. Did you mean `{'}'}` or `&rbrace;`?
    347 |                 if (res.ok) {
    348 |                   save(refs.filter(r => r.id !== id));
  > 349 |                 }
        |                 ^
    350 |               }
    351 |
    352 |               function startEdit(ref: Reference) {

ERROR in src/pages/LiteratureReview.tsx:350:15
TS1381: Unexpected token. Did you mean `{'}'}` or `&rbrace;`?
    348 |                   save(refs.filter(r => r.id !== id));
    349 |                 }
  > 350 |               }
        |               ^
    351 |
    352 |               function startEdit(ref: Reference) {
    353 |                 setForm({ ...ref });

ERROR in src/pages/LiteratureReview.tsx:353:36
TS1005: '}' expected.
    351 |
    352 |               function startEdit(ref: Reference) {
  > 353 |                 setForm({ ...ref });
        |                                    ^
    354 |                 setEditing(ref);
    355 |                 setShowAdd(true);
    356 |               }

ERROR in src/pages/LiteratureReview.tsx:356:15
TS1381: Unexpected token. Did you mean `{'}'}` or `&rbrace;`?
    354 |                 setEditing(ref);
    355 |                 setShowAdd(true);
  > 356 |               }
        |               ^
    357 |
    358 |               function copyBibliography() {
    359 |                 const filtered = refs.filter(r => {

ERROR in src/pages/LiteratureReview.tsx:359:17
TS1109: Expression expected.
    357 |
    358 |               function copyBibliography() {
  > 359 |                 const filtered = refs.filter(r => {
        |                 ^^^^^
    360 |                   const matchSearch = !search || r.title.toLowerCase().includes(search.toLowerCase()) ||
    361 |                     r.authors.toLowerCase().includes(search.toLowerCase()) ||
    362 |                     r.key_finding.toLowerCase().includes(search.toLowerCase()) ||

ERROR in src/pages/LiteratureReview.tsx:359:49
TS1382: Unexpected token. Did you mean `{'>'}` or `&gt;`?
    357 |
    358 |               function copyBibliography() {
  > 359 |                 const filtered = refs.filter(r => {
        |                                                 ^
    360 |                   const matchSearch = !search || r.title.toLowerCase().includes(search.toLowerCase()) ||
    361 |                     r.authors.toLowerCase().includes(search.toLowerCase()) ||
    362 |                     r.key_finding.toLowerCase().includes(search.toLowerCase()) ||

ERROR in src/pages/LiteratureReview.tsx:360:19
TS1109: Expression expected.
    358 |               function copyBibliography() {
    359 |                 const filtered = refs.filter(r => {
  > 360 |                   const matchSearch = !search || r.title.toLowerCase().includes(search.toLowerCase()) ||
        |                   ^^^^^
    361 |                     r.authors.toLowerCase().includes(search.toLowerCase()) ||
    362 |                     r.key_finding.toLowerCase().includes(search.toLowerCase()) ||
    363 |                     r.country.toLowerCase().includes(search.toLowerCase());

ERROR in src/pages/LiteratureReview.tsx:367:17
TS1381: Unexpected token. Did you mean `{'}'}` or `&rbrace;`?
    365 |                   const matchGrade = filterGrade === 'All' || r.grade === filterGrade;
    366 |                   return matchSearch && matchTheme && matchGrade;
  > 367 |                 });
        |                 ^
    368 |                 const text = filtered.map((r, i) =>
    369 |                   citStyle === 'vancouver' ? vancouverCite(r, i + 1) : apaCite(r)
    370 |                 ).join('\n\n');

ERROR in src/pages/LiteratureReview.tsx:368:51
TS1382: Unexpected token. Did you mean `{'>'}` or `&gt;`?
    366 |                   return matchSearch && matchTheme && matchGrade;
    367 |                 });
  > 368 |                 const text = filtered.map((r, i) =>
        |                                                   ^
    369 |                   citStyle === 'vancouver' ? vancouverCite(r, i + 1) : apaCite(r)
    370 |                 ).join('\n\n');
    371 |                 navigator.clipboard.writeText(text);

ERROR in src/pages/LiteratureReview.tsx:373:32
TS1382: Unexpected token. Did you mean `{'>'}` or `&gt;`?
    371 |                 navigator.clipboard.writeText(text);
    372 |                 setCopied(true);
  > 373 |                 setTimeout(() => setCopied(false), 2000);
        |                                ^
    374 |               }
    375 |
    376 |               if (!projectId) {

ERROR in src/pages/LiteratureReview.tsx:374:15
TS1381: Unexpected token. Did you mean `{'}'}` or `&rbrace;`?
    372 |                 setCopied(true);
    373 |                 setTimeout(() => setCopied(false), 2000);
  > 374 |               }
        |               ^
    375 |
    376 |               if (!projectId) {
    377 |                 return (

ERROR in src/pages/LiteratureReview.tsx:377:17
TS1109: Expression expected.
    375 |
    376 |               if (!projectId) {
  > 377 |                 return (
        |                 ^^^^^^
    378 |                   <div className="card" style={{ margin: '2rem auto', maxWidth: 500, textAlign: 'center' }}>
    379 |                     <h2>Please select or create a project to continue.</h2>
    380 |                   </div>

ERROR in src/pages/LiteratureReview.tsx:382:15
TS1381: Unexpected token. Did you mean `{'}'}` or `&rbrace;`?
    380 |                   </div>
    381 |                 );
  > 382 |               }
        |               ^
    383 |
    384 |               const filtered = refs.filter(r => {
    385 |                 const matchSearch = !search || r.title.toLowerCase().includes(search.toLowerCase()) ||

ERROR in src/pages/LiteratureReview.tsx:384:47
TS1382: Unexpected token. Did you mean `{'>'}` or `&gt;`?
    382 |               }
    383 |
  > 384 |               const filtered = refs.filter(r => {
        |                                               ^
    385 |                 const matchSearch = !search || r.title.toLowerCase().includes(search.toLowerCase()) ||
    386 |                   r.authors.toLowerCase().includes(search.toLowerCase()) ||
    387 |                   r.key_finding.toLowerCase().includes(search.toLowerCase()) ||

ERROR in src/pages/LiteratureReview.tsx:385:17
TS1109: Expression expected.
    383 |
    384 |               const filtered = refs.filter(r => {
  > 385 |                 const matchSearch = !search || r.title.toLowerCase().includes(search.toLowerCase()) ||
        |                 ^^^^^
    386 |                   r.authors.toLowerCase().includes(search.toLowerCase()) ||
    387 |                   r.key_finding.toLowerCase().includes(search.toLowerCase()) ||
    388 |                   r.country.toLowerCase().includes(search.toLowerCase());

ERROR in src/pages/LiteratureReview.tsx:392:15
TS1381: Unexpected token. Did you mean `{'}'}` or `&rbrace;`?
    390 |                 const matchGrade = filterGrade === 'All' || r.grade === filterGrade;
    391 |                 return matchSearch && matchTheme && matchGrade;
  > 392 |               });
        |               ^
    393 |
    394 |               const themeGroups = THEMES.reduce((acc, theme) => {
    395 |                 acc[theme] = refs.filter(r => r.theme === theme);

ERROR in src/pages/LiteratureReview.tsx:394:63
TS1382: Unexpected token. Did you mean `{'>'}` or `&gt;`?
    392 |               });
    393 |
  > 394 |               const themeGroups = THEMES.reduce((acc, theme) => {
        |                                                               ^
    395 |                 acc[theme] = refs.filter(r => r.theme === theme);
    396 |                 return acc;
    397 |               }, {} as Record<string, Reference[]>);

ERROR in src/pages/LiteratureReview.tsx:395:65
TS1005: '}' expected.
    393 |
    394 |               const themeGroups = THEMES.reduce((acc, theme) => {
  > 395 |                 acc[theme] = refs.filter(r => r.theme === theme);
        |                                                                 ^
    396 |                 return acc;
    397 |               }, {} as Record<string, Reference[]>);
    398 |

ERROR in src/pages/LiteratureReview.tsx:397:15
TS1381: Unexpected token. Did you mean `{'}'}` or `&rbrace;`?
    395 |                 acc[theme] = refs.filter(r => r.theme === theme);
    396 |                 return acc;
  > 397 |               }, {} as Record<string, Reference[]>);
        |               ^
    398 |
    399 |               const gradeDistribution = GRADE_LEVELS.map(g => ({
    400 |                 grade: g, count: refs.filter(r => r.grade === g).length

ERROR in src/pages/LiteratureReview.tsx:397:37
TS1003: Identifier expected.
    395 |                 acc[theme] = refs.filter(r => r.theme === theme);
    396 |                 return acc;
  > 397 |               }, {} as Record<string, Reference[]>);
        |                                     ^
    398 |
    399 |               const gradeDistribution = GRADE_LEVELS.map(g => ({
    400 |                 grade: g, count: refs.filter(r => r.grade === g).length

ERROR in src/pages/LiteratureReview.tsx:397:50
TS1382: Unexpected token. Did you mean `{'>'}` or `&gt;`?
    395 |                 acc[theme] = refs.filter(r => r.theme === theme);
    396 |                 return acc;
  > 397 |               }, {} as Record<string, Reference[]>);
        |                                                  ^
    398 |
    399 |               const gradeDistribution = GRADE_LEVELS.map(g => ({
    400 |                 grade: g, count: refs.filter(r => r.grade === g).length

ERROR in src/pages/LiteratureReview.tsx:399:61
TS1382: Unexpected token. Did you mean `{'>'}` or `&gt;`?
    397 |               }, {} as Record<string, Reference[]>);
    398 |
  > 399 |               const gradeDistribution = GRADE_LEVELS.map(g => ({
        |                                                             ^
    400 |                 grade: g, count: refs.filter(r => r.grade === g).length
    401 |               }));
    402 |

ERROR in src/pages/LiteratureReview.tsx:400:22
TS1005: '}' expected.
    398 |
    399 |               const gradeDistribution = GRADE_LEVELS.map(g => ({
  > 400 |                 grade: g, count: refs.filter(r => r.grade === g).length
        |                      ^
    401 |               }));
    402 |
    403 |               return (

ERROR in src/pages/LiteratureReview.tsx:400:49
TS1382: Unexpected token. Did you mean `{'>'}` or `&gt;`?
    398 |
    399 |               const gradeDistribution = GRADE_LEVELS.map(g => ({
  > 400 |                 grade: g, count: refs.filter(r => r.grade === g).length
        |                                                 ^
    401 |               }));
    402 |
    403 |               return (

ERROR in src/pages/LiteratureReview.tsx:401:15
TS1381: Unexpected token. Did you mean `{'}'}` or `&rbrace;`?
    399 |               const gradeDistribution = GRADE_LEVELS.map(g => ({
    400 |                 grade: g, count: refs.filter(r => r.grade === g).length
  > 401 |               }));
        |               ^
    402 |
    403 |               return (
    404 |                 <div className="page">

ERROR in src/pages/LiteratureReview.tsx:409:13
TS1381: Unexpected token. Did you mean `{'}'}` or `&rbrace;`?
    407 |                 </div>
    408 |               );
  > 409 |             };
        |             ^
    410 |
    411 |             export default LiteratureReview;
    412 |                 </thead>

ERROR in src/pages/LiteratureReview.tsx:412:19
TS17002: Expected corresponding JSX closing tag for 'Reference'.
    410 |
    411 |             export default LiteratureReview;
  > 412 |                 </thead>
        |                   ^^^^^
    413 |                 <tbody>
    414 |                   {filtered.map((ref, i) => (
    415 |                     <tr key={ref.id} style={{ background: i % 2 === 0 ? '#f8f7f4' : 'white', borderBottom: '1px solid #eee' }}>

ERROR in src/pages/LiteratureReview.tsx:435:17
TS17002: Expected corresponding JSX closing tag for 'p'.
    433 |                   ))}
    434 |                 </tbody>
  > 435 |               </table>
        |                 ^^^^^
    436 |             </div>
    437 |           )}
    438 |         </div>

ERROR in src/pages/LiteratureReview.tsx:437:12
TS1381: Unexpected token. Did you mean `{'}'}` or `&rbrace;`?
    435 |               </table>
    436 |             </div>
  > 437 |           )}
        |            ^
    438 |         </div>
    439 |       )}
    440 |

ERROR in src/pages/LiteratureReview.tsx:439:8
TS1381: Unexpected token. Did you mean `{'}'}` or `&rbrace;`?
    437 |           )}
    438 |         </div>
  > 439 |       )}
        |        ^
    440 |
    441 |       {/* BIBLIOGRAPHY TAB */}
    442 |       {activeTab === 'bibliography' && (

ERROR in src/pages/LiteratureReview.tsx:660:1
TS1128: Declaration or statement expected.
    658 |     </div>
    659 |   );
  > 660 | }
        | ^
    661 |

ERROR in src/pages/SubgroupAnalysis.tsx:312:32
TS2322: Type '(val: any, name: string) => [any, string]' is not assignable to type 'Formatter<any, string> & ((value: any, name: string, item: Payload<any, string>, index: number, payload: Payload<any, string>[]) => ReactNode | [...])'.
  Type '(val: any, name: string) => [any, string]' is not assignable to type 'Formatter<any, string>'.
    Types of parameters 'name' and 'name' are incompatible.
      Type 'string | undefined' is not assignable to type 'string'.
        Type 'undefined' is not assignable to type 'string'.
    310 |                         tickFormatter={v => measure === 'OR' ? v.toFixed(1) : v.toFixed(2)} />
    311 |                       <YAxis type="category" dataKey="name" width={75} tick={{ fontSize: 12 }} />
  > 312 |                       <Tooltip formatter={(val: any, name: string) => [
        |                                ^^^^^^^^^
    313 |                         name === 'effect' ? `${measure}: ${val}` : val, name
    314 |                       ]} />
    315 |                       <ReferenceLine x={nullVal} stroke="#888" strokeDasharray="4 3" />

ERROR in src/pages/VisualisationStudio.tsx:229:45
TS2322: Type '(({ name, percent }: { name: string; percent?: number | undefined; }) => string) | undefined' is not assignable to type 'PieLabel | undefined'.
  Type '({ name, percent }: { name: string; percent?: number | undefined; }) => string' is not assignable to type 'PieLabel | undefined'.
    Type '({ name, percent }: { name: string; percent?: number | undefined; }) => string' is not assignable to type '(props: PieLabelRenderProps) => ReactNode | ReactElement<SVGElement, string | JSXElementConstructor<any>>'.
      Types of parameters '__0' and 'props' are incompatible.
        Type 'PieLabelRenderProps' is not assignable to type '{ name: string; percent?: number | undefined; }'.
          Types of property 'name' are incompatible.
            Type 'string | undefined' is not assignable to type 'string'.
              Type 'undefined' is not assignable to type 'string'.
    227 |           <PieChart>
    228 |             <Pie data={chartData} dataKey="value" nameKey="name" cx="50%" cy="50%"
  > 229 |               outerRadius={chartHeight / 3} label={showValues ? ({ name, percent }: { name: string, percent?: number }) => `${name} ${((percent || 0) * 100).toFixed(1)}%` : undefined}
        |                                             ^^^^^
    230 |               opacity={opacity}>
    231 |               {chartData.map((_: any, index: number) => (
    232 |                 <Cell key={index} fill={palette[index % palette.length]} />

